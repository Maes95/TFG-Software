(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[179],{331:(Pe,I,ae)=>{"use strict";let ce=null,Q=1;const v=Symbol("SIGNAL");function T(e){const n=ce;return ce=e,n}function V(e){if((!de(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Q)){if(!e.producerMustRecompute(e)&&!N(e))return e.dirty=!1,void(e.lastCleanEpoch=Q);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Q}}function N(e){Oe(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(V(t),i!==t.version))return!0}return!1}function fe(e,n){if(function Me(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Oe(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)fe(e.producerNode[i],e.producerIndexOfThis[i]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Oe(r),r.producerIndexOfThis[i]=n}}function de(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Oe(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let _=null;function xe(e){return"function"==typeof e}function Ne(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const He=Ne(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function we(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Ie{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(xe(i))try{i()}catch(s){n=s instanceof He?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{lt(s)}catch(o){n=n??[],o instanceof He?n=[...n,...o.errors]:n.push(o)}}if(n)throw new He(n)}}add(n){var t;if(n&&n!==this)if(this.closed)lt(n);else{if(n instanceof Ie){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&we(t,n)}remove(n){const{_finalizers:t}=this;t&&we(t,n),n instanceof Ie&&n._removeParent(this)}}Ie.EMPTY=(()=>{const e=new Ie;return e.closed=!0,e})();const qe=Ie.EMPTY;function Te(e){return e instanceof Ie||e&&"closed"in e&&xe(e.remove)&&xe(e.add)&&xe(e.unsubscribe)}function lt(e){xe(e)?e():e.unsubscribe()}const ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},et={setTimeout(e,n,...t){const{delegate:i}=et;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=et;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function bt(e){et.setTimeout(()=>{const{onUnhandledError:n}=ct;if(!n)throw e;n(e)})}function ft(){}const Jt=un("C",void 0,void 0);function un(e,n,t){return{kind:e,value:n,error:t}}let Yt=null;function Yi(e){if(ct.useDeprecatedSynchronousErrorHandling){const n=!Yt;if(n&&(Yt={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=Yt;if(Yt=null,t)throw i}}else e()}class Or extends Ie{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Te(n)&&n.add(this)):this.destination=At}static create(n,t,i){return new Ve(n,t,i)}next(n){this.isStopped?nt(function kn(e){return un("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?nt(function dn(e){return un("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?nt(Jt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zo=Function.prototype.bind;function pi(e,n){return zo.call(e,n)}class Xn{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){De(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){De(i)}else De(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){De(t)}}}class Ve extends Or{constructor(n,t,i){let r;if(super(),xe(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ct.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&pi(n.next,s),error:n.error&&pi(n.error,s),complete:n.complete&&pi(n.complete,s)}):r=n}this.destination=new Xn(r)}}function De(e){ct.useDeprecatedSynchronousErrorHandling?function vr(e){ct.useDeprecatedSynchronousErrorHandling&&Yt&&(Yt.errorThrown=!0,Yt.error=e)}(e):bt(e)}function nt(e,n){const{onStoppedNotification:t}=ct;t&&et.setTimeout(()=>t(e,n))}const At={closed:!0,next:ft,error:function Se(e){throw e},complete:ft},Nt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ct(e){return e}function zn(e){return 0===e.length?Ct:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let Ut=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function Bt(e){return e&&e instanceof Or||function Rr(e){return e&&xe(e.next)&&xe(e.error)&&xe(e.complete)}(e)&&Te(e)}(t)?t:new Ve(t,i,r);return Yi(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Zn(i))((r,s)=>{const o=new Ve({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Nt](){return this}pipe(...t){return zn(t)(this)}toPromise(t){return new(t=Zn(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=n=>new e(n),e})();function Zn(e){var n;return null!==(n=e??ct.Promise)&&void 0!==n?n:Promise}const Ki=Ne(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ut=(()=>{class e extends Ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new lr(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Ki}next(t){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?qe:(this.currentObservers=null,s.push(t),new Ie(()=>{this.currentObservers=null,we(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Ut;return t.source=this,t}}return e.create=(n,t)=>new lr(n,t),e})();class lr extends ut{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:qe}}class Zt extends ut{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Jn(e){return xe(e?.lift)}function An(e){return n=>{if(Jn(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function on(e,n,t,i,r){return new gi(e,n,t,i,r)}class gi extends Or{constructor(n,t,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function dt(e,n){return An((t,i)=>{let r=0;t.subscribe(on(i,s=>{i.next(e.call(n,s,r++))}))})}const Rd="https://g.co/ng/security#xss";class Le extends Error{constructor(n,t){super(function js(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function yn(e){for(let n in e)if(e[n]===yn)return n;throw Error("Could not find renamed property on target object.")}function i_(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ei(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ei).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Nd(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const vo=yn({__forward_ref__:yn});function Pt(e){return e.__forward_ref__=Pt,e.toString=function(){return ei(this())},e}function xt(e){return Fl(e)?e():e}function Fl(e){return"function"==typeof e&&e.hasOwnProperty(vo)&&e.__forward_ref__===Pt}function Ta(e){return e&&!!e.\u0275providers}const Ma=yn({\u0275cmp:yn}),Pd=yn({\u0275dir:yn}),Fd=yn({\u0275pipe:yn}),lf=yn({\u0275mod:yn}),Ds=yn({\u0275fac:yn}),mn=yn({__NG_ELEMENT_ID__:yn}),cf=yn({__NG_ENV_ID__:yn});function kt(e){return"string"==typeof e?e:null==e?"":String(e)}function Ll(e,n){throw new Le(-201,!1)}function ir(e,n){null==e&&function Et(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return yo(e,qo)||yo(e,pf)}function yo(e,n){return e.hasOwnProperty(n)?e[n]:null}function Vl(e){return e&&(e.hasOwnProperty(Ul)||e.hasOwnProperty(c_))?e[Ul]:null}const qo=yn({\u0275prov:yn}),Ul=yn({\u0275inj:yn}),pf=yn({ngInjectableDef:yn}),c_=yn({ngInjectorDef:yn});var Kt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Kt||{});let Ld;function gf(){return Ld}function rr(e){const n=Ld;return Ld=e,n}function bo(e,n,t){const i=Bl(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Kt.Optional?null:void 0!==n?n:void Ll()}const pn=globalThis;class Xe{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ka={},jl="__NG_DI_FLAG__",Ws="ngTempTokenPath",p_=/\n/gm,jd="__source";let Nr;function zs(e){const n=Nr;return Nr=e,n}function __(e,n=Kt.Default){if(void 0===Nr)throw new Le(-203,!1);return null===Nr?bo(e,void 0,n):Nr.get(e,n&Kt.Optional?null:void 0,n)}function Ge(e,n=Kt.Default){return(gf()||__)(xt(e),n)}function Ke(e,n=Kt.Default){return Ge(e,Hl(n))}function Hl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hd(e){const n=[];for(let t=0;t<e.length;t++){const i=xt(e[t]);if(Array.isArray(i)){if(0===i.length)throw new Le(900,!1);let r,s=Kt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=v_(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}n.push(Ge(r,s))}else n.push(Ge(i))}return n}function Oa(e,n){return e[jl]=n,e.prototype[jl]=n,e}function v_(e){return e[jl]}function br(e){return{toString:e}.toString()}var Gl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Gl||{}),Pr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pr||{});const ns={},an=[];var vt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(vt||{});function $l(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}t=r+1}}function Wl(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];e.setAttribute(n,o,a,s)}else{const s=r,o=t[++i];zl(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),i++}}return i}function Gd(e){return 3===e||4===e||6===e}function zl(e){return 64===e.charCodeAt(0)}function qs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||bf(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function bf(e,n,t,i,r){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}const $d="ng-template";function wf(e,n,t){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const o=e[i++];if(t&&"class"===s&&-1!==$l(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Wd(e){return 4===e.type&&e.value!==$d}function Cf(e,n,t){return n===(4!==e.type||t?e.value:$d)}function xf(e,n,t){let i=4;const r=e.attrs||[],s=function Yo(e){for(let n=0;n<e.length;n++)if(Gd(e[n]))return n;return e.length}(r);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Cf(e,l,t)||""===l&&1===n.length){if(wr(i))return!1;o=!0}}else{const c=8&i?l:n[++a];if(8&i&&null!==e.attrs){if(!wf(e.attrs,c,t)){if(wr(i))return!1;o=!0}continue}const m=Ef(8&i?"class":l,r,Wd(e),t);if(-1===m){if(wr(i))return!1;o=!0;continue}if(""!==c){let F;F=m>s?"":r[m+1].toLowerCase();const K=8&i?F:null;if(K&&-1!==$l(K,c,0)||2&i&&c!==F){if(wr(i))return!1;o=!0}}}}else{if(!o&&!wr(i)&&!wr(l))return!1;if(o&&wr(l))continue;o=!1,i=l|1&i}}return wr(i)||o}function wr(e){return 0==(1&e)}function Ef(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let s=!1;for(;r<n.length;){const o=n[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function y_(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function zd(e,n,t=!1){for(let i=0;i<n.length;i++)if(xf(e,n[i],t))return!0;return!1}function b_(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Df(e,n){return e?":not("+n.trim()+")":n}function Sf(e){let n=e[0],t=1,i=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&i){const a=e[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!wr(o)&&(n+=Df(s,r),r=""),i=o,s=s||!wr(i);t++}return""!==r&&(n+=Df(s,r)),n}function jt(e){return br(()=>{const n=If(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pr.Emulated,styles:e.styles||an,_:null,schemas:e.schemas||null,tView:null,id:""};kf(t);const i=e.dependencies;return t.directiveDefs=Co(i,!1),t.pipeDefs=Co(i,!0),t.id=function E_(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function w_(e){return Ht(e)||ai(e)}function C_(e){return null!==e}function Ot(e){return br(()=>({type:e.type,bootstrap:e.bootstrap||an,declarations:e.declarations||an,imports:e.imports||an,exports:e.exports||an,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qd(e,n){if(null==e)return ns;const t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];let s,o,a=vt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),n?(t[s]=a!==vt.None?[i,a]:i,n[s]=o):t[s]=i}return t}function Be(e){return br(()=>{const n=If(e);return kf(n),n})}function Li(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ht(e){return e[Ma]||null}function ai(e){return e[Pd]||null}function mi(e){return e[Fd]||null}function Bi(e,n){const t=e[lf]||null;if(!t&&!0===n)throw new Error(`Type ${ei(e)} does not have '\u0275mod' property.`);return t}function If(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ns,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||an,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qd(e.inputs,n),outputs:qd(e.outputs),debugInfo:null}}function kf(e){e.features?.forEach(n=>n(e))}function Co(e,n){if(!e)return null;const t=n?mi:w_;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(C_)}const Ln=0,Ze=1,gt=2,ti=3,Fr=4,Vi=5,Lr=6,xo=7,Dn=8,Qi=9,Ss=10,Ft=11,Ko=12,ql=13,Qo=14,Hn=15,Ra=16,Xo=17,Br=18,Na=19,Of=20,Ks=21,Yl=22,Eo=23,Rt=25,Yd=1,is=7,Ao=9,ni=10;var Kd=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Kd||{});function Ui(e){return Array.isArray(e)&&"object"==typeof e[Yd]}function ji(e){return Array.isArray(e)&&!0===e[Yd]}function Qd(e){return 0!=(4&e.flags)}function Qs(e){return e.componentOffset>-1}function Kl(e){return 1==(1&e.flags)}function Vr(e){return!!e.template}function Xd(e){return 0!=(512&e[gt])}function Fa(e,n){return e.hasOwnProperty(Ds)?e[Ds]:null}class JP{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function z1(e,n,t,i){null!==n?n.applyValueToInputSignal(n,i):e[t]=i}function li(){return q1}function q1(e){return e.type.prototype.ngOnChanges&&(e.setInput=t2),e2}function e2(){const e=K1(this),n=e?.current;if(n){const t=e.previous;if(t===ns)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function t2(e,n,t,i,r){const s=this.declaredInputs[i],o=K1(e)||function n2(e,n){return e[Y1]=n}(e,{previous:ns,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new JP(c&&c.currentValue,t,l===ns),z1(e,n,r,t)}li.ngInherit=!0;const Y1="__ngSimpleChanges__";function K1(e){return e[Y1]||null}const Xs=function(e,n,t){};let Z1=!1;function On(e){for(;Array.isArray(e);)e=e[Ln];return e}function eu(e,n){return On(n[e])}function cr(e,n){return On(n[e.index])}function tu(e,n){return e.data[n]}function Zl(e,n){return e[n]}function Ur(e,n){const t=n[e];return Ui(t)?t:t[Ln]}function I_(e){return 128==(128&e[gt])}function Zs(e,n){return null==n?null:e[n]}function J1(e){e[Xo]=0}function l2(e){1024&e[gt]||(e[gt]|=1024,I_(e)&&nu(e))}function tC(e){return 9216&e[gt]||e[Eo]?.dirty}function k_(e){tC(e)?nu(e):64&e[gt]&&(function r2(){return Z1}()?(e[gt]|=1024,nu(e)):e[Ss].changeDetectionScheduler?.notify())}function nu(e){e[Ss].changeDetectionScheduler?.notify();let n=La(e);for(;null!==n&&!(8192&n[gt])&&(n[gt]|=8192,I_(n));)n=La(n)}function Nf(e,n){if(256==(256&e[gt]))throw new Le(911,!1);null===e[Ks]&&(e[Ks]=[]),e[Ks].push(n)}function La(e){const n=e[ti];return ji(n)?n[ti]:n}const Mt={lFrame:uC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iC(){return Mt.bindingsEnabled}function Jl(){return null!==Mt.skipHydrationRootTNode}function $e(){return Mt.lFrame.lView}function ln(){return Mt.lFrame.tView}function Qt(e){return Mt.lFrame.contextLView=e,e[Dn]}function Xt(e){return Mt.lFrame.contextLView=null,e}function Rn(){let e=rC();for(;null!==e&&64===e.type;)e=e.parent;return e}function rC(){return Mt.lFrame.currentTNode}function Js(e,n){const t=Mt.lFrame;t.currentTNode=e,t.isParent=n}function R_(){return Mt.lFrame.isParent}function N_(){Mt.lFrame.isParent=!1}function dr(){const e=Mt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Do(){return Mt.lFrame.bindingIndex}function eo(){return Mt.lFrame.bindingIndex++}function So(e){const n=Mt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function y2(e,n){const t=Mt.lFrame;t.bindingIndex=t.bindingRootIndex=e,P_(n)}function P_(e){Mt.lFrame.currentDirectiveIndex=e}function lC(){return Mt.lFrame.currentQueryIndex}function L_(e){Mt.lFrame.currentQueryIndex=e}function w2(e){const n=e[Ze];return 2===n.type?n.declTNode:1===n.type?e[Vi]:null}function cC(e,n,t){if(t&Kt.SkipSelf){let r=n,s=e;for(;!(r=r.parent,null!==r||t&Kt.Host||(r=w2(s),null===r||(s=s[Qo],10&r.type))););if(null===r)return!1;n=r,e=s}const i=Mt.lFrame=dC();return i.currentTNode=n,i.lView=e,!0}function B_(e){const n=dC(),t=e[Ze];Mt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function dC(){const e=Mt.lFrame,n=null===e?null:e.child;return null===n?uC(e):n}function uC(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function hC(){const e=Mt.lFrame;return Mt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const fC=hC;function V_(){const e=hC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sr(){return Mt.lFrame.selectedIndex}function Ba(e){Mt.lFrame.selectedIndex=e}function $n(){const e=Mt.lFrame;return tu(e.tView,e.selectedIndex)}let _C=!0;function Pf(){return _C}function Zo(e){_C=e}function Ff(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-t,o),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=u&&(e.destroyHooks??=[]).push(t,u)}}function Lf(e,n,t){vC(e,n,3,t)}function Bf(e,n,t,i){(3&e[gt])===t&&vC(e,n,t,i)}function U_(e,n){let t=e[gt];(3&t)===n&&(t&=16383,t+=1,e[gt]=t)}function vC(e,n,t,i){const s=i??-1,o=n.length-1;let a=0;for(let l=void 0!==i?65535&e[Xo]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(e[Xo]+=65536),(a<s||-1==s)&&(D2(e,t,n,l),e[Xo]=(4294901760&e[Xo])+l+2),l++}function yC(e,n){Xs(4,e,n);const t=T(null);try{n.call(e)}finally{T(t),Xs(5,e,n)}}function D2(e,n,t,i){const r=t[i]<0,s=t[i+1],a=e[r?-t[i]:t[i]];r?e[gt]>>14<e[Xo]>>16&&(3&e[gt])===n&&(e[gt]+=16384,yC(a,s)):yC(a,s)}const ec=-1;class ru{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function H_(e){return e!==ec}function su(e){return 32767&e}function ou(e,n){let t=function k2(e){return e>>16}(e),i=n;for(;t>0;)i=i[Qo],t--;return i}let G_=!0;function Vf(e){const n=G_;return G_=e,n}const bC=255,wC=5;let O2=0;const to={};function Uf(e,n){const t=CC(e,n);if(-1!==t)return t;const i=n[Ze];i.firstCreatePass&&(e.injectorIndex=n.length,$_(i.data,e),$_(n,null),$_(i.blueprint,null));const r=jf(e,n),s=e.injectorIndex;if(H_(r)){const o=su(r),a=ou(r,n),l=a[Ze].data;for(let c=0;c<8;c++)n[s+c]=a[o+c]|l[o+c]}return n[s+8]=r,s}function $_(e,n){e.push(0,0,0,0,0,0,0,0,n)}function CC(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function jf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=MC(r),null===i)return ec;if(t++,r=r[Qo],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ec}function W_(e,n,t){!function R2(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(mn)&&(i=t[mn]),null==i&&(i=t[mn]=O2++);const r=i&bC;n.data[e+(r>>wC)]|=1<<r}(e,n,t)}function xC(e,n,t){if(t&Kt.Optional||void 0!==e)return e;Ll()}function EC(e,n,t,i){if(t&Kt.Optional&&void 0===i&&(i=null),!(t&(Kt.Self|Kt.Host))){const r=e[Qi],s=rr(void 0);try{return r?r.get(n,i,t&Kt.Optional):bo(n,i,t&Kt.Optional)}finally{rr(s)}}return xC(i,0,t)}function AC(e,n,t,i=Kt.Default,r){if(null!==e){if(2048&n[gt]&&!(i&Kt.Self)){const o=function B2(e,n,t,i,r){let s=e,o=n;for(;null!==s&&null!==o&&2048&o[gt]&&!(512&o[gt]);){const a=DC(s,o,t,i|Kt.Self,to);if(a!==to)return a;let l=s.parent;if(!l){const c=o[Of];if(c){const u=c.get(t,to,i);if(u!==to)return u}l=MC(o),o=o[Qo]}s=l}return r}(e,n,t,i,to);if(o!==to)return o}const s=DC(e,n,t,i,to);if(s!==to)return s}return EC(n,t,i,r)}function DC(e,n,t,i,r){const s=function F2(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(mn)?e[mn]:void 0;return"number"==typeof n?n>=0?n&bC:L2:n}(t);if("function"==typeof s){if(!cC(n,e,i))return i&Kt.Host?xC(r,0,i):EC(n,t,i,r);try{let o;if(o=s(i),null!=o||i&Kt.Optional)return o;Ll()}finally{fC()}}else if("number"==typeof s){let o=null,a=CC(e,n),l=ec,c=i&Kt.Host?n[Hn][Vi]:null;for((-1===a||i&Kt.SkipSelf)&&(l=-1===a?jf(e,n):n[a+8],l!==ec&&TC(i,!1)?(o=n[Ze],a=su(l),n=ou(l,n)):a=-1);-1!==a;){const u=n[Ze];if(SC(s,a,u.data)){const m=P2(a,n,t,o,i,c);if(m!==to)return m}l=n[a+8],l!==ec&&TC(i,n[Ze].data[a+8]===c)&&SC(s,a,n)?(o=u,a=su(l),n=ou(l,n)):a=-1}}return r}function P2(e,n,t,i,r,s){const o=n[Ze],a=o.data[e+8],u=Hf(a,o,t,null==i?Qs(a)&&G_:i!=o&&0!=(3&a.type),r&Kt.Host&&s===a);return null!==u?Va(n,o,u,a):to}function Hf(e,n,t,i,r){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,u=s>>20,F=r?a+u:e.directiveEnd;for(let K=i?a:a+u;K<F;K++){const le=o[K];if(K<l&&t===le||K>=l&&le.type===t)return K}if(r){const K=o[l];if(K&&Vr(K)&&K.type===t)return l}return null}function Va(e,n,t,i){let r=e[t];const s=n.data;if(function S2(e){return e instanceof ru}(r)){const o=r;o.resolving&&function s_(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Le(-200,`Circular dependency in DI detected for ${e}${t}`)}(function fn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():kt(e)}(s[t]));const a=Vf(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?rr(o.injectImpl):null;cC(e,i,Kt.Default);try{r=e[t]=o.factory(void 0,s,e,i),n.firstCreatePass&&t>=i.directiveStart&&function A2(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const o=q1(n);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==c&&rr(c),Vf(a),o.resolving=!1,fC()}}return r}function SC(e,n,t){return!!(t[n+(e>>wC)]&1<<e)}function TC(e,n){return!(e&Kt.Self||e&Kt.Host&&n)}class Mi{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return AC(this._tNode,this._lView,n,Hl(i),t)}}function L2(){return new Mi(Rn(),$e())}function ht(e){return br(()=>{const n=e.prototype.constructor,t=n[Ds]||z_(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Ds]||z_(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function z_(e){return Fl(e)?()=>{const n=z_(xt(e));return n&&n()}:Fa(e)}function MC(e){const n=e[Ze],t=n.type;return 2===t?n.declTNode:1===t?e[Vi]:null}const rc="__parameters__";function oc(e,n,t){return br(()=>{const i=function q_(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const m=l.hasOwnProperty(rc)?l[rc]:Object.defineProperty(l,rc,{value:[]})[rc];for(;m.length<=u;)m.push(null);return(m[u]=m[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function lc(e,n){e.forEach(t=>Array.isArray(t)?lc(t,n):n(t))}function kC(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Gf(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function jr(e,n,t){let i=cc(e,n);return i>=0?e[1|i]=t:(i=~i,function OC(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function K_(e,n){const t=cc(e,n);if(t>=0)return e[1|t]}function cc(e,n){return function RC(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=e[s<<t];if(n===o)return s<<t;o>n?r=s:i=s+1}return~(r<<t)}(e,n,1)}const zf=Oa(oc("Optional"),8),qf=Oa(oc("SkipSelf"),4),ja=new Xe(""),LC=new Xe("",-1),Z_=new Xe("");class Kf{get(n,t=ka){if(t===ka){const i=new Error(`NullInjectorError: No provider for ${ei(n)}!`);throw i.name="NullInjectorError",i}return t}}function oF(...e){return{\u0275providers:BC(0,e),\u0275fromNgModule:!0}}function BC(e,...n){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return lc(n,o=>{const a=o;Xf(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&VC(r,s),t}function VC(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];J_(r,s=>{n(s,i)})}}function Xf(e,n,t,i){if(!(e=xt(e)))return!1;let r=null,s=Vl(e);const o=!s&&Ht(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=Vl(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Xf(c,n,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{lc(s.imports,u=>{Xf(u,n,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&VC(c,n)}if(!a){const c=Fa(r)||(()=>new r);n({provide:r,useFactory:c,deps:an},r),n({provide:Z_,useValue:r,multi:!0},r),n({provide:ja,useValue:()=>Ge(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=e;J_(l,u=>{n(u,c)})}}}return r!==e&&void 0!==e.providers}function J_(e,n){for(let t of e)Ta(t)&&(t=t.\u0275providers),Array.isArray(t)?J_(t,n):n(t)}const aF=yn({provide:String,useValue:yn});function ev(e){return null!==e&&"object"==typeof e&&aF in e}function Ha(e){return"function"==typeof e}const tv=new Xe(""),Zf={},cF={};let nv;function Jf(){return void 0===nv&&(nv=new Kf),nv}class ur{}class uc extends ur{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rv(n,o=>this.processProvider(o)),this.records.set(LC,hc(void 0,this)),r.has("environment")&&this.records.set(ur,hc(void 0,this));const s=this.records.get(tv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Z_,an,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=zs(this),i=rr(void 0);try{return n()}finally{zs(t),rr(i)}}get(n,t=ka,i=Kt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(cf))return n[cf](this);i=Hl(i);const s=zs(this),o=rr(void 0);try{if(!(i&Kt.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function pF(e){return"function"==typeof e||"object"==typeof e&&e instanceof Xe}(n)&&Bl(n);l=c&&this.injectableDefInScope(c)?hc(iv(n),Zf):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&Kt.Self?Jf():this.parent).get(n,t=i&Kt.Optional&&t===ka?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ws]=a[Ws]||[]).unshift(ei(n)),s)throw a;return function vf(e,n,t,i){const r=e[Ws];throw n[jd]&&r.unshift(n[jd]),e.message=function yf(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=ei(n);if(Array.isArray(n))r=n.map(ei).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ei(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(p_,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[Ws]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{rr(o),zs(s)}}resolveInjectorInitializers(){const n=zs(this),t=rr(void 0);try{const r=this.get(ja,an,Kt.Self);for(const s of r)s()}finally{zs(n),rr(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(ei(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(n){let t=Ha(n=xt(n))?n:xt(n&&n.provide);const i=function uF(e){return ev(e)?hc(void 0,e.useValue):hc(HC(e),Zf)}(n);if(!Ha(n)&&!0===n.multi){let r=this.records.get(t);r||(r=hc(void 0,Zf,!0),r.factory=()=>Hd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===Zf&&(t.value=cF,t.value=t.factory()),"object"==typeof t.value&&t.value&&function fF(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=xt(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function iv(e){const n=Bl(e),t=null!==n?n.factory:Fa(e);if(null!==t)return t;if(e instanceof Xe)throw new Le(204,!1);if(e instanceof Function)return function dF(e){if(e.length>0)throw new Le(204,!1);const t=function ff(e){return e&&(e[qo]||e[pf])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Le(204,!1)}function HC(e,n,t){let i;if(Ha(e)){const r=xt(e);return Fa(r)||iv(r)}if(ev(e))i=()=>xt(e.useValue);else if(function jC(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Hd(e.deps||[]));else if(function UC(e){return!(!e||!e.useExisting)}(e))i=()=>Ge(xt(e.useExisting));else{const r=xt(e&&(e.useClass||e.provide));if(!function hF(e){return!!e.deps}(e))return Fa(r)||iv(r);i=()=>new r(...Hd(e.deps))}return i}function hc(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function rv(e,n){for(const t of e)Array.isArray(t)?rv(t,n):t&&Ta(t)?rv(t.\u0275providers,n):n(t)}function Jo(e,n){e instanceof uc&&e.assertNotDestroyed();const i=zs(e),r=rr(void 0);try{return n()}finally{zs(i),rr(r)}}function zC(e,n=null,t=null,i){const r=qC(e,n,t,i);return r.resolveInjectorInitializers(),r}function qC(e,n=null,t=null,i,r=new Set){const s=[t||an,oF(e)];return i=i||("object"==typeof e?void 0:ei(e)),new uc(s,n||Jf(),i||null,r)}let av,Hi=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=ka;static#t=this.NULL=new Kf;static create(t,i){if(Array.isArray(t))return zC({name:""},i,t,"");{const r=t.name??"";return zC({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=je({token:e,providedIn:"any",factory:()=>Ge(LC)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();const tp=new Xe("",{providedIn:"root",factory:()=>xF}),xF="ng",KC=new Xe(""),Xi=new Xe("",{providedIn:"platform",factory:()=>"unknown"}),np=new Xe(""),lv=new Xe("",{providedIn:"root",factory:()=>function ta(){if(void 0!==av)return av;if(typeof document<"u")return document;throw new Le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Hr(e){return e instanceof Function?e():e}function op(e){return 128==(128&e.flags)}var ra=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ra||{});const RF=/^>|^->|<!--|-->|--!>|<!-$/g,NF=/(<|>)/g,PF="\u200b$1\u200b";const fv=new Map;let FF=0;const gv="__ngContext__";function or(e,n){Ui(n)?(e[gv]=n[Na],function BF(e){fv.set(e[Na],e)}(n)):e[gv]=n}let mv;function _v(e,n){return mv(e,n)}function pc(e,n,t,i,r){if(null!=i){let s,o=!1;ji(i)?s=i:Ui(i)&&(o=!0,i=i[Ln]);const a=On(i);0===e&&null!==t?null==r?_x(n,t,a):Ga(n,t,a,r||null,!0):1===e&&null!==t?Ga(n,t,a,r||null,!0):2===e?function fp(e,n,t){const i=up(e,n);i&&function eL(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function iL(e,n,t,i,r){const s=t[is];s!==On(t)&&pc(n,e,i,s,r);for(let a=ni;a<t.length;a++){const l=t[a];pp(l[Ze],l,e,n,i,s)}}(n,e,s,t,r)}}function vv(e,n){return e.createComment(function sx(e){return e.replace(RF,n=>n.replace(NF,PF))}(n))}function cp(e,n,t){return e.createElement(n,t)}function px(e,n){pp(e,n,n[Ft],2,null,null)}function gx(e,n){const t=e[Ao],i=t.indexOf(n);t.splice(i,1)}function fu(e,n){if(e.length<=ni)return;const t=ni+n,i=e[t];if(i){const r=i[Ra];null!==r&&r!==e&&gx(r,i),n>0&&(e[t-1][Fr]=i[Fr]);const s=Gf(e,ni+n);!function qF(e,n){px(e,n),n[Ln]=null,n[Vi]=null}(i[Ze],i);const o=s[Br];null!==o&&o.detachView(s[Ze]),i[ti]=null,i[Fr]=null,i[gt]&=-129}return i}function dp(e,n){if(!(256&n[gt])){const t=n[Ft];t.destroyNode&&pp(e,n,t,3,null,null),function KF(e){let n=e[Ko];if(!n)return yv(e[Ze],e);for(;n;){let t=null;if(Ui(n))t=n[Ko];else{const i=n[ni];i&&(t=i)}if(!t){for(;n&&!n[Fr]&&n!==e;)Ui(n)&&yv(n[Ze],n),n=n[ti];null===n&&(n=e),Ui(n)&&yv(n[Ze],n),t=n&&n[Fr]}n=t}}(n)}}function yv(e,n){if(!(256&n[gt])){n[gt]&=-129,n[gt]|=256,n[Eo]&&function ee(e){if(Oe(e),de(e))for(let n=0;n<e.producerNode.length;n++)fe(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[Eo]),function JF(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof ru)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Xs(4,a,l);try{l.call(a)}finally{Xs(5,a,l)}}else{Xs(4,r,s);try{s.call(r)}finally{Xs(5,r,s)}}}}}(e,n),function ZF(e,n){const t=e.cleanup,i=n[xo];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(n[xo]=null);const r=n[Ks];if(null!==r){n[Ks]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,n),1===n[Ze].type&&n[Ft].destroy();const t=n[Ra];if(null!==t&&ji(n[ti])){t!==n[ti]&&gx(t,n);const i=n[Br];null!==i&&i.detachView(e)}!function VF(e){fv.delete(e[Na])}(n)}}function bv(e,n,t){return function mx(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[Ln];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===Pr.None||s===Pr.Emulated)return null}return cr(i,t)}}(e,n.parent,t)}function Ga(e,n,t,i,r){e.insertBefore(n,t,i,r)}function _x(e,n,t){e.appendChild(n,t)}function vx(e,n,t,i,r){null!==i?Ga(e,n,t,i,r):_x(e,n,t)}function up(e,n){return e.parentNode(n)}function yx(e,n,t){return wx(e,n,t)}let wv,mp,wx=function bx(e,n,t){return 40&e.type?cr(e,t):null};function hp(e,n,t,i){const r=bv(e,i,n),s=n[Ft],a=yx(i.parent||n[Vi],i,n);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)vx(s,r,t[l],a,!1);else vx(s,r,t,a,!1);void 0!==wv&&wv(s,i,n,t,r)}function pu(e,n){if(null!==n){const t=n.type;if(3&t)return cr(n,e);if(4&t)return Cv(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return pu(e,i);{const r=e[n.index];return ji(r)?Cv(-1,r):On(r)}}if(32&t)return _v(n,e)()||On(e[n.index]);{const i=xx(e,n);return null!==i?Array.isArray(i)?i[0]:pu(La(e[Hn]),i):pu(e,n.next)}}return null}function xx(e,n){return null!==n?e[Hn][Vi].projection[n.projection]:null}function Cv(e,n){const t=ni+e+1;if(t<n.length){const i=n[t],r=i[Ze].firstChild;if(null!==r)return pu(i,r)}return n[is]}function xv(e,n,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===n&&(a&&or(On(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)xv(e,n,t.child,i,r,s,!1),pc(n,e,r,a,s);else if(32&l){const c=_v(t,i);let u;for(;u=c();)pc(n,e,r,u,s);pc(n,e,r,a,s)}else 16&l?Ax(e,n,i,t,r,s):pc(n,e,r,a,s);t=o?t.projectionNext:t.next}}function pp(e,n,t,i,r,s){xv(t,i,e.firstChild,n,r,s,!1)}function Ax(e,n,t,i,r,s){const o=t[Hn],l=o[Vi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)pc(n,e,r,l[c],s);else{let c=l;const u=o[ti];op(i)&&(c.flags|=128),xv(e,n,c,u,r,s,!0)}}function Dx(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Sx(e,n,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Wl(e,n,i),null!==r&&Dx(e,n,r),null!==s&&function sL(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}function Ix(e){return function Av(){if(void 0===mp&&(mp=null,pn.trustedTypes))try{mp=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return mp}()?.createScriptURL(e)||e}class $a{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rd})`}}function Gr(e){return e instanceof $a?e.changingThisBreaksApplicationSecurity:e}function no(e,n){const t=function pL(e){return e instanceof $a&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Rd})`)}return t===n}const xL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $r=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}($r||{});function os(e){const n=mu();return n?n.sanitize($r.URL,e)||"":no(e,"URL")?Gr(e):function _p(e){return(e=String(e)).match(xL)?e:"unsafe:"+e}(kt(e))}function Bx(e){const n=mu();if(n)return Ix(n.sanitize($r.RESOURCE_URL,e)||"");if(no(e,"ResourceURL"))return Ix(Gr(e));throw new Le(904,!1)}function mu(){const e=$e();return e&&e[Ss].sanitizer}class Mv{}let Ux=()=>null;function Lv(e,n,t=!1){return Ux(e,n,t)}class GL{}class Wx{}class WL{resolveComponentFactory(n){throw function $L(e){const n=Error(`No component factory found for ${ei(e)}.`);return n.ngComponent=e,n}(n)}}let Ep=(()=>{class e{static#e=this.NULL=new WL}return e})();function zL(){return yc(Rn(),$e())}function yc(e,n){return new pt(cr(e,n))}let pt=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=zL}return e})();function qL(e){return e instanceof pt?e.nativeElement:e}class Ap{}let hr=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function YL(){const e=$e(),t=Ur(Rn().index,e);return(Ui(t)?t:e)[Ft]}()}return e})(),KL=(()=>{class e{static#e=this.\u0275prov=je({token:e,providedIn:"root",factory:()=>null})}return e})();const jv={};function Dp(e){return!!Hv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Hv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}class Yx{constructor(){}supports(n){return Dp(n)}create(n){return new t3(n)}}const e3=(e,n)=>n;class t3{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||e3}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<Qx(i,r,s)?t:i,a=Qx(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let F=0;F<c;F++){const K=F<s.length?s[F]:s[F]=0,le=K+F;u<=le&&le<c&&(s[F]=K+1)}s[o.previousIndex]=u-c}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Dp(n))throw new Le(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function JL(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,r)):n=this._addAfter(new n3(t,i),s,r),n}_verifyReinsertion(n,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,s=n._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Kx),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kx),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class n3{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class r3{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Kx{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new r3,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qx(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}class Xx{constructor(){}supports(n){return n instanceof Map||Hv(n)}create(){return new s3}}class s3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Hv(n)))throw new Le(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new o3(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}}class o3{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zx(){return new Sp([new Yx])}let Sp=(()=>{class e{static#e=this.\u0275prov=je({token:e,providedIn:"root",factory:Zx});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Zx()),deps:[[e,new qf,new zf]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Le(901,!1)}}return e})();function Jx(){return new bc([new Xx])}let bc=(()=>{class e{static#e=this.\u0275prov=je({token:e,providedIn:"root",factory:Jx});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Jx()),deps:[[e,new qf,new zf]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Le(901,!1)}}return e})();function bu(e,n,t,i,r=!1){for(;null!==t;){const s=n[t.index];null!==s&&i.push(On(s)),ji(s)&&eE(s,i);const o=t.type;if(8&o)bu(e,n,t.child,i);else if(32&o){const a=_v(t,n);let l;for(;l=a();)i.push(l)}else if(16&o){const a=xx(n,t);if(Array.isArray(a))i.push(...a);else{const l=La(n[Hn]);bu(l[Ze],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function eE(e,n){for(let t=ni;t<e.length;t++){const i=e[t],r=i[Ze].firstChild;null!==r&&bu(i[Ze],i,r,n)}e[is]!==e[Ln]&&n.push(e[is])}let tE=[];const u3={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{nu(e.lView)},consumerOnSignalRead(){this.lView[Eo]=this}};function nE(e){return rE(e[Ko])}function iE(e){return rE(e[Fr])}function rE(e){for(;null!==e&&!ji(e);)e=e[Fr];return e}function Gv(e){return e.ngOriginalError}class Mo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Gv(n);for(;t&&Gv(t);)t=Gv(t);return t||null}}const oE=new Xe("",{providedIn:"root",factory:()=>Ke(Mo).handleError.bind(void 0)}),lE=new Xe("",{providedIn:"root",factory:()=>!1}),Vt={};function $(e=1){hE(ln(),$e(),sr()+e,!1)}function hE(e,n,t,i){if(!i)if(3==(3&n[gt])){const s=e.preOrderCheckHooks;null!==s&&Lf(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Bf(n,s,0,t)}Ba(t)}function X(e,n=Kt.Default){const t=$e();return null===t?Ge(e,n):AC(Rn(),t,xt(e),n)}function pE(e,n,t,i,r,s){const o=T(null);try{let a=null;r&vt.SignalBased&&(a=n[i][v]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),r&vt.HasDecoratorInputTransform&&(s=e.inputTransforms[i].call(n,s)),null!==e.setInput?e.setInput(n,a,s,t,i):z1(n,a,i,s)}finally{T(o)}}function Mp(e,n,t,i,r,s,o,a,l,c,u){const m=n.blueprint.slice();return m[Ln]=r,m[gt]=204|i,(null!==c||e&&2048&e[gt])&&(m[gt]|=2048),J1(m),m[ti]=m[Qo]=e,m[Dn]=t,m[Ss]=o||e&&e[Ss],m[Ft]=a||e&&e[Ft],m[Qi]=l||e&&e[Qi]||null,m[Vi]=s,m[Na]=function LF(){return FF++}(),m[Lr]=u,m[Of]=c,m[Hn]=2==n.type?e[Hn]:m,m}function wc(e,n,t,i,r){let s=e.data[n];if(null===s)s=function $v(e,n,t,i,r){const s=rC(),o=R_(),l=e.data[n]=function D3(e,n,t,i,r,s){let o=n?n.injectorIndex:-1,a=0;return Jl()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,i,r),function v2(){return Mt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function iu(){const e=Mt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Js(s,!0),s}function wu(e,n,t,i){if(0===t)return-1;const r=n.length;for(let s=0;s<t;s++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function gE(e,n,t,i,r){const s=sr(),o=2&i;try{Ba(-1),o&&n.length>Rt&&hE(e,n,Rt,!1),Xs(o?2:0,r),t(i,r)}finally{Ba(s),Xs(o?3:1,r)}}function Wv(e,n,t){if(Qd(n)){const i=T(null);try{const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{T(i)}}}function zv(e,n,t){iC()&&(function R3(e,n,t,i){const r=t.directiveStart,s=t.directiveEnd;Qs(t)&&function U3(e,n,t){const i=cr(n,e),r=mE(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Ip(e,Mp(e,r,null,o,i,n,null,e[Ss].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=a}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Uf(t,n),or(i,n);const o=t.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],c=Va(n,e,a,t);or(c,n),null!==o&&j3(0,a-r,c,l,0,o),Vr(l)&&(Ur(t.index,n)[Dn]=Va(n,e,a,t))}}(e,n,t,cr(t,n)),64==(64&t.flags)&&wE(e,n,t))}function qv(e,n,t=cr){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(n,e):e[o];e[r++]=a}}}function mE(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Yv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Yv(e,n,t,i,r,s,o,a,l,c,u){const m=Rt+i,F=m+r,K=function b3(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:Vt);return t}(m,F),le="function"==typeof c?c():c;return K[Ze]={type:e,blueprint:K,template:t,queries:null,viewQuery:a,declTNode:n,data:K.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:le,incompleteFirstPass:!1,ssrId:u}}let _E=()=>null;function vE(e,n,t,i,r){for(let s in n){if(!n.hasOwnProperty(s))continue;const o=n[s];if(void 0===o)continue;i??={};let a,l=vt.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==r){if(!r.hasOwnProperty(s))continue;c=r[s]}0===e?yE(i,t,c,a,l):yE(i,t,c,a)}return i}function yE(e,n,t,i,r){let s;e.hasOwnProperty(t)?(s=e[t]).push(n,i):s=e[t]=[n,i],void 0!==r&&s.push(r)}function Wr(e,n,t,i,r,s,o,a){const l=cr(n,t);let u,c=n.inputs;!a&&null!=c&&(u=c[i])?(Jv(e,t,u,i,r),Qs(n)&&function M3(e,n){const t=Ur(n,e);16&t[gt]||(t[gt]|=64)}(t,n.index)):3&n.type&&(i=function T3(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,n.value||"",i):r,s.setProperty(l,i,r))}function Kv(e,n,t,i){if(iC()){const r=null===i?null:{"":-1},s=function P3(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(zd(n,o.selectors,!1))if(i||(i=[]),Vr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Qv(e,n,a.length)}else i.unshift(o),Qv(e,n,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&bE(e,n,t,o,r,a),r&&function F3(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const s=t[n[r+1]];if(null==s)throw new Le(-301,!1);i.push(n[r],s)}}}(t,i,r)}t.mergedAttrs=qs(t.mergedAttrs,t.attrs)}function bE(e,n,t,i,r,s){for(let c=0;c<i.length;c++)W_(Uf(t,n),e,i[c].type);!function B3(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=wu(e,n,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=qs(t.mergedAttrs,u.hostAttrs),V3(e,t,n,l,u),L3(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const m=u.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function S3(e,n,t){const r=n.directiveEnd,s=e.data,o=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<r;u++){const m=s[u],F=t?t.get(m):null,le=F?F.outputs:null;l=vE(0,m.inputs,u,l,F?F.inputs:null),c=vE(1,m.outputs,u,c,le);const ge=null===l||null===o||Wd(n)?null:H3(l,u,o);a.push(ge)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(e,t,s)}function wE(e,n,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function b2(){return Mt.lFrame.currentDirectiveIndex}();try{Ba(s);for(let a=i;a<r;a++){const l=e.data[a],c=n[a];P_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&N3(l,c)}}finally{Ba(-1),P_(o)}}function N3(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Qv(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function L3(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Vr(n)&&(t[""]=e)}}function V3(e,n,t,i,r){e.data[i]=r;const s=r.factory||(r.factory=Fa(r.type)),o=new ru(s,Vr(r),X);e.blueprint[i]=o,t[i]=o,function k3(e,n,t,i,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function O3(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(e,n,i,wu(e,t,r.hostVars,Vt),r)}function io(e,n,t,i,r,s){const o=cr(e,n);!function Xv(e,n,t,i,r,s,o){if(null==s)e.removeAttribute(n,r,t);else{const a=null==o?kt(s):o(s,i||"",r);e.setAttribute(n,r,a,t)}}(n[Ft],o,s,e.value,t,i,r)}function j3(e,n,t,i,r,s){const o=s[n];if(null!==o)for(let a=0;a<o.length;)pE(i,t,o[a++],o[a++],o[a++],o[a++])}function H3(e,n,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===n){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function CE(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function xE(e,n){const t=e.contentQueries;if(null!==t){const i=T(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const a=e.data[o];L_(t[r]),a.contentQueries(2,n[o],o)}}}finally{T(i)}}}function Ip(e,n){return e[Ko]?e[ql][Fr]=n:e[Ko]=n,e[ql]=n,n}function Zv(e,n,t){L_(0);const i=T(null);try{n(e,t)}finally{T(i)}}function EE(e){return e[xo]||(e[xo]=[])}function AE(e){return e.cleanup||(e.cleanup=[])}function kp(e,n){const t=e[Qi],i=t?t.get(Mo,null):null;i&&i.handleError(n)}function Jv(e,n,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];pE(e.data[o],n[o],i,a,l,r)}}function Io(e,n,t){const i=eu(n,e);!function fx(e,n,t){e.setValue(n,t)}(e[Ft],i,t)}function W3(e,n,t,i){const r=n[gt];if(256==(256&r))return;n[Ss].inlineEffectRunner?.flush(),B_(n);let o=null,a=null;(function z3(e){return 2!==e.type})(e)&&(a=function l3(e){return e[Eo]??function c3(e){const n=tE.pop()??Object.create(u3);return n.lView=e,n}(e)}(n),o=function g(e){return e&&(e.nextProducerIndex=0),T(e)}(a));try{J1(n),function oC(e){return Mt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&gE(e,n,t,2,i);const l=3==(3&r);if(l){const m=e.preOrderCheckHooks;null!==m&&Lf(n,m,null)}else{const m=e.preOrderHooks;null!==m&&Bf(n,m,0,null),U_(n,0)}if(function q3(e){for(let n=nE(e);null!==n;n=iE(n)){if(!(n[gt]&Kd.HasTransplantedViews))continue;const t=n[Ao];for(let i=0;i<t.length;i++){l2(t[i])}}}(n),SE(n,0),null!==e.contentQueries&&xE(e,n),l){const m=e.contentCheckHooks;null!==m&&Lf(n,m)}else{const m=e.contentHooks;null!==m&&Bf(n,m,1),U_(n,1)}!function y3(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ba(~r);else{const s=r,o=t[++i],a=t[++i];y2(o,s),a(2,n[s])}}}finally{Ba(-1)}}(e,n);const c=e.components;null!==c&&ME(n,c,0);const u=e.viewQuery;if(null!==u&&Zv(2,u,i),l){const m=e.viewCheckHooks;null!==m&&Lf(n,m)}else{const m=e.viewHooks;null!==m&&Bf(n,m,2),U_(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Yl]){for(const m of n[Yl])m();n[Yl]=null}n[gt]&=-73}catch(l){throw nu(n),l}finally{null!==a&&(function y(e,n){if(T(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(de(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)fe(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,o),function d3(e){e.lView[Eo]!==e&&(e.lView=null,tE.push(e))}(a)),V_()}}function SE(e,n){for(let t=nE(e);null!==t;t=iE(t))for(let i=ni;i<t.length;i++)TE(t[i],n)}function Y3(e,n,t){TE(Ur(n,e),t)}function TE(e,n){I_(e)&&ty(e,n)}function ty(e,n){const i=e[Ze],r=e[gt],s=e[Eo];let o=!!(0===n&&16&r);if(o||=!!(64&r&&0===n),o||=!!(1024&r),o||=!(!s?.dirty||!N(s)),s&&(s.dirty=!1),e[gt]&=-9217,o)W3(i,e,i.template,e[Dn]);else if(8192&r){SE(e,1);const a=i.components;null!==a&&ME(e,a,1)}}function ME(e,n,t){for(let i=0;i<n.length;i++)Y3(e,n[i],t)}function Cu(e){for(e[Ss].changeDetectionScheduler?.notify();e;){e[gt]|=64;const n=La(e);if(Xd(e)&&!n)return e;e=n}return null}class xu{get rootNodes(){const n=this._lView,t=n[Ze];return bu(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(n){this._lView[Dn]=n}get destroyed(){return 256==(256&this._lView[gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ti];if(ji(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(fu(n,i),Gf(t,i))}this._attachedToViewContainer=!1}dp(this._lView[Ze],this._lView)}onDestroy(n){Nf(this._lView,n)}markForCheck(){Cu(this._cdRefInjectingView||this._lView)}detach(){this._lView[gt]&=-129}reattach(){k_(this._lView),this._lView[gt]|=128}detectChanges(){this._lView[gt]|=1024,function ey(e,n=!0){const t=e[Ss],i=t.rendererFactory;i.begin?.();try{!function $3(e){ty(e,0);let n=0;for(;tC(e);){if(100===n)throw new Le(103,!1);n++,ty(e,1)}}(e)}catch(s){throw n&&kp(e,s),s}finally{i.end?.(),t.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,px(this._lView[Ze],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=n,k_(this._lView)}}let Er=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=K3}return e})();function K3(e){return function Q3(e,n,t){if(Qs(e)&&!t){const i=Ur(e.index,n);return new xu(i,i)}return 47&e.type?new xu(n[Hn],n):null}(Rn(),$e(),16==(16&e))}let Op=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=eB;static#t=this.__NG_ENV_ID__=t=>t}return e})();class J3 extends Op{constructor(n){super(),this._lView=n}onDestroy(n){return Nf(this._lView,n),()=>function O_(e,n){if(null===e[Ks])return;const t=e[Ks].indexOf(n);-1!==t&&e[Ks].splice(t,1)}(this._lView,n)}}function eB(){return new J3($e())}const IE=new Set;function Wa(e){IE.has(e)||(IE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ny(e){return n=>{setTimeout(e,void 0,n)}}const ot=class oB extends ut{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,s=t||(()=>null),o=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ny(s),r&&(r=ny(r)),o&&(o=ny(o)));const a=super.subscribe({next:r,error:s,complete:o});return n instanceof Ie&&n.add(a),a}};function kE(...e){}class Dt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function aB(){const e="function"==typeof pn.requestAnimationFrame;let n=pn[e?"requestAnimationFrame":"setTimeout"],t=pn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function dB(e){const n=()=>{!function cB(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ry(e),e.isCheckStableRunning=!0,iy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ry(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function uB(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return OE(e),t.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),RE(e)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return OE(e),t.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),RE(e)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,ry(e),iy(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dt.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Dt.isInAngularZone())throw new Le(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,lB,kE,kE);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const lB={};function iy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ry(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function OE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function RE(e){e._nesting--,iy(e)}class NE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}var za=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(za||{});const PE={destroy(){}};function LE(e,n){!n&&function sv(e){if(!gf()&&!function m_(){return Nr}())throw new Le(-203,!1)}();const t=n?.injector??Ke(Hi);if(!function na(e){return"browser"===(e??Ke(Hi)).get(Xi)}(t))return PE;Wa("NgAfterNextRender");const i=t.get(Eu),r=i.handler??=new VE,s=n?.phase??za.MixedReadWrite,o=()=>{r.unregister(l),a()},a=t.get(Op).onDestroy(o),l=new BE(t,s,()=>{o(),e()});return r.register(l),{destroy:o}}class BE{constructor(n,t,i){this.phase=t,this.callbackFn=i,this.zone=n.get(Dt),this.errorHandler=n.get(Mo,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class VE{constructor(){this.executingCallbacks=!1,this.buckets={[za.EarlyRead]:new Set,[za.Write]:new Set,[za.MixedReadWrite]:new Set,[za.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){let n=!1;this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const i of t)n=!0,i.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);return this.deferredCallbacks.clear(),n}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Eu=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r();return!!this.handler?.execute()||t.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=je({token:e,providedIn:"root",factory:()=>new e})}return e})();function pB(e,n){const t=Ur(n,e),i=t[Ze];!function gB(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[Ln];null!==r&&null===t[Lr]&&(t[Lr]=Lv(r,t[Qi])),sy(i,t,t[Dn])}function sy(e,n,t){B_(n);try{const i=e.viewQuery;null!==i&&Zv(1,i,t);const r=e.template;null!==r&&gE(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xE(e,n),e.staticViewQueries&&Zv(2,e.viewQuery,t);const s=e.components;null!==s&&function mB(e,n){for(let t=0;t<n.length;t++)pB(e,n[t])}(n,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[gt]&=-5,V_()}}function Rp(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?r=Nd(r,a):2==s&&(i=Nd(i,a+": "+n[++o]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}class UE extends Ep{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Ht(n);return new Au(t,this.ngModule)}}function jE(e){const n=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return n}class vB{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=Hl(i);const r=this.injector.get(n,jv,i);return r!==jv||t===jv?r:this.parentInjector.get(n,t,i)}}class Au extends Wx{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=jE(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return jE(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function Tf(e){return e.map(Sf).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let s=(r=r||this.ngModule)instanceof ur?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new vB(n,s):n,a=o.get(Ap,null);if(null===a)throw new Le(407,!1);const m={rendererFactory:a,sanitizer:o.get(KL,null),inlineEffectRunner:null,afterRenderEventManager:o.get(Eu,null),changeDetectionScheduler:o.get(Mv,null)},F=a.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",le=i?function w3(e,n,t,i){const s=i.get(lE,!1)||t===Pr.ShadowDom,o=e.selectRootElement(n,s);return function C3(e){_E(e)}(o),o}(F,i,this.componentDef.encapsulation,o):cp(F,K,function _B(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(K));let ge=512;this.componentDef.signals?ge|=4096:this.componentDef.onPush||(ge|=16);let ye=null;null!==le&&(ye=Lv(le,o,!0));const Ae=Yv(0,null,null,1,0,null,null,null,null,null,null),Ee=Mp(null,Ae,null,ge,null,null,m,F,o,null,ye);let We,Ye;B_(Ee);try{const Je=this.componentDef;let rt,mt=null;Je.findHostDirectiveDefs?(rt=[],mt=new Map,Je.findHostDirectiveDefs(Je,rt,mt),rt.push(Je)):rt=[Je];const St=function bB(e,n){const t=e[Ze],i=Rt;return e[i]=n,wc(t,i,2,"#host",null)}(Ee,le),vn=function wB(e,n,t,i,r,s,o){const a=r[Ze];!function CB(e,n,t,i){for(const r of e)n.mergedAttrs=qs(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Rp(n,n.mergedAttrs,!0),null!==t&&Sx(i,t,n))}(i,e,n,o);let l=null;null!==n&&(l=Lv(n,r[Qi]));const c=s.rendererFactory.createRenderer(n,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const m=Mp(r,mE(t),null,u,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&Qv(a,e,i.length-1),Ip(r,m),r[e.index]=m}(St,le,Je,rt,Ee,m,F);Ye=tu(Ae,Rt),le&&function EB(e,n,t,i){if(i)Wl(e,t,["ng-version","17.1.2"]);else{const{attrs:r,classes:s}=function Mf(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&n.push(s,e[++i]):8===r&&t.push(s);else{if(!wr(r))break;r=s}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&Wl(e,t,r),s&&s.length>0&&Dx(e,t,s.join(" "))}}(F,Je,le,i),void 0!==t&&function AB(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(Ye,this.ngContentSelectors,t),We=function xB(e,n,t,i,r,s){const o=Rn(),a=r[Ze],l=cr(o,r);bE(a,r,o,t,null,i);for(let u=0;u<t.length;u++)or(Va(r,a,o.directiveStart+u,o),r);wE(a,r,o),l&&or(l,r);const c=Va(r,a,o.directiveStart+o.componentOffset,o);if(e[Dn]=r[Dn]=c,null!==s)for(const u of s)u(c,n);return Wv(a,o,e),c}(vn,Je,rt,mt,Ee,[DB]),sy(Ae,Ee,null)}finally{V_()}return new yB(this.componentType,We,yc(Ye,Ee),Ee,Ye)}}class yB extends GL{constructor(n,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xu(r,void 0,!1),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;Jv(s[Ze],s,r,n,t),this.previousInputValues.set(n,t),Cu(Ur(this._tNode.index,s))}}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function DB(){const e=Rn();Ff($e()[Ze],e)}function it(e){let n=function HE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(Vr(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Le(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const o=e;o.inputs=Np(e.inputs),o.inputTransforms=Np(e.inputTransforms),o.declaredInputs=Np(e.declaredInputs),o.outputs=Np(e.outputs);const a=r.hostBindings;a&&kB(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&MB(e,l),c&&IB(e,c),SB(e,r),i_(e.outputs,r.outputs),Vr(r)&&r.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===it&&(t=!1)}}n=Object.getPrototypeOf(n)}!function TB(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=qs(r.hostAttrs,t=qs(t,r.hostAttrs))}}(i)}function SB(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const i=n.inputs[t];if(void 0!==i&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=n.inputTransforms[r]}}}function Np(e){return e===ns?{}:e===an?[]:e}function MB(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function IB(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,s)=>{n(i,r,s),t(i,r,s)}:n}function kB(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function zE(e){const n=e.inputConfig,t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}e.inputTransforms=t}function xc(e,n){return!n||null===n.firstChild||op(e)}function Ou(e,n,t,i=!0){const r=n[Ze];if(function QF(e,n,t,i){const r=ni+i,s=t.length;i>0&&(t[r-1][Fr]=n),i<s-ni?(n[Fr]=t[r],kC(t,ni+i,n)):(t.push(n),n[Fr]=null),n[ti]=t;const o=n[Ra];null!==o&&t!==o&&function XF(e,n){const t=e[Ao];n[Hn]!==n[ti][ti][Hn]&&(e[gt]|=Kd.HasTransplantedViews),null===t?e[Ao]=[n]:t.push(n)}(o,n);const a=n[Br];null!==a&&a.insertView(e),k_(n),n[gt]|=128}(r,n,e,t),i){const o=Cv(t,e),a=n[Ft],l=up(a,e[is]);null!==l&&function YF(e,n,t,i,r,s){i[Ln]=r,i[Vi]=n,pp(e,i,t,1,r,s)}(r,e[Vi],a,n,l,o)}const s=n[Lr];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let as=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=iV}return e})();function iV(){return nA(Rn(),$e())}const rV=as,eA=class extends rV{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return yc(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){const n=jf(this._hostTNode,this._hostLView);if(H_(n)){const t=ou(n,this._hostLView),i=su(n);return new Mi(t[Ze].data[i+8],t)}return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=tA(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(n,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,xc(this._hostTNode,null)),a}createComponent(n,t,i,r,s){const o=n&&!function au(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const le=t||{};a=le.index,i=le.injector,r=le.projectableNodes,s=le.environmentInjector||le.ngModuleRef}const l=o?n:new Au(Ht(n)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const ge=(o?c:this.parentInjector).get(ur,null);ge&&(s=ge)}Ht(l.componentType??{});const K=l.create(c,r,null,s);return this.insertImpl(K.hostView,a,xc(this._hostTNode,null)),K}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){const r=n._lView;if(function a2(e){return ji(e[ti])}(r)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=r[ti],c=new eA(l,l[Vi],l[ti]);c.detach(c.indexOf(n))}}const s=this._adjustIndex(t),o=this._lContainer;return Ou(o,r,s,i),n.attachToViewContainerRef(),kC(hy(o),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=tA(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=fu(this._lContainer,t);i&&(Gf(hy(this._lContainer),t),dp(i[Ze],i))}detach(n){const t=this._adjustIndex(n,-1),i=fu(this._lContainer,t);return i&&null!=Gf(hy(this._lContainer),t)?new xu(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function tA(e){return e[8]}function hy(e){return e[8]||(e[8]=[])}function nA(e,n){let t;const i=n[e.index];return ji(i)?t=i:(t=CE(i,n,null,e),n[e.index]=t,Ip(n,t)),iA(t,n,e,i),new eA(t,e,n)}let iA=function sA(e,n,t,i){if(e[is])return;let r;r=8&t.type?On(i):function sV(e,n){const t=e[Ft],i=t.createComment(""),r=cr(n,e);return Ga(t,up(t,r),i,function tL(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[is]=r},fy=()=>!1;function ro(e,n,t){return e[n]=t}function Ei(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function qa(e,n,t,i){const r=Ei(e,n,t);return Ei(e,n+1,i)||r}function Vp(e,n,t,i,r){const s=qa(e,n,t,i);return Ei(e,n+2,r)||s}function ze(e,n,t,i,r,s,o,a){const l=$e(),c=ln(),u=e+Rt,m=c.firstCreatePass?function cV(e,n,t,i,r,s,o,a,l){const c=n.consts,u=wc(n,e,4,o||null,Zs(c,a));Kv(n,t,u,Zs(c,l)),Ff(n,u);const m=u.tView=Yv(2,u,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),m.queries=n.queries.embeddedTView(u)),u}(u,c,l,n,t,i,r,s,o):c.data[u];Js(m,!1);const F=oA(c,l,m,e);Pf()&&hp(c,l,F,m),or(F,l);const K=CE(F,l,F,m);return l[u]=K,Ip(l,K),function rA(e,n,t){return fy(e,n,t)}(K,m,l),Kl(m)&&zv(c,l,m),null!=o&&qv(l,m,a),ze}let oA=function aA(e,n,t,i){return Zo(!0),n[Ft].createComment("")};function tn(e,n,t,i){const r=$e();return Ei(r,eo(),n)&&(ln(),io($n(),r,e,n,t,i)),tn}function kc(e,n,t,i){return Ei(e,eo(),t)?n+kt(t)+i:Vt}function Oc(e,n,t,i,r,s){const a=qa(e,Do(),t,r);return So(2),a?n+kt(t)+i+kt(r)+s:Vt}function Nc(e,n,t,i,r,s,o,a,l,c){const m=function ls(e,n,t,i,r,s){const o=qa(e,n,t,i);return qa(e,n+2,r,s)||o}(e,Do(),t,r,o,l);return So(4),m?n+kt(t)+i+kt(r)+s+kt(o)+a+kt(l)+c:Vt}function Wp(e,n){return e<<17|n<<2}function oa(e){return e>>17&32767}function Cy(e){return 2|e}function Ka(e){return(131068&e)>>2}function xy(e,n){return-131069&e|n<<2}function Ey(e){return 1|e}function VA(e,n,t,i){const r=e[t+1],s=null===n;let o=i?oa(r):Ka(r),a=!1;for(;0!==o&&(!1===a||s);){const c=e[o+1];qV(e[o],n)&&(a=!0,e[o+1]=i?Ey(c):Cy(c)),o=i?oa(c):Ka(c)}a&&(e[t+1]=i?Cy(r):Ey(r))}function qV(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&cc(e,n)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UA(e){return e.substring(ki.key,ki.keyEnd)}function jA(e,n){const t=ki.textEnd;return t===n?-1:(n=ki.keyEnd=function XV(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,ki.key=n,t),Vc(e,n,t))}function Vc(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function me(e,n,t){const i=$e();return Ei(i,eo(),n)&&Wr(ln(),$n(),i,e,n,i[Ft],t,!1),me}function Ay(e,n,t,i,r){const o=r?"class":"style";Jv(e,t,n.inputs[o],o,i)}function Gt(e,n){return function Ts(e,n,t,i){const r=$e(),s=ln(),o=So(2);s.firstUpdatePass&&YA(s,e,o,i),n!==Vt&&Ei(r,o,n)&&QA(s,s.data[sr()],r,r[Ft],e,r[o+1]=function lU(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ei(Gr(e)))),e}(n,t),i,o)}(e,n,null,!0),Gt}function Qa(e){!function Ms(e,n,t,i){const r=ln(),s=So(2);r.firstUpdatePass&&YA(r,null,s,i);const o=$e();if(t!==Vt&&Ei(o,s,t)){const a=r.data[sr()];if(ZA(a,i)&&!qA(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Nd(l,t||"")),Ay(r,a,o,t,i)}else!function aU(e,n,t,i,r,s,o,a){r===Vt&&(r=an);let l=0,c=0,u=0<r.length?r[0]:null,m=0<s.length?s[0]:null;for(;null!==u||null!==m;){const F=l<r.length?r[l+1]:void 0,K=c<s.length?s[c+1]:void 0;let ge,le=null;u===m?(l+=2,c+=2,F!==K&&(le=m,ge=K)):null===m||null!==u&&u<m?(l+=2,le=u):(c+=2,le=m,ge=K),null!==le&&QA(e,n,t,i,le,ge,o,a),u=l<r.length?r[l]:null,m=c<s.length?s[c]:null}}(r,a,o,o[Ft],o[s+1],o[s+1]=function sU(e,n,t){if(null==t||""===t)return an;const i=[],r=Gr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,s)}}(oU,oo,e,!0)}function oo(e,n){for(let t=function KV(e){return function GA(e){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=e.length}(e),jA(e,Vc(e,0,ki.textEnd))}(n);t>=0;t=jA(n,t))jr(e,UA(n),!0)}function qA(e,n){return n>=e.expandoStartIndex}function YA(e,n,t,i){const r=e.data;if(null===r[t+1]){const s=r[sr()],o=qA(e,t);ZA(s,i)&&null===n&&!o&&(n=!1),n=function tU(e,n,t,i){const r=function F_(e){const n=Mt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Lu(t=Dy(null,e,n,t,i),n.attrs,i),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==r)if(t=Dy(r,e,n,t,i),null===s){let l=function nU(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==Ka(i))return e[oa(i)]}(e,n,i);void 0!==l&&Array.isArray(l)&&(l=Dy(null,e,n,l[1],i),l=Lu(l,n.attrs,i),function iU(e,n,t,i){e[oa(t?n.classBindings:n.styleBindings)]=i}(e,n,i,l))}else s=function rU(e,n,t){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=Lu(i,e[s].hostAttrs,t);return Lu(i,n.attrs,t)}(e,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),t}(r,s,n,i),function WV(e,n,t,i,r,s){let o=s?n.classBindings:n.styleBindings,a=oa(o),l=Ka(o);e[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||cc(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const F=oa(e[a+1]);e[i+1]=Wp(F,a),0!==F&&(e[F+1]=xy(e[F+1],i)),e[a+1]=function GV(e,n){return 131071&e|n<<17}(e[a+1],i)}else e[i+1]=Wp(a,0),0!==a&&(e[a+1]=xy(e[a+1],i)),a=i;else e[i+1]=Wp(l,0),0===a?a=i:e[l+1]=xy(e[l+1],i),l=i;c&&(e[i+1]=Cy(e[i+1])),VA(e,u,i,!0),VA(e,u,i,!1),function zV(e,n,t,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&cc(s,n)>=0&&(t[i+1]=Ey(t[i+1]))}(n,u,e,i,s),o=Wp(a,l),s?n.classBindings=o:n.styleBindings=o}(r,s,n,t,o,i)}}function Dy(e,n,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],i=Lu(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),i}function Lu(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),jr(e,o,!!t||n[++s]))}return void 0===e?null:e}function oU(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&jr(e,i,t)}function QA(e,n,t,i,r,s,o,a){if(!(3&n.type))return;const l=e.data,c=l[a+1],u=function $V(e){return 1==(1&e)}(c)?XA(l,n,t,r,Ka(c),o):void 0;zp(u)||(zp(s)||function HV(e){return 2==(2&e)}(c)&&(s=XA(l,null,t,r,a,o)),function rL(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:ra.DashCase;null==r?e.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ra.Important),e.setStyle(t,i,r,s))}}(i,o,eu(sr(),t),r,s))}function XA(e,n,t,i,r,s){const o=null===n;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),u=c?l[1]:l,m=null===u;let F=t[r+1];F===Vt&&(F=m?an:void 0);let K=m?K_(F,i):u===i?F:void 0;if(c&&!zp(K)&&(K=K_(l,i)),zp(K)&&(a=K,o))return a;const le=e[r+1];r=o?oa(le):Ka(le)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=K_(l,i))}return a}function zp(e){return void 0!==e}function ZA(e,n){return 0!=(e.flags&(n?8:16))}function d(e,n,t,i){const r=$e(),s=ln(),o=Rt+e,a=r[Ft],l=s.firstCreatePass?function kU(e,n,t,i,r,s){const o=n.consts,l=wc(n,e,2,i,Zs(o,r));return Kv(n,t,l,Zs(o,s)),null!==l.attrs&&Rp(l,l.attrs,!1),null!==l.mergedAttrs&&Rp(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,r,n,t,i):s.data[o],c=nD(s,r,l,a,n,e);r[o]=c;const u=Kl(l);return Js(l,!0),Sx(a,c,l),32!=(32&l.flags)&&Pf()&&hp(s,r,c,l),0===function c2(){return Mt.lFrame.elementDepthCount}()&&or(c,r),function d2(){Mt.lFrame.elementDepthCount++}(),u&&(zv(s,r,l),Wv(s,l,r)),null!==i&&qv(r,l),d}function f(){let e=Rn();R_()?N_():(e=e.parent,Js(e,!1));const n=e;(function h2(e){return Mt.skipHydrationRootTNode===e})(n)&&function m2(){Mt.skipHydrationRootTNode=null}(),function u2(){Mt.lFrame.elementDepthCount--}();const t=ln();return t.firstCreatePass&&(Ff(t,e),Qd(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function M2(e){return 0!=(8&e.flags)}(n)&&Ay(t,n,$e(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function I2(e){return 0!=(16&e.flags)}(n)&&Ay(t,n,$e(),n.stylesWithoutHost,!1),f}function ke(e,n,t,i){return d(e,n,t,i),f(),ke}let nD=(e,n,t,i,r,s)=>(Zo(!0),cp(i,r,function mC(){return Mt.lFrame.currentNamespace}()));function Uc(e,n,t){const i=$e(),r=ln(),s=e+Rt,o=r.firstCreatePass?function NU(e,n,t,i,r){const s=n.consts,o=Zs(s,i),a=wc(n,e,8,"ng-container",o);return null!==o&&Rp(a,o,!0),Kv(n,t,a,Zs(s,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,r,i,n,t):r.data[s];Js(o,!0);const a=rD(r,i,o,e);return i[s]=a,Pf()&&hp(r,i,a,o),or(a,i),Kl(o)&&(zv(r,i,o),Wv(r,o,i)),null!=t&&qv(i,o),Uc}function jc(){let e=Rn();const n=ln();return R_()?N_():(e=e.parent,Js(e,!1)),n.firstCreatePass&&(Ff(n,e),Qd(e)&&n.queries.elementEnd(e)),jc}let rD=(e,n,t,i)=>(Zo(!0),vv(n[Ft],""));function Sn(){return $e()}function ds(e,n,t){const i=$e();return Ei(i,eo(),n)&&Wr(ln(),$n(),i,e,n,i[Ft],t,!0),ds}const Xa=void 0;var BU=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LU(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Hc={};function fr(e){const n=function VU(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=aD(n);if(t)return t;const i=n.split("-")[0];if(t=aD(i),t)return t;if("en"===i)return BU;throw new Le(701,!1)}function aD(e){return e in Hc||(Hc[e]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[e]),Hc[e]}var Vn=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Vn||{});const Gc="en-US";let lD=Gc;function $u(e){return!!e&&"function"==typeof e.then}function RD(e){return!!e&&"function"==typeof e.subscribe}function Fe(e,n,t,i){const r=$e(),s=ln(),o=Rn();return function PD(e,n,t,i,r,s,o){const a=Kl(i),c=e.firstCreatePass&&AE(e),u=n[Dn],m=EE(n);let F=!0;if(3&i.type||o){const ge=cr(i,n),ye=o?o(ge):ge,Ae=m.length,Ee=o?Ye=>o(On(Ye[i.index])):i.index;let We=null;if(!o&&a&&(We=function O4(e,n,t,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=n[xo],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,r,i.index)),null!==We)(We.__ngLastListenerFn__||We).__ngNextListenerFn__=s,We.__ngLastListenerFn__=s,F=!1;else{s=LD(i,n,u,s,!1);const Ye=t.listen(ye,r,s);m.push(s,Ye),c&&c.push(r,Ee,Ae,Ae+1)}}else s=LD(i,n,u,s,!1);const K=i.outputs;let le;if(F&&null!==K&&(le=K[r])){const ge=le.length;if(ge)for(let ye=0;ye<ge;ye+=2){const Je=n[le[ye]][le[ye+1]].subscribe(s),rt=m.length;m.push(s,Je),c&&c.push(r,i.index,rt,-(rt+1))}}}(s,r,r[Ft],o,e,n,i),Fe}function FD(e,n,t,i){try{return Xs(6,n,t),!1!==t(i)}catch(r){return kp(e,r),!1}finally{Xs(7,n,t)}}function LD(e,n,t,i,r){return function s(o){if(o===Function)return i;Cu(e.componentOffset>-1?Ur(e.index,n):n);let l=FD(n,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=FD(n,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Re(e=1){return function C2(e){return(Mt.lFrame.contextLView=function eC(e,n){for(;e>0;)n=n[Qo],e--;return n}(e,Mt.lFrame.contextLView))[Dn]}(e)}function R4(e,n){let t=null;const i=function Af(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?zd(e,s,!0):b_(i,s))return r}else t=r}return t}function Za(e,n,t){return Tn(e,"",n,"",t),Za}function Tn(e,n,t,i,r){const s=$e(),o=kc(s,n,t,i);return o!==Vt&&Wr(ln(),$n(),s,e,o,s[Ft],r,!1),Tn}function Ry(e,n,t,i,r,s,o){const a=$e(),l=Oc(a,n,t,i,r,s);return l!==Vt&&Wr(ln(),$n(),a,e,l,a[Ft],o,!1),Ry}function N4(){return this._results[Symbol.iterator]()}class Wu{static#e=Symbol.iterator;get changes(){return this._changes??=new ot}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Wu.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=N4)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const i=function Cr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function G2(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let ii=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=L4}return e})();const P4=ii,F4=class extends P4{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){const r=function ku(e,n,t,i){const r=n.tView,a=Mp(e,r,t,4096&e[gt]?4096:16,null,n,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Ra]=e[n.index];const c=e[Br];return null!==c&&(a[Br]=c.createEmbeddedView(r)),sy(r,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,dehydratedView:i});return new xu(r)}};function L4(){return Zp(Rn(),$e())}function Zp(e,n){return 4&e.type?new F4(n,e,yc(e,n)):null}class Ny{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ny(this.queryList)}setDirty(){this.queryList.setDirty()}}class Py{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Py(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==KD(n,t).matches&&this.queries[t].setDirty()}}class WD{constructor(n,t,i=null){this.predicate=n,this.flags=t,this.read=i}}class Fy{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Fy(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ly{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Ly(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,t,B4(t,s)),this.matchTNodeWithReadOption(n,t,Hf(t,n,s,!1,!1))}else i===ii?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Hf(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===pt||r===as||r===ii&&4&t.type)this.addMatch(t.index,-2);else{const s=Hf(t,n,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function B4(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function U4(e,n,t,i){return-1===t?function V4(e,n){return 11&e.type?yc(e,n):4&e.type?Zp(e,n):null}(n,e):-2===t?function j4(e,n,t){return t===pt?yc(n,e):t===ii?Zp(n,e):t===as?nA(n,e):void 0}(e,n,i):Va(e,e[Ze],t,n)}function zD(e,n,t,i){const r=n[Br].queries[i];if(null===r.matches){const s=e.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:U4(n,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function By(e,n,t,i){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=zD(e,n,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=n[-l];for(let m=ni;m<u.length;m++){const F=u[m];F[Ra]===F[ti]&&By(F[Ze],F,c,i)}if(null!==u[Ao]){const m=u[Ao];for(let F=0;F<m.length;F++){const K=m[F];By(K[Ze],K,c,i)}}}}}return i}function qD(e,n,t){const i=new Wu(4==(4&t));(function A3(e,n,t,i){const r=EE(n);r.push(t),e.firstCreatePass&&AE(e).push(i,r.length-1)})(e,n,i,i.destroy),null===n[Br]&&(n[Br]=new Py),n[Br].queries.push(new Ny(i))}function YD(e,n,t){null===e.queries&&(e.queries=new Fy),e.queries.track(new Ly(n,t))}function KD(e,n){return e.queries.getByIndex(n)}function Nn(e,n,t,i){const r=ln();if(r.firstCreatePass){const s=Rn();YD(r,new WD(n,t,i),s.index),function G4(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(r,e),2==(2&t)&&(r.staticContentQueries=!0)}qD(r,$e(),t)}function ko(e,n,t){const i=ln();i.firstCreatePass&&(YD(i,new WD(e,n,t),-1),2==(2&n)&&(i.staticViewQueries=!0)),qD(i,$e(),n)}function nn(e){const n=$e(),t=ln(),i=lC();L_(i+1);const r=KD(t,i);if(e.dirty&&function o2(e){return 4==(4&e[gt])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?By(t,n,i,[]):zD(t,n,r,i);e.reset(s,qL),e.notifyOnChanges()}return!0}return!1}function rn(){return function H4(e,n){return e[Br].queries[n].queryList}($e(),lC())}function sn(e){return Zl(function _2(){return Mt.lFrame.contextLView}(),Rt+e)}function b(e,n=""){const t=$e(),i=ln(),r=e+Rt,s=i.firstCreatePass?wc(i,r,1,n,null):i.data[r],o=sS(i,t,s,n,e);t[r]=o,Pf()&&hp(i,t,o,s),Js(s,!1)}let sS=(e,n,t,i,r)=>(Zo(!0),function lp(e,n){return e.createText(n)}(n[Ft],i));function Qe(e){return qt("",e,""),Qe}function qt(e,n,t){const i=$e(),r=kc(i,e,n,t);return r!==Vt&&Io(i,sr(),r),qt}function vi(e,n,t,i,r){const s=$e(),o=Oc(s,e,n,t,i,r);return o!==Vt&&Io(s,sr(),o),vi}function Vy(e,n,t,i,r,s,o){const a=$e(),l=function Rc(e,n,t,i,r,s,o,a){const c=Vp(e,Do(),t,r,o);return So(3),c?n+kt(t)+i+kt(r)+s+kt(o)+a:Vt}(a,e,n,t,i,r,s,o);return l!==Vt&&Io(a,sr(),l),Vy}function la(e,n,t,i,r,s,o,a,l){const c=$e(),u=Nc(c,e,n,t,i,r,s,o,a,l);return u!==Vt&&Io(c,sr(),u),la}function Uy(e,n,t,i,r){if(e=xt(e),Array.isArray(e))for(let s=0;s<e.length;s++)Uy(e[s],n,t,i,r);else{const s=ln(),o=$e(),a=Rn();let l=Ha(e)?e:xt(e.provide);const c=HC(e),u=1048575&a.providerIndexes,m=a.directiveStart,F=a.providerIndexes>>20;if(Ha(e)||!e.multi){const K=new ru(c,r,X),le=Hy(l,n,r?u:u+F,m);-1===le?(W_(Uf(a,o),s,l),jy(s,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(K),o.push(K)):(t[le]=K,o[le]=K)}else{const K=Hy(l,n,u+F,m),le=Hy(l,n,u,u+F),ye=le>=0&&t[le];if(r&&!ye||!r&&!(K>=0&&t[K])){W_(Uf(a,o),s,l);const Ae=function sj(e,n,t,i,r){const s=new ru(e,t,X);return s.multi=[],s.index=n,s.componentProviders=0,uS(s,r,i&&!t),s}(r?rj:ij,t.length,r,i,c);!r&&ye&&(t[le].providerFactory=Ae),jy(s,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(Ae),o.push(Ae)}else jy(s,e,K>-1?K:le,uS(t[r?le:K],c,!r&&i));!r&&i&&ye&&t[le].componentProviders++}}}function jy(e,n,t,i){const r=Ha(n),s=function lF(e){return!!e.useClass}(n);if(r||s){const l=(s?xt(n.useClass):n).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function uS(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Hy(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function ij(e,n,t,i){return Gy(this.multi,[])}function rj(e,n,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Va(t,t[Ze],this.providerFactory.index,i);s=a.slice(0,o),Gy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Gy(r,s);return s}function Gy(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function xn(e,n=[]){return t=>{t.providersResolver=(i,r)=>function nj(e,n,t){const i=ln();if(i.firstCreatePass){const r=Vr(e);Uy(t,i.data,i.blueprint,r,!0),Uy(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}class Ja{}class hS{}class $y extends Ja{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UE(this);const r=Bi(n);this._bootstrapComponents=Hr(r.bootstrap),this._r3Injector=qC(n,t,[{provide:Ja,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver},...i],ei(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Wy extends hS{constructor(n){super(),this.moduleType=n}create(n){return new $y(this.moduleType,n,[])}}class fS extends Ja{constructor(n){super(),this.componentFactoryResolver=new UE(this),this.instance=null;const t=new uc([...n.providers,{provide:Ja,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver}],n.parent||Jf(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function zy(e,n,t=null){return new fS({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let lj=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=BC(0,t.type),r=i.length>0?zy([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=je({token:e,providedIn:"environment",factory:()=>new e(Ge(ur))})}return e})();function us(e){Wa("NgStandalone"),e.getStandaloneInjector=n=>n.get(lj).getOrCreateStandaloneInjector(e)}function zr(e,n,t,i){return CS($e(),dr(),e,n,t,i)}function qu(e,n){const t=e[n];return t===Vt?void 0:t}function CS(e,n,t,i,r,s){const o=n+t;return Ei(e,o,r)?ro(e,o+1,s?i.call(s,r):i(r)):qu(e,o+1)}function _n(e,n){const t=ln();let i;const r=e+Rt;t.firstCreatePass?(i=function Dj(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=Fa(i.type)),a=rr(X);try{const l=Vf(!1),c=s();return Vf(l),function $4(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,$e(),r,c),c}finally{rr(a)}}function Di(e,n,t,i){const r=e+Rt,s=$e(),o=Zl(s,r);return Yu(s,r)?function xS(e,n,t,i,r,s,o){const a=n+t;return qa(e,a,r,s)?ro(e,a+2,o?i.call(o,r,s):i(r,s)):qu(e,a+2)}(s,dr(),n,o.transform,t,i,o):o.transform(t,i)}function hs(e,n,t,i,r){const s=e+Rt,o=$e(),a=Zl(o,s);return Yu(o,s)?function ES(e,n,t,i,r,s,o,a){const l=n+t;return Vp(e,l,r,s,o)?ro(e,l+3,a?i.call(a,r,s,o):i(r,s,o)):qu(e,l+3)}(o,dr(),n,a.transform,t,i,r,a):a.transform(t,i,r)}function Yu(e,n){return e[Ze].data[n].pure}let GS=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();class Qj{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let $S=(()=>{class e{compileModuleSync(t){return new Wy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Hr(Bi(t).declarations).reduce((o,a)=>{const l=Ht(a);return l&&o.push(new Au(l)),o},[]);return new Qj(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const KS=new Xe(""),ig=new Xe("");let nb,eb=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,nb||(function x5(e){nb=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Dt),Ge(tb),Ge(ig))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})(),tb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return nb?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const ib=new Xe("");let rb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ke(ib,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if($u(s))t.push(s);else if(RD(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rg=new Xe("");function ZS(e,n){return Array.isArray(n)?n.reduce(ZS,e):{...e,...n}}let Oo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ke(oE),this.afterRenderEffectManager=Ke(Eu),this.componentTypes=[],this.components=[],this.isStable=Ke(zc).hasPendingTasks.pipe(dt(t=>!t)),this._injector=Ke(ur)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Wx;if(!this._injector.get(rb).done)throw!r&&function Ys(e){const n=Ht(e)||ai(e)||mi(e);return null!==n&&n.standalone}(t),new Le(405,!1);let o;o=r?t:this._injector.get(Ep).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function A5(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Ja),c=o.create(Hi.NULL,[],i||o.selector,a),u=c.location.nativeElement,m=c.injector.get(KS,null);return m?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),sg(this.components,c),m?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{try{this.afterRenderEffectManager.execute()}catch(t){this.internalErrorHandler(t)}this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;sg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(rg,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Le(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sg(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let S5=(()=>{class e{constructor(){this.zone=Ke(Dt),this.applicationRef=Ke(Oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function T5(){const e=Ke(Dt),n=Ke(Mo);return t=>e.runOutsideAngular(()=>n.handleError(t))}let I5=(()=>{class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=Ke(Dt),this.pendingTasks=Ke(zc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Dt.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Dt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fs=new Xe("",{providedIn:"root",factory:()=>Ke(fs,Kt.Optional|Kt.SkipSelf)||function k5(){return typeof $localize<"u"&&$localize.locale||Gc}()}),sb=new Xe("");let nT=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function hB(e="zone.js",n){return"noop"===e?new NE:"zone.js"===e?new Dt(n):e}(i?.ngZone,function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function aj(e,n,t){return new $y(e,n,t)}(t.moduleType,this.injector,function eT(e){return[{provide:Dt,useFactory:e},{provide:ja,multi:!0,useFactory:()=>{const n=Ke(S5,{optional:!0});return()=>n.initialize()}},{provide:ja,multi:!0,useFactory:()=>{const n=Ke(I5);return()=>{n.initialize()}}},{provide:oE,useFactory:T5}]}(()=>r)),o=s.injector.get(Mo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{sg(this._modules,s),a.unsubscribe()})}),function XS(e,n,t){try{const i=t();return $u(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(rb);return a.runInitializers(),a.donePromise.then(()=>(function cD(e){ir(e,"Expected localeId to be defined"),"string"==typeof e&&(lD=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(fs,Gc)||Gc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=ZS({},i);return function E5(e,n,t){const i=new Wy(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Oo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Le(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(sb,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Hi))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),da=null;const iT=new Xe("");function rT(e,n,t=[]){const i=`Platform: ${n}`,r=new Xe(i);return(s=[])=>{let o=ob();if(!o||o.injector.get(iT,!1)){const a=[...t,...s,{provide:r,useValue:!0}];e?e(a):function N5(e){if(da&&!da.get(iT,!1))throw new Le(400,!1);(function QS(){!function z(e){_=e}(()=>{throw new Le(600,!1)})})(),da=e;const n=e.get(nT);(function oT(e){e.get(KC,null)?.forEach(t=>t())})(e)}(function sT(e=[],n){return Hi.create({name:n,providers:[{provide:tv,useValue:"platform"},{provide:sb,useValue:new Set([()=>da=null])},...e]})}(a,i))}return function P5(e){const n=ob();if(!n)throw new Le(401,!1);return n}()}}function ob(){return da?.get(nT)??null}const j5=rT(null,"core",[]);let H5=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Oo))};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();function Yc(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function fb(e,n){const t=Ht(e),i=n.elementInjector||Jf();return new Au(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let IT=null;function ua(){return IT}class vH{}const Mn=new Xe("");let pb=(()=>{class e{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>Ke(bH),providedIn:"platform"})}return e})();const yH=new Xe("");let bH=(()=>{class e extends pb{constructor(){super(),this._doc=Ke(Mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(t){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function gb(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function kT(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Ro(e){return e&&"?"!==e[0]?"?"+e:e}let tl=(()=>{class e{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>Ke(RT),providedIn:"root"})}return e})();const OT=new Xe("");let RT=(()=>{class e extends tl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ke(Mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gb(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ro(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Ro(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Ro(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(pb),Ge(OT,8))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wH=(()=>{class e extends tl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=gb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Ro(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Ro(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(pb),Ge(OT,8))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})(),Ju=(()=>{class e{constructor(t){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function EH(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(kT(NT(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ro(i))}normalize(t){return e.stripTrailingSlash(function xH(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,NT(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ro(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ro(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ro;static#t=this.joinWithSlash=gb;static#n=this.stripTrailingSlash=kT;static#i=this.\u0275fac=function(i){return new(i||e)(Ge(tl))};static#s=this.\u0275prov=je({token:e,factory:()=>function CH(){return new Ju(Ge(tl))}(),providedIn:"root"})}return e})();function NT(e){return e.replace(/\/index.html$/,"")}var pg=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(pg||{}),Gi=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Gi||{}),gn=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(gn||{}),qr=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(qr||{}),yi=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(yi||{});function gg(e,n){return gs(fr(e)[Vn.DateFormat],n)}function mg(e,n){return gs(fr(e)[Vn.TimeFormat],n)}function _g(e,n){return gs(fr(e)[Vn.DateTimeFormat],n)}function ps(e,n){const t=fr(e),i=t[Vn.NumberSymbols][n];if(typeof i>"u"){if(n===yi.CurrencyDecimal)return t[Vn.NumberSymbols][yi.Decimal];if(n===yi.CurrencyGroup)return t[Vn.NumberSymbols][yi.Group]}return i}function LT(e){if(!e[Vn.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Vn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function gs(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function vb(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const FH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vg={},LH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var No=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(No||{}),bn=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(bn||{}),wn=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(wn||{});function BT(e,n,t,i){let r=function zH(e){if(jT(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(a=>+a);return yg(r,s-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(FH))return function qH(e){const n=new Date(0);let t=0,i=0;const r=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,o,a,l,c),n}(i)}const n=new Date(e);if(!jT(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Po(t,n)||n;let a,o=[];for(;n;){if(a=LH.exec(n),!a){o.push(n);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;n=u}}let l=r.getTimezoneOffset();i&&(l=UT(i,l),r=function WH(e,n,t){const i=t?-1:1,r=e.getTimezoneOffset();return function $H(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,i*(UT(n,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const m=function GH(e){if(bb[e])return bb[e];let n;switch(e){case"G":case"GG":case"GGG":n=Un(wn.Eras,gn.Abbreviated);break;case"GGGG":n=Un(wn.Eras,gn.Wide);break;case"GGGGG":n=Un(wn.Eras,gn.Narrow);break;case"y":n=Si(bn.FullYear,1,0,!1,!0);break;case"yy":n=Si(bn.FullYear,2,0,!0,!0);break;case"yyy":n=Si(bn.FullYear,3,0,!1,!0);break;case"yyyy":n=Si(bn.FullYear,4,0,!1,!0);break;case"Y":n=xg(1);break;case"YY":n=xg(2,!0);break;case"YYY":n=xg(3);break;case"YYYY":n=xg(4);break;case"M":case"L":n=Si(bn.Month,1,1);break;case"MM":case"LL":n=Si(bn.Month,2,1);break;case"MMM":n=Un(wn.Months,gn.Abbreviated);break;case"MMMM":n=Un(wn.Months,gn.Wide);break;case"MMMMM":n=Un(wn.Months,gn.Narrow);break;case"LLL":n=Un(wn.Months,gn.Abbreviated,Gi.Standalone);break;case"LLLL":n=Un(wn.Months,gn.Wide,Gi.Standalone);break;case"LLLLL":n=Un(wn.Months,gn.Narrow,Gi.Standalone);break;case"w":n=yb(1);break;case"ww":n=yb(2);break;case"W":n=yb(1,!0);break;case"d":n=Si(bn.Date,1);break;case"dd":n=Si(bn.Date,2);break;case"c":case"cc":n=Si(bn.Day,1);break;case"ccc":n=Un(wn.Days,gn.Abbreviated,Gi.Standalone);break;case"cccc":n=Un(wn.Days,gn.Wide,Gi.Standalone);break;case"ccccc":n=Un(wn.Days,gn.Narrow,Gi.Standalone);break;case"cccccc":n=Un(wn.Days,gn.Short,Gi.Standalone);break;case"E":case"EE":case"EEE":n=Un(wn.Days,gn.Abbreviated);break;case"EEEE":n=Un(wn.Days,gn.Wide);break;case"EEEEE":n=Un(wn.Days,gn.Narrow);break;case"EEEEEE":n=Un(wn.Days,gn.Short);break;case"a":case"aa":case"aaa":n=Un(wn.DayPeriods,gn.Abbreviated);break;case"aaaa":n=Un(wn.DayPeriods,gn.Wide);break;case"aaaaa":n=Un(wn.DayPeriods,gn.Narrow);break;case"b":case"bb":case"bbb":n=Un(wn.DayPeriods,gn.Abbreviated,Gi.Standalone,!0);break;case"bbbb":n=Un(wn.DayPeriods,gn.Wide,Gi.Standalone,!0);break;case"bbbbb":n=Un(wn.DayPeriods,gn.Narrow,Gi.Standalone,!0);break;case"B":case"BB":case"BBB":n=Un(wn.DayPeriods,gn.Abbreviated,Gi.Format,!0);break;case"BBBB":n=Un(wn.DayPeriods,gn.Wide,Gi.Format,!0);break;case"BBBBB":n=Un(wn.DayPeriods,gn.Narrow,Gi.Format,!0);break;case"h":n=Si(bn.Hours,1,-12);break;case"hh":n=Si(bn.Hours,2,-12);break;case"H":n=Si(bn.Hours,1);break;case"HH":n=Si(bn.Hours,2);break;case"m":n=Si(bn.Minutes,1);break;case"mm":n=Si(bn.Minutes,2);break;case"s":n=Si(bn.Seconds,1);break;case"ss":n=Si(bn.Seconds,2);break;case"S":n=Si(bn.FractionalSeconds,1);break;case"SS":n=Si(bn.FractionalSeconds,2);break;case"SSS":n=Si(bn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=wg(No.Short);break;case"ZZZZZ":n=wg(No.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=wg(No.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=wg(No.Long);break;default:return null}return bb[e]=n,n}(u);c+=m?m(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function yg(e,n,t){const i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function Po(e,n){const t=function DH(e){return fr(e)[Vn.LocaleId]}(e);if(vg[t]??={},vg[t][n])return vg[t][n];let i="";switch(n){case"shortDate":i=gg(e,qr.Short);break;case"mediumDate":i=gg(e,qr.Medium);break;case"longDate":i=gg(e,qr.Long);break;case"fullDate":i=gg(e,qr.Full);break;case"shortTime":i=mg(e,qr.Short);break;case"mediumTime":i=mg(e,qr.Medium);break;case"longTime":i=mg(e,qr.Long);break;case"fullTime":i=mg(e,qr.Full);break;case"short":const r=Po(e,"shortTime"),s=Po(e,"shortDate");i=bg(_g(e,qr.Short),[r,s]);break;case"medium":const o=Po(e,"mediumTime"),a=Po(e,"mediumDate");i=bg(_g(e,qr.Medium),[o,a]);break;case"long":const l=Po(e,"longTime"),c=Po(e,"longDate");i=bg(_g(e,qr.Long),[l,c]);break;case"full":const u=Po(e,"fullTime"),m=Po(e,"fullDate");i=bg(_g(e,qr.Full),[u,m])}return i&&(vg[t][n]=i),i}function bg(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return null!=n&&i in n?n[i]:t})),e}function Is(e,n,t="-",i,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=t));let o=String(e);for(;o.length<n;)o="0"+o;return i&&(o=o.slice(o.length-n)),s+o}function Si(e,n,t=0,i=!1,r=!1){return function(s,o){let a=function VH(e,n){switch(e){case bn.FullYear:return n.getFullYear();case bn.Month:return n.getMonth();case bn.Date:return n.getDate();case bn.Hours:return n.getHours();case bn.Minutes:return n.getMinutes();case bn.Seconds:return n.getSeconds();case bn.FractionalSeconds:return n.getMilliseconds();case bn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||a>-t)&&(a+=t),e===bn.Hours)0===a&&-12===t&&(a=12);else if(e===bn.FractionalSeconds)return function BH(e,n){return Is(e,3).substring(0,n)}(a,n);const l=ps(o,yi.MinusSign);return Is(a,n,l,i,r)}}function Un(e,n,t=Gi.Format,i=!1){return function(r,s){return function UH(e,n,t,i,r,s){switch(t){case wn.Months:return function mb(e,n,t){const i=fr(e),s=gs([i[Vn.MonthsFormat],i[Vn.MonthsStandalone]],n);return gs(s,t)}(n,r,i)[e.getMonth()];case wn.Days:return function FT(e,n,t){const i=fr(e),s=gs([i[Vn.DaysFormat],i[Vn.DaysStandalone]],n);return gs(s,t)}(n,r,i)[e.getDay()];case wn.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const c=function kH(e){const n=fr(e);return LT(n),(n[Vn.ExtraData][2]||[]).map(i=>"string"==typeof i?vb(i):[vb(i[0]),vb(i[1])])}(n),u=function OH(e,n,t){const i=fr(e);LT(i);const s=gs([i[Vn.ExtraData][0],i[Vn.ExtraData][1]],n)||[];return gs(s,t)||[]}(n,r,i),m=c.findIndex(F=>{if(Array.isArray(F)){const[K,le]=F,ge=o>=K.hours&&a>=K.minutes,ye=o<le.hours||o===le.hours&&a<le.minutes;if(K.hours<le.hours){if(ge&&ye)return!0}else if(ge||ye)return!0}else if(F.hours===o&&F.minutes===a)return!0;return!1});if(-1!==m)return u[m]}return function SH(e,n,t){const i=fr(e),s=gs([i[Vn.DayPeriodsFormat],i[Vn.DayPeriodsStandalone]],n);return gs(s,t)}(n,r,i)[o<12?0:1];case wn.Eras:return function TH(e,n){return gs(fr(e)[Vn.Eras],n)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,e,n,t,i)}}function wg(e){return function(n,t,i){const r=-1*i,s=ps(t,yi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case No.Short:return(r>=0?"+":"")+Is(o,2,s)+Is(Math.abs(r%60),2,s);case No.ShortGMT:return"GMT"+(r>=0?"+":"")+Is(o,1,s);case No.Long:return"GMT"+(r>=0?"+":"")+Is(o,2,s)+":"+Is(Math.abs(r%60),2,s);case No.Extended:return 0===i?"Z":(r>=0?"+":"")+Is(o,2,s)+":"+Is(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const jH=0,Cg=4;function VT(e){const n=e.getDay(),t=0===n?-3:Cg-n;return yg(e.getFullYear(),e.getMonth(),e.getDate()+t)}function yb(e,n=!1){return function(t,i){let r;if(n){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=VT(t),o=function HH(e){const n=yg(e,jH,1).getDay();return yg(e,0,1+(n<=Cg?Cg:Cg+7)-n)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Is(r,e,ps(i,yi.MinusSign))}}function xg(e,n=!1){return function(t,i){return Is(VT(t).getFullYear(),e,ps(i,yi.MinusSign),n)}}const bb={};function UT(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function jT(e){return e instanceof Date&&!isNaN(e.valueOf())}const YH=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Eb(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}function WT(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}const Db=/\s+/,zT=[];let Ag=(()=>{class e{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=zT,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Db):zT}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Db):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Db).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||e)(X(pt),X(hr))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngClass",""]],inputs:{klass:[vt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class o8{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $i=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new o8(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),YT(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{YT(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(X(as),X(ii),X(Sp))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function YT(e,n){e.context.$implicit=n.item}let jn=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new a8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(X(as),X(ii))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class a8{constructor(){this.$implicit=null,this.ngIf=null}}function KT(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ei(n)}'.`)}function ks(e,n){return new Le(2100,!1)}const C8=new Xe(""),x8=new Xe("");let il=(()=>{class e{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return BT(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw ks()}}static#e=this.\u0275fac=function(i){return new(i||e)(X(fs,16),X(C8,24),X(x8,24))};static#t=this.\u0275pipe=Li({name:"date",type:e,pure:!0,standalone:!0})}return e})(),ZT=(()=>{class e{constructor(t){this._locale=t}transform(t,i,r){if(!function Ib(e){return!(null==e||""===e||e!=e)}(t))return null;r||=this._locale;try{return function e8(e,n,t){return function Cb(e,n,t,i,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let c=function n8(e){let i,r,s,o,a,n=Math.abs(e)+"",t=0;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(r<0&&(r=s),r+=+n.slice(s+1),n=n.substring(0,s)):r<0&&(r=n.length),s=0;"0"===n.charAt(s);s++);if(s===(a=n.length))i=[0],r=1;else{for(a--;"0"===n.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(n.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(e);o&&(c=function t8(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(c));let u=n.minInt,m=n.minFrac,F=n.maxFrac;if(s){const Ee=s.match(YH);if(null===Ee)throw new Error(`${s} is not a valid digit info`);const We=Ee[1],Ye=Ee[3],Je=Ee[5];null!=We&&(u=Eb(We)),null!=Ye&&(m=Eb(Ye)),null!=Je?F=Eb(Je):null!=Ye&&m>F&&(F=m)}!function i8(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen;const s=Math.min(Math.max(n,r),t);let o=s+e.integerLen,a=i[o];if(o>0){i.splice(Math.max(e.integerLen,o));for(let m=o;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let m=1;m<o;m++)i[m]=0}if(a>=5)if(o-1<0){for(let m=0;m>o;m--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=n+e.integerLen,u=i.reduceRight(function(m,F,K,le){return le[K]=(F+=m)<10?F:F-10,l&&(0===le[K]&&K>=c?le.pop():l=!1),F>=10?1:0},0);u&&(i.unshift(u),e.integerLen++)}(c,m,F);let K=c.digits,le=c.integerLen;const ge=c.exponent;let ye=[];for(l=K.every(Ee=>!Ee);le<u;le++)K.unshift(0);for(;le<0;le++)K.unshift(0);le>0?ye=K.splice(le,K.length):(ye=K,K=[0]);const Ae=[];for(K.length>=n.lgSize&&Ae.unshift(K.splice(-n.lgSize,K.length).join(""));K.length>n.gSize;)Ae.unshift(K.splice(-n.gSize,K.length).join(""));K.length&&Ae.unshift(K.join("")),a=Ae.join(ps(t,i)),ye.length&&(a+=ps(t,r)+ye.join("")),ge&&(a+=ps(t,yi.Exponential)+"+"+ge)}else a=ps(t,yi.Infinity);return a=e<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}(e,function xb(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const m=l.charAt(u);"0"===m?t.minFrac=t.maxFrac=u+1:"#"===m?t.maxFrac=u+1:t.posSuf+=m}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-t.posPre.length-t.posSuf.length,m=s.indexOf("#");t.negPre=s.substring(0,m).replace(/'/g,""),t.negSuf=s.slice(m+u).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}(function _b(e,n){return fr(e)[Vn.NumberFormats][n]}(n,pg.Decimal),ps(n,yi.MinusSign)),n,yi.Group,yi.Decimal,t)}(function kb(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),r,i)}catch(s){throw ks()}}static#e=this.\u0275fac=function(i){return new(i||e)(X(fs,16))};static#t=this.\u0275pipe=Li({name:"number",type:e,pure:!0,standalone:!0})}return e})();let Qc=(()=>{class e{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw ks();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275pipe=Li({name:"slice",type:e,pure:!1,standalone:!0})}return e})(),Ob=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();const JT="browser";function ha(e){return e===JT}function fa(e){return"server"===e}let P8=(()=>{class e{static#e=this.\u0275prov=je({token:e,providedIn:"root",factory:()=>ha(Ke(Xi))?new F8(Ke(Mn),window):new B8})}return e})();class F8{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const t=function L8(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}}class B8{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class eM{}class aG extends vH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pb extends aG{static makeCurrent(){!function _H(e){IT??=e}(new Pb)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function lG(){return nh=nh||document.querySelector("base"),nh?nh.getAttribute("href"):null}();return null==t?null:function cG(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){nh=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return WT(document.cookie,n)}}let nh=null,uG=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();const Fb=new Xe("");let rM=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new Le(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Fb),Ge(Dt))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();class sM{constructor(n){this._doc=n}}const Lb="ng-app-id";let oM=(()=>{class e{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fa(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Lb}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Lb),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Lb,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn),Ge(tp),Ge(lv,8),Ge(Xi))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();const Bb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vb=/%COMP%/g,gG=new Xe("",{providedIn:"root",factory:()=>!0});function lM(e,n){return n.map(t=>t.replace(Vb,e))}let Ub=(()=>{class e{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fa(a),this.defaultRenderer=new jb(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pr.ShadowDom&&(i={...i,encapsulation:Pr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof dM?r.applyToHost(t):r instanceof Hb&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Pr.Emulated:s=new dM(l,c,i,this.appId,u,o,a,m);break;case Pr.ShadowDom:return new yG(l,c,t,i,o,a,this.nonce,m);default:s=new Hb(l,c,i,u,o,a,m)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(rM),Ge(oM),Ge(tp),Ge(gG),Ge(Mn),Ge(Xi),Ge(Dt),Ge(lv))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();class jb{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Bb[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(cM(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(cM(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Le(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const s=Bb[r];s?n.setAttributeNS(s,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=Bb[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(ra.DashCase|ra.Important)?n.style.setProperty(t,i,r&ra.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&ra.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){null!=n&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=ua().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function cM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class yG extends jb{constructor(n,t,i,r,s,o,a,l){super(n,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=lM(r.id,r.styles);for(const u of c){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=u,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Hb extends jb{constructor(n,t,i,r,s,o,a,l){super(n,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?lM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dM extends Hb{constructor(n,t,i,r,s,o,a,l){const c=r+"-"+i.id;super(n,t,i,s,o,a,l,c),this.contentAttr=function mG(e){return"_ngcontent-%COMP%".replace(Vb,e)}(c),this.hostAttr=function _G(e){return"_nghost-%COMP%".replace(Vb,e)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let bG=(()=>{class e extends sM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();const uM=["alt","control","meta","shift"],wG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let xG=(()=>{class e extends sM{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),uM.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=wG[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),uM.forEach(o=>{o!==r&&(0,CG[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();const SG=rT(j5,"browser",[{provide:Xi,useValue:JT},{provide:KC,useValue:function EG(){Pb.makeCurrent()},multi:!0},{provide:Mn,useFactory:function DG(){return function CF(e){av=e}(document),document},deps:[]}]),TG=new Xe(""),pM=[{provide:ig,useClass:class dG{addToWindow(n){pn.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new Le(5103,!1);return s},pn.getAllAngularTestabilities=()=>n.getAllTestabilities(),pn.getAllAngularRootElements=()=>n.getAllRootElements(),pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(i=>{const r=pn.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&i()};r.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?ua().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:KS,useClass:eb,deps:[Dt,tb,ig]},{provide:eb,useClass:eb,deps:[Dt,tb,ig]}],gM=[{provide:tv,useValue:"root"},{provide:Mo,useFactory:function AG(){return new Mo},deps:[]},{provide:Fb,useClass:bG,multi:!0,deps:[Mn,Dt,Xi]},{provide:Fb,useClass:xG,multi:!0,deps:[Mn]},Ub,oM,rM,{provide:Ap,useExisting:Ub},{provide:eM,useClass:uG,deps:[]},[]];let mM=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:tp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(TG,12))};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({providers:[...gM,...pM],imports:[Ob,H5]})}return e})(),MG=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wM(e){return e&&xe(e.schedule)}function Gb(e){return e[e.length-1]}function Tg(e){return xe(Gb(e))?e.pop():void 0}function rh(e){return wM(Gb(e))?e.pop():void 0}function pa(e){return this instanceof pa?(this.v=e,this):new pa(e)}function AM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function qb(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Yb=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function DM(e){return xe(e?.then)}function SM(e){return xe(e[Nt])}function TM(e){return Symbol.asyncIterator&&xe(e?.[Symbol.asyncIterator])}function MM(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IM=function n6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kM(e){return xe(e?.[IM])}function OM(e){return function EM(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(F){i[F]&&(r[F]=function(K){return new Promise(function(le,ge){s.push([F,K,le,ge])>1||a(F,K)})})}function a(F,K){try{!function l(F){F.value instanceof pa?Promise.resolve(F.value.v).then(c,u):m(s[0][2],F)}(i[F](K))}catch(le){m(s[0][3],le)}}function c(F){a("next",F)}function u(F){a("throw",F)}function m(F,K){F(K),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield pa(t.read());if(r)return yield pa(void 0);yield yield pa(i)}}finally{t.releaseLock()}})}function RM(e){return xe(e?.getReader)}function Zi(e){if(e instanceof Ut)return e;if(null!=e){if(SM(e))return function i6(e){return new Ut(n=>{const t=e[Nt]();if(xe(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Yb(e))return function r6(e){return new Ut(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(DM(e))return function s6(e){return new Ut(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,bt)})}(e);if(TM(e))return NM(e);if(kM(e))return function o6(e){return new Ut(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(RM(e))return function a6(e){return NM(OM(e))}(e)}throw MM(e)}function NM(e){return new Ut(n=>{(function l6(e,n){var t,i,r,s;return function CM(e,n,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(m){o(m)}}function l(u){try{c(i.throw(u))}catch(m){o(m)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=AM(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Fo(e,n,t,i=0,r=!1){const s=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function PM(e,n=0){return An((t,i)=>{t.subscribe(on(i,r=>Fo(i,e,()=>i.next(r),n),()=>Fo(i,e,()=>i.complete(),n),r=>Fo(i,e,()=>i.error(r),n)))})}function FM(e,n=0){return An((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function LM(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ut(t=>{Fo(t,n,()=>{const i=e[Symbol.asyncIterator]();Fo(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function di(e,n){return n?function p6(e,n){if(null!=e){if(SM(e))return function c6(e,n){return Zi(e).pipe(FM(n),PM(n))}(e,n);if(Yb(e))return function u6(e,n){return new Ut(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(DM(e))return function d6(e,n){return Zi(e).pipe(FM(n),PM(n))}(e,n);if(TM(e))return LM(e,n);if(kM(e))return function h6(e,n){return new Ut(t=>{let i;return Fo(t,n,()=>{i=e[IM](),Fo(t,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>xe(i?.return)&&i.return()})}(e,n);if(RM(e))return function f6(e,n){return LM(OM(e),n)}(e,n)}throw MM(e)}(e,n):Zi(e)}function _t(...e){return di(e,rh(e))}function Wi(e,n,t=1/0){return xe(n)?Wi((i,r)=>dt((s,o)=>n(i,s,r,o))(Zi(e(i,r))),t):("number"==typeof n&&(t=n),An((i,r)=>function g6(e,n,t,i,r,s,o,a){const l=[];let c=0,u=0,m=!1;const F=()=>{m&&!l.length&&!c&&n.complete()},K=ge=>c<i?le(ge):l.push(ge),le=ge=>{s&&n.next(ge),c++;let ye=!1;Zi(t(ge,u++)).subscribe(on(n,Ae=>{r?.(Ae),s?K(Ae):n.next(Ae)},()=>{ye=!0},void 0,()=>{if(ye)try{for(c--;l.length&&c<i;){const Ae=l.shift();o?Fo(n,o,()=>le(Ae)):le(Ae)}F()}catch(Ae){n.error(Ae)}}))};return e.subscribe(on(n,K,()=>{m=!0,F()})),()=>{a?.()}}(i,r,e,t)))}function Xc(e,n){return xe(n)?Wi(e,n,1):Wi(e,1)}function qn(e,n){return An((t,i)=>{let r=0;t.subscribe(on(i,s=>e.call(n,s,r++)&&i.next(s)))})}function sh(e){return An((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Ri(e,n){return An((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(on(i,l=>{r?.unsubscribe();let c=0;const u=s++;Zi(e(l,u)).subscribe(r=on(i,m=>i.next(n?n(l,m,u,c++):m),()=>{r=null,a()}))},()=>{o=!0,a()}))})}class Mg{}class Ig{}class ms{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ms;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ms?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=n.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class m6{encodeKey(n){return BM(n)}encodeValue(n){return BM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const v6=/%(\d[a-f0-9])/gi,y6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BM(e){return encodeURIComponent(e).replace(v6,(n,t)=>y6[t]??n)}function kg(e){return`${e}`}class Lo{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new m6,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _6(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(kg):[kg(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Lo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(kg(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(kg(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class b6{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function VM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function UM(e){return typeof Blob<"u"&&e instanceof Blob}function jM(e){return typeof FormData<"u"&&e instanceof FormData}class oh{constructor(n,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function w6(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ms,this.context??=new b6,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Lo,this.urlWithParams=t}serializeBody(){return null===this.body?null:VM(this.body)||UM(this.body)||jM(this.body)||function C6(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jM(this.body)?null:UM(this.body)?this.body.type||null:VM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,o=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,c=n.params||this.params;const u=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((m,F)=>m.set(F,n.setHeaders[F]),l)),n.setParams&&(c=Object.keys(n.setParams).reduce((m,F)=>m.set(F,n.setParams[F]),c)),new oh(t,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var ga=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ga||{});class Kb{constructor(n,t=ah.Ok,i="OK"){this.headers=n.headers||new ms,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Og extends Kb{constructor(n={}){super(n),this.type=ga.ResponseHeader}clone(n={}){return new Og({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class rl extends Kb{constructor(n={}){super(n),this.type=ga.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new rl({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Zc extends Kb{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var ah=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(ah||{});function Qb(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let ma=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof oh)s=t;else{let l,c;l=r.headers instanceof ms?r.headers:new ms(r.headers),r.params&&(c=r.params instanceof Lo?r.params:new Lo({fromObject:r.params})),s=new oh(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=_t(s).pipe(Xc(l=>this.handler.handle(l)));if(t instanceof oh||"events"===r.observe)return o;const a=o.pipe(qn(l=>l instanceof rl));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(dt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(dt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(dt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(dt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Lo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Qb(r,i))}post(t,i,r={}){return this.request("POST",t,Qb(r,i))}put(t,i,r={}){return this.request("PUT",t,Qb(r,i))}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mg))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();function GM(e,n){return n(e)}function S6(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}const M6=new Xe(""),lh=new Xe(""),$M=new Xe(""),WM=new Xe("");function I6(){let e=null;return(n,t)=>{null===e&&(e=(Ke(M6,{optional:!0})??[]).reduceRight(S6,GM));const i=Ke(zc),r=i.add();return e(n,t).pipe(sh(()=>i.remove(r)))}}let zM=(()=>{class e extends Mg{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Ke(zc);const r=Ke(WM,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(lh),...this.injector.get($M,[])]));this.chain=r.reduceRight((s,o)=>function T6(e,n,t){return(i,r)=>Jo(t,()=>n(i,s=>e(s,r)))}(s,o,this.injector),GM)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(sh(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Ig),Ge(ur))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();const P6=/^\)\]\}',?\n/;let YM=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Le(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?di(i.\u0275loadImpl()):_t(null)).pipe(Ri(()=>new Ut(s=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((ge,ye)=>o.setRequestHeader(ge,ye.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ge=t.detectContentTypeHeader();null!==ge&&o.setRequestHeader("Content-Type",ge)}if(t.responseType){const ge=t.responseType.toLowerCase();o.responseType="json"!==ge?ge:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const ge=o.statusText||"OK",ye=new ms(o.getAllResponseHeaders()),Ae=function F6(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new Og({headers:ye,status:o.status,statusText:ge,url:Ae}),l},u=()=>{let{headers:ge,status:ye,statusText:Ae,url:Ee}=c(),We=null;ye!==ah.NoContent&&(We=typeof o.response>"u"?o.responseText:o.response),0===ye&&(ye=We?ah.Ok:0);let Ye=ye>=200&&ye<300;if("json"===t.responseType&&"string"==typeof We){const Je=We;We=We.replace(P6,"");try{We=""!==We?JSON.parse(We):null}catch(rt){We=Je,Ye&&(Ye=!1,We={error:rt,text:We})}}Ye?(s.next(new rl({body:We,headers:ge,status:ye,statusText:Ae,url:Ee||void 0})),s.complete()):s.error(new Zc({error:We,headers:ge,status:ye,statusText:Ae,url:Ee||void 0}))},m=ge=>{const{url:ye}=c(),Ae=new Zc({error:ge,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ye||void 0});s.error(Ae)};let F=!1;const K=ge=>{F||(s.next(c()),F=!0);let ye={type:ga.DownloadProgress,loaded:ge.loaded};ge.lengthComputable&&(ye.total=ge.total),"text"===t.responseType&&o.responseText&&(ye.partialText=o.responseText),s.next(ye)},le=ge=>{let ye={type:ga.UploadProgress,loaded:ge.loaded};ge.lengthComputable&&(ye.total=ge.total),s.next(ye)};return o.addEventListener("load",u),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),t.reportProgress&&(o.addEventListener("progress",K),null!==a&&o.upload&&o.upload.addEventListener("progress",le)),o.send(a),s.next({type:ga.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",u),o.removeEventListener("timeout",m),t.reportProgress&&(o.removeEventListener("progress",K),null!==a&&o.upload&&o.upload.removeEventListener("progress",le)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(eM))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();const Jb=new Xe(""),KM=new Xe("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),QM=new Xe("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class XM{}let V6=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=WT(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn),Ge(Xi),Ge(KM))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();function U6(e,n){const t=e.url.toLowerCase();if(!Ke(Jb)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=Ke(XM).getToken(),r=Ke(QM);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var _a=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(_a||{});function j6(...e){const n=[ma,YM,zM,{provide:Mg,useExisting:zM},{provide:Ig,useExisting:YM},{provide:lh,useValue:U6,multi:!0},{provide:Jb,useValue:!0},{provide:XM,useClass:V6}];for(const t of e)n.push(...t.\u0275providers);return function Qf(e){return{\u0275providers:e}}(n)}const ZM=new Xe("");function H6(){return function sl(e,n){return{\u0275kind:e,\u0275providers:n}}(_a.LegacyInterceptors,[{provide:ZM,useFactory:I6},{provide:lh,useExisting:ZM,multi:!0}])}let G6=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({providers:[j6(H6())]})}return e})();const{isArray:Q6}=Array,{getPrototypeOf:X6,prototype:Z6,keys:J6}=Object;function sI(e){if(1===e.length){const n=e[0];if(Q6(n))return{args:n,keys:null};if(function e$(e){return e&&"object"==typeof e&&X6(e)===Z6}(n)){const t=J6(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:t$}=Array;function e0(e){return dt(n=>function n$(e,n){return t$(n)?e(...n):e(n)}(e,n))}function oI(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Ng(...e){const n=rh(e),t=Tg(e),{args:i,keys:r}=sI(e);if(0===i.length)return di([],n);const s=new Ut(function i$(e,n,t=Ct){return i=>{aI(n,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)aI(n,()=>{const c=di(e[l],n);let u=!1;c.subscribe(on(i,m=>{s[l]=m,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,n,r?o=>oI(r,o):Ct));return t?s.pipe(e0(t)):s}function aI(e,n,t){e?Fo(t,e,n):n()}const Pg=Ne(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Jc(e=1/0){return Wi(Ct,e)}function ed(...e){return function r$(){return Jc(1)}()(di(e,rh(e)))}function lI(e){return new Ut(n=>{Zi(e()).subscribe(n)})}function ao(e,n){const t=xe(e)?e:()=>e,i=r=>r.error(t());return new Ut(n?r=>n.schedule(i,0,r):i)}const _s=new Ut(e=>e.complete());function t0(){return An((e,n)=>{let t=null;e._refCount++;const i=on(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class cI extends Ut{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jn(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ie;const t=this.getSubject();n.add(this.source.subscribe(on(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ie.EMPTY)}return n}refCount(){return t0()(this)}}function zi(e){return e<=0?()=>_s:An((n,t)=>{let i=0;n.subscribe(on(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function n0(...e){const n=rh(e);return An((t,i)=>{(n?ed(e,t,n):ed(e,t)).subscribe(i)})}function Fg(e){return An((n,t)=>{let i=!1;n.subscribe(on(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function dI(e=o$){return An((n,t)=>{let i=!1;n.subscribe(on(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function o$(){return new Pg}function ol(e,n){const t=arguments.length>=2;return i=>i.pipe(e?qn((r,s)=>e(r,s,i)):Ct,zi(1),t?Fg(n):dI(()=>new Pg))}function Ti(e,n,t){const i=xe(e)||n||t?{next:e,error:n,complete:t}:e;return i?An((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(on(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ct}function vs(e){return An((n,t)=>{let s,i=null,r=!1;i=n.subscribe(on(t,void 0,void 0,o=>{s=Zi(e(o,vs(e)(n))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function r0(e){return e<=0?()=>_s:An((n,t)=>{let i=[];n.subscribe(on(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function uI(e){return dt(()=>e)}function wt(e){return An((n,t)=>{Zi(e).subscribe(on(t,()=>t.complete(),ft)),!t.closed&&n.subscribe(t)})}const $t="primary",ch=Symbol("RouteTitle");class d${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function td(e){return new d$(e)}function u$(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function lo(e,n){const t=e?s0(e):void 0,i=n?s0(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!hI(e[r],n[r]))return!1;return!0}function s0(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hI(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,s)=>i[s]===r)}return e===n}function fI(e){return e.length>0?e[e.length-1]:null}function va(e){return function K6(e){return!!e&&(e instanceof Ut||xe(e.lift)&&xe(e.subscribe))}(e)?e:$u(e)?di(Promise.resolve(e)):_t(e)}const f$={exact:function mI(e,n,t){if(!al(e.segments,n.segments)||!Lg(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!mI(e.children[i],n.children[i],t))return!1;return!0},subset:_I},pI={exact:function p$(e,n){return lo(e,n)},subset:function g$(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>hI(e[t],n[t]))},ignored:()=>!0};function gI(e,n,t){return f$[t.paths](e.root,n.root,t.matrixParams)&&pI[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function _I(e,n,t){return vI(e,n,n.segments,t)}function vI(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!al(r,t)||n.hasChildren()||!Lg(r,t,i))}if(e.segments.length===t.length){if(!al(e.segments,t)||!Lg(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!_I(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(al(e.segments,r)&&Lg(e.segments,r,i)&&e.children[$t])&&vI(e.children[$t],n,s,i)}}function Lg(e,n,t){return n.every((i,r)=>pI[t](e[r].parameters,i.parameters))}class nd{constructor(n=new Pn([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=td(this.queryParams),this._queryParamMap}toString(){return v$.serialize(this)}}class Pn{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bg(this)}}class dh{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=td(this.parameters),this._parameterMap}toString(){return wI(this)}}function al(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let id=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>new o0,providedIn:"root"})}return e})();class o0{parse(n){const t=new M$(n);return new nd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${uh(n.root,!0)}`,i=function w$(e){const n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Vg(t)}=${Vg(r)}`).join("&"):`${Vg(t)}=${Vg(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function y$(e){return encodeURI(e)}(n.fragment)}`:""}`}}const v$=new o0;function Bg(e){return e.segments.map(n=>wI(n)).join("/")}function uh(e,n){if(!e.hasChildren())return Bg(e);if(n){const t=e.children[$t]?uh(e.children[$t],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==$t&&i.push(`${r}:${uh(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function _$(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===$t&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==$t&&(t=t.concat(n(r,i)))}),t}(e,(i,r)=>r===$t?[uh(e.children[$t],!1)]:[`${r}:${uh(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[$t]?`${Bg(e)}/${t[0]}`:`${Bg(e)}/(${t.join("//")})`}}function yI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vg(e){return yI(e).replace(/%3B/gi,";")}function a0(e){return yI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ug(e){return decodeURIComponent(e)}function bI(e){return Ug(e.replace(/\+/g,"%20"))}function wI(e){return`${a0(e.path)}${function b$(e){return Object.entries(e).map(([n,t])=>`;${a0(n)}=${a0(t)}`).join("")}(e.parameters)}`}const C$=/^[^\/()?;#]+/;function l0(e){const n=e.match(C$);return n?n[0]:""}const x$=/^[^\/()?;=#]+/,A$=/^[^=?&#]+/,S$=/^[^&#]+/;class M${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[$t]=new Pn(n,t)),i}parseSegment(){const n=l0(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Le(4009,!1);return this.capture(n),new dh(Ug(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function E$(e){const n=e.match(x$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=l0(this.remaining);r&&(i=r,this.capture(i))}n[Ug(t)]=Ug(i)}parseQueryParam(n){const t=function D$(e){const n=e.match(A$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function T$(e){const n=e.match(S$);return n?n[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=bI(t),s=bI(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=l0(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Le(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=$t);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[$t]:new Pn([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Le(4011,!1)}}function CI(e){return e.segments.length>0?new Pn([],{[$t]:e}):e}function xI(e){const n={};for(const[i,r]of Object.entries(e.children)){const s=xI(r);if(i===$t&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))n[o]=a;else(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function I$(e){if(1===e.numberOfChildren&&e.children[$t]){const n=e.children[$t];return new Pn(e.segments.concat(n.segments),n.children)}return e}(new Pn(e.segments,n))}function rd(e){return e instanceof nd}function EI(e){let n;const r=CI(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Pn(s.url,o);return s===e&&(n=a),a}(e.root));return n??r}function AI(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(0===n.length)return c0(r,r,r,t,i);const s=function O$(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new SI(!0,0,e);let n=0,t=!1;const i=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new SI(t,n,i)}(n);if(s.toRoot())return c0(r,r,new Pn([],{}),t,i);const o=function R$(e,n,t){if(e.isAbsolute)return new Hg(n,!0,0);if(!t)return new Hg(n,!1,NaN);if(null===t.parent)return new Hg(t,!0,0);const i=jg(e.commands[0])?0:1;return function N$(e,n,t){let i=e,r=n,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Le(4005,!1);r=i.segments.length}return new Hg(i,!1,r-s)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(s,r,e),a=o.processChildren?fh(o.segmentGroup,o.index,s.commands):TI(o.segmentGroup,o.index,s.commands);return c0(r,o.segmentGroup,a,t,i)}function jg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function hh(e){return"object"==typeof e&&null!=e&&e.outlets}function c0(e,n,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=e===n?t:DI(e,n,t);const a=CI(xI(o));return new nd(a,s,r)}function DI(e,n,t){const i={};return Object.entries(e.children).forEach(([r,s])=>{i[r]=s===n?t:DI(s,n,t)}),new Pn(e.segments,i)}class SI{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&jg(i[0]))throw new Le(4003,!1);const r=i.find(hh);if(r&&r!==fI(i))throw new Le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hg{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function TI(e,n,t){if(e??=new Pn([],{}),0===e.segments.length&&e.hasChildren())return fh(e,n,t);const i=function F$(e,n,t){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return s;const o=e.segments[r],a=t[i];if(hh(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!II(l,c,o))return s;i+=2}else{if(!II(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new Pn(e.segments.slice(0,i.pathIndex),{});return s.children[$t]=new Pn(e.segments.slice(i.pathIndex),e.children),fh(s,0,r)}return i.match&&0===r.length?new Pn(e.segments,{}):i.match&&!e.hasChildren()?d0(e,n,t):i.match?fh(e,0,r):d0(e,n,t)}function fh(e,n,t){if(0===t.length)return new Pn(e.segments,{});{const i=function P$(e){return hh(e[0])?e[0].outlets:{[$t]:e}}(t),r={};if(Object.keys(i).some(s=>s!==$t)&&e.children[$t]&&1===e.numberOfChildren&&0===e.children[$t].segments.length){const s=fh(e.children[$t],n,t);return new Pn(e.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=TI(e.children[s],n,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Pn(e.segments,r)}}function d0(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const s=t[r];if(hh(s)){const l=L$(s.outlets);return new Pn(i,l)}if(0===r&&jg(t[0])){i.push(new dh(e.segments[n].path,MI(t[0]))),r++;continue}const o=hh(s)?s.outlets[$t]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&jg(a)?(i.push(new dh(o,MI(a))),r+=2):(i.push(new dh(o,{})),r++)}return new Pn(i,{})}function L$(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=d0(new Pn([],{}),0,i))}),n}function MI(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function II(e,n,t){return e==t.path&&lo(n,t.parameters)}const ph="imperative";var cn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(cn||{});class co{constructor(n,t){this.id=n,this.url=t}}class Gg extends co{constructor(n,t,i="imperative",r=null){super(n,t),this.type=cn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bo extends co{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=cn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ys=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ys||{}),$g=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}($g||{});class sd extends co{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=cn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class od extends co{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=cn.NavigationSkipped}}class Wg extends co{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=cn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kI extends co{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=cn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B$ extends co{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=cn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V$ extends co{constructor(n,t,i,r,s){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=cn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class U$ extends co{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=cn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j$ extends co{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=cn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H${constructor(n){this.route=n,this.type=cn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class G${constructor(n){this.route=n,this.type=cn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $${constructor(n){this.snapshot=n,this.type=cn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W${constructor(n){this.snapshot=n,this.type=cn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z${constructor(n){this.snapshot=n,this.type=cn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q${constructor(n){this.snapshot=n,this.type=cn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OI{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=cn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class u0{}class h0{constructor(n){this.url=n}}class Y${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gh,this.attachRef=null}}let gh=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Y$,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class RI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=f0(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=f0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=p0(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return p0(n,this._root).map(t=>t.value)}}function f0(e,n){if(e===n.value)return n;for(const t of n.children){const i=f0(e,t);if(i)return i}return null}function p0(e,n){if(e===n.value)return[n];for(const t of n.children){const i=p0(e,t);if(i.length)return i.unshift(n),i}return[]}class Os{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ad(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class NI extends RI{constructor(n,t){super(n),this.snapshot=t,_0(this,n)}toString(){return this.snapshot.toString()}}function PI(e){const n=function K$(e){const s=new m0([],{},{},"",{},$t,e,null,{});return new FI("",new Os(s,[]))}(e),t=new Zt([new dh("",{})]),i=new Zt({}),r=new Zt({}),s=new Zt({}),o=new Zt(""),a=new Ji(t,i,s,o,r,$t,e,n.root);return a.snapshot=n.root,new NI(new Os(a,[]),n)}class Ji{constructor(n,t,i,r,s,o,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(dt(c=>c[ch]))??_t(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(dt(n=>td(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(dt(n=>td(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function g0(e,n,t="emptyOnly"){let i;const{routeConfig:r}=e;return i=null===n||"always"!==t&&""!==r?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...r?.data,...e._resolvedData}},r&&BI(r)&&(i.resolve[ch]=r.title),i}class m0{get title(){return this.data?.[ch]}constructor(n,t,i,r,s,o,a,l,c){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=td(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=td(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FI extends RI{constructor(n,t){super(t),this.url=n,_0(this,t)}toString(){return LI(this._root)}}function _0(e,n){n.value._routerState=e,n.children.forEach(t=>_0(e,t))}function LI(e){const n=e.children.length>0?` { ${e.children.map(LI).join(", ")} } `:"";return`${e.value}${n}`}function v0(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,lo(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),lo(n.params,t.params)||e.paramsSubject.next(t.params),function h$(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!lo(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),lo(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function y0(e,n){const t=lo(e.params,n.params)&&function m$(e,n){return al(e,n)&&e.every((t,i)=>lo(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||y0(e.parent,n.parent))}function BI(e){return"string"==typeof e.title||null===e.title}let b0=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=Ke(gh),this.location=Ke(as),this.changeDetector=Ke(Er),this.environmentInjector=Ke(ur),this.inputBinder=Ke(zg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Le(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Le(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Q$(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=Be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]})}return e})();class Q${constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Ji?this.route:n===gh?this.childContexts:this.parent.get(n,t)}}const zg=new Xe("");let VI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Ng([i.queryParams,i.params,i.data]).pipe(Ri(([s,o,a],l)=>(a={...s,...o,...a},0===l?_t(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function mH(e){const n=Ht(e);if(!n)return null;const t=new Au(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();function mh(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function Z$(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return mh(e,i,r);return mh(e,i)})}(e,n,t);return new Os(i,r)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>mh(e,a)),o}}const i=function J$(e){return new Ji(new Zt(e.url),new Zt(e.params),new Zt(e.queryParams),new Zt(e.fragment),new Zt(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(s=>mh(e,s));return new Os(i,r)}}const UI="ngNavigationCancelingError";function jI(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=rd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=HI(!1,ys.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function HI(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[UI]=!0,t.cancellationCode=n,t}function GI(e){return!!e&&e[UI]}let $I=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=jt({type:e,selectors:[["ng-component"]],standalone:!0,features:[us],decls:1,vars:0,template:function(i,r){1&i&&ke(0,"router-outlet")},dependencies:[b0],encapsulation:2})}return e})();function w0(e){const n=e.children&&e.children.map(w0),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=$I),t}function uo(e){return e.outlet||$t}function _h(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class aW{constructor(n,t,i,r,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),v0(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=ad(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,t,i){const r=n.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,s=ad(n);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,s=ad(n);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const r=ad(t);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new q$(s.value.snapshot))}),n.children.length&&this.forwardEvent(new W$(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,s=t?t.value:null;if(v0(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),v0(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=_h(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,i)}}class WI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class qg{constructor(n,t){this.component=n,this.route=t}}function lW(e,n,t){const i=e._root;return vh(i,n?n._root:null,t,[i.value])}function ld(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function l_(e){return null!==Bl(e)}(e)?n.get(e):e:i}function vh(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ad(n);return e.children.forEach(o=>{(function dW(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function uW(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!al(e.url,n.url);case"pathParamsOrQueryParamsChange":return!al(e.url,n.url)||!lo(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y0(e,n)||!lo(e.queryParams,n.queryParams);default:return!y0(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new WI(i)):(s.data=o.data,s._resolvedData=o._resolvedData),vh(e,n,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qg(a.outlet.component,o))}else o&&yh(n,a,r),r.canActivateChecks.push(new WI(i)),vh(e,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>yh(a,t.getContext(o),r)),r}function yh(e,n,t){const i=ad(e),r=e.value;Object.entries(i).forEach(([s,o])=>{yh(o,r.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new qg(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function bh(e){return"function"==typeof e}function zI(e){return e instanceof Pg||"EmptyError"===e?.name}const Yg=Symbol("INITIAL_VALUE");function cd(){return Ri(e=>Ng(e.map(n=>n.pipe(zi(1),n0(Yg)))).pipe(dt(n=>{for(const t of n)if(!0!==t){if(t===Yg)return Yg;if(!1===t||t instanceof nd)return t}return!0}),qn(n=>n!==Yg),zi(1)))}function qI(e){return function yr(...e){return zn(e)}(Ti(n=>{if(rd(n))throw jI(0,n)}),dt(n=>!0===n))}class C0{constructor(n){this.segmentGroup=n||null}}class x0 extends Error{constructor(n){super(),this.urlTree=n}}function dd(e){return ao(new C0(e))}class IW{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return _t(i);if(r.numberOfChildren>1||!r.children[$t])return ao(new Le(4e3,!1));r=r.children[$t]}}applyRedirectCommands(n,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t.startsWith("/"))throw new x0(r);return r}applyRedirectCreateUrlTree(n,t,i,r){const s=this.createSegmentGroup(n,t.root,i,r);return new nd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(n,t,i,r){const s=this.createSegments(n,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(n,l,i,r)}),new Pn(s,o)}createSegments(n,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new Le(4001,!1);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}const E0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kW(e,n,t,i,r){const s=A0(e,n,t);return s.matched?(i=function tW(e,n){return e.providers&&!e._injector&&(e._injector=zy(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function SW(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?_t(r.map(o=>{const a=ld(o,e);return va(function _W(e){return e&&bh(e.canMatch)}(a)?a.canMatch(n,t):Jo(e,()=>a(n,t)))})).pipe(cd(),qI()):_t(!0)}(i,n,t).pipe(dt(o=>!0===o?s:{...E0}))):_t(s)}function A0(e,n,t){if("**"===n.path)return function OW(e){return{matched:!0,parameters:e.length>0?fI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...E0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||u$)(t,e,n);if(!r)return{...E0};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function YI(e,n,t,i){return t.length>0&&function PW(e,n,t){return t.some(i=>Kg(e,n,i)&&uo(i)!==$t)}(e,t,i)?{segmentGroup:new Pn(n,NW(i,new Pn(t,e.children))),slicedSegments:[]}:0===t.length&&function FW(e,n,t){return t.some(i=>Kg(e,n,i))}(e,t,i)?{segmentGroup:new Pn(e.segments,RW(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new Pn(e.segments,e.children),slicedSegments:t}}function RW(e,n,t,i){const r={};for(const s of t)if(Kg(e,n,s)&&!i[uo(s)]){const o=new Pn([],{});r[uo(s)]=o}return{...i,...r}}function NW(e,n){const t={};t[$t]=n;for(const i of e)if(""===i.path&&uo(i)!==$t){const r=new Pn([],{});t[uo(i)]=r}return t}function Kg(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class VW{}class HW{constructor(n,t,i,r,s,o,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new IW(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Le(4002,`'${n.segmentGroup}'`)}recognize(){const n=YI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(dt(t=>{const i=new m0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),r=new Os(i,t),s=new FI("",r),o=function k$(e,n,t=null,i=null){return AI(EI(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,$t).pipe(vs(i=>{if(i instanceof x0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof C0?this.noMatchError(i):i}))}inheritParamsAndData(n,t){const i=n.value,r=g0(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0).pipe(dt(s=>s instanceof Os?[s]:[]))}processChildren(n,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return di(r).pipe(Xc(s=>{const o=i.children[s],a=function sW(e,n){const t=e.filter(i=>uo(i)===n);return t.push(...e.filter(i=>uo(i)!==n)),t}(t,s);return this.processSegmentGroup(n,a,o,s)}),function l$(e,n){return An(function a$(e,n,t,i,r){return(s,o)=>{let a=t,l=n,c=0;s.subscribe(on(o,u=>{const m=c++;l=a?e(l,u,m):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(e,n,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Fg(null),function c$(e,n){const t=arguments.length>=2;return i=>i.pipe(e?qn((r,s)=>e(r,s,i)):Ct,r0(1),t?Fg(n):dI(()=>new Pg))}(),Wi(s=>{if(null===s)return dd(i);const o=KI(s);return function GW(e){e.sort((n,t)=>n.value.outlet===$t?-1:t.value.outlet===$t?1:n.value.outlet.localeCompare(t.value.outlet))}(o),_t(o)}))}processSegment(n,t,i,r,s,o){return di(t).pipe(Xc(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,i,r,s,o).pipe(vs(l=>{if(l instanceof C0)return _t(null);throw l}))),ol(a=>!!a),vs(a=>{if(zI(a))return function BW(e,n,t){return 0===n.length&&!e.children[t]}(i,r,s)?_t(new VW):dd(i);throw a}))}processSegmentAgainstRoute(n,t,i,r,s,o,a){return function LW(e,n,t,i){return!!(uo(e)===i||i!==$t&&Kg(n,t,e))&&A0(n,e,t).matched}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,s,o):dd(r):dd(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=A0(t,r,s);if(!a)return dd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,m).pipe(Wi(F=>this.processSegment(n,i,t,F.concat(u),o,!1)))}matchSegmentAgainstRoute(n,t,i,r,s){const o=kW(t,i,r,n);return"**"===i.path&&(t.children={}),o.pipe(Ri(a=>a.matched?this.getChildConfig(n=i._injector??n,i,r).pipe(Ri(({routes:l})=>{const c=i._loadedInjector??n,{consumedSegments:u,remainingSegments:m,parameters:F}=a,K=new m0(u,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function WW(e){return e.data||{}}(i),uo(i),i.component??i._loadedComponent??null,i,function zW(e){return e.resolve||{}}(i)),{segmentGroup:le,slicedSegments:ge}=YI(t,u,m,l);if(0===ge.length&&le.hasChildren())return this.processChildren(c,l,le).pipe(dt(Ae=>null===Ae?null:new Os(K,Ae)));if(0===l.length&&0===ge.length)return _t(new Os(K,[]));const ye=uo(i)===s;return this.processSegment(c,l,le,ge,ye?$t:s,!0).pipe(dt(Ae=>new Os(K,Ae instanceof Os?[Ae]:[])))})):dd(t)))}getChildConfig(n,t,i){return t.children?_t({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?_t({routes:t._loadedRoutes,injector:t._loadedInjector}):function DW(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?_t(!0):_t(r.map(o=>{const a=ld(o,e);return va(function fW(e){return e&&bh(e.canLoad)}(a)?a.canLoad(n,t):Jo(e,()=>a(n,t)))})).pipe(cd(),qI())}(n,t,i).pipe(Wi(r=>r?this.configLoader.loadChildren(n,t).pipe(Ti(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function MW(e){return ao(HI(!1,ys.GuardRejected))}())):_t({routes:[],injector:n})}}function $W(e){const n=e.value.routeConfig;return n&&""===n.path}function KI(e){const n=[],t=new Set;for(const i of e){if(!$W(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=KI(i.children);n.push(new Os(i.value,r))}return n.filter(i=>!t.has(i))}function QI(e){const n=e.children.map(t=>QI(t)).flat();return[e,...n]}function D0(e){return Ri(n=>{const t=e(n);return t?di(t).pipe(dt(()=>n)):_t(n)})}let XI=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===$t);return i}getResolvedTitleForRoute(t){return t.data[ch]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>Ke(ZW),providedIn:"root"})}return e})(),ZW=(()=>{class e extends XI{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(MG))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ud=new Xe("",{providedIn:"root",factory:()=>({})}),hd=new Xe("");let S0=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ke($S)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _t(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=va(t.loadComponent()).pipe(dt(ZI),Ti(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),sh(()=>{this.componentLoaders.delete(t)})),r=new cI(i,()=>new ut).pipe(t0());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return _t({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function JW(e,n,t,i){return va(e.loadChildren()).pipe(dt(ZI),Wi(r=>r instanceof hS||Array.isArray(r)?_t(r):di(n.compileModuleAsync(r))),dt(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(hd,[],{optional:!0,self:!0}).flat()),{routes:o.map(w0),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(sh(()=>{this.childrenLoaders.delete(i)})),o=new cI(s,()=>new ut).pipe(t0());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZI(e){return function ez(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let T0=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>Ke(tz),providedIn:"root"})}return e})(),tz=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const JI=new Xe(""),ek=new Xe("");function nz(e,n,t){const i=e.get(ek),r=e.get(Mn);return e.get(Dt).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),function iz(e){return new Promise(n=>{LE(n,{injector:e})})}(e))),{onViewTransitionCreated:l}=i;return l&&Jo(e,()=>l({transition:a,from:n,to:t})),o})}let Qg=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=Ke(S0),this.environmentInjector=Ke(ur),this.urlSerializer=Ke(id),this.rootContexts=Ke(gh),this.location=Ke(Ju),this.inputBindingEnabled=null!==Ke(zg,{optional:!0}),this.titleStrategy=Ke(XI),this.options=Ke(ud,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ke(T0),this.createViewTransition=Ke(JI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_t(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new G$(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new H$(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Zt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ph,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qn(s=>0!==s.id),dt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ri(s=>{this.currentTransition=s;let o=!1,a=!1;return _t(s).pipe(Ti(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ri(l=>{const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new od(l.id,this.urlSerializer.serialize(l.rawUrl),m,$g.IgnoredSameUrlNavigation)),l.resolve(null),_s}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _t(l).pipe(Ri(m=>{const F=this.transitions?.getValue();return this.events.next(new Gg(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),F!==this.transitions?.getValue()?_s:Promise.resolve(m)}),function qW(e,n,t,i,r,s){return Wi(o=>function UW(e,n,t,i,r,s,o="emptyOnly"){return new HW(e,n,t,i,r,o,s).recognize()}(e,n,t,i,o.extractedUrl,r,s).pipe(dt(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ti(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const F=new kI(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(F)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:F,source:K,restoredState:le,extras:ge}=l,ye=new Gg(m,this.urlSerializer.serialize(F),K,le);this.events.next(ye);const Ae=PI(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:Ae,urlAfterRedirects:F,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=F,_t(s)}{const m="";return this.events.next(new od(l.id,this.urlSerializer.serialize(l.extractedUrl),m,$g.IgnoredByUrlHandlingStrategy)),l.resolve(null),_s}}),Ti(l=>{const c=new B$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),dt(l=>(this.currentTransition=s={...l,guards:lW(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function vW(e,n){return Wi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?_t({...t,guardsResult:!0}):function yW(e,n,t,i){return di(e).pipe(Wi(r=>function AW(e,n,t,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?_t(s.map(a=>{const l=_h(n)??r,c=ld(a,l);return va(function mW(e){return e&&bh(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,i):Jo(l,()=>c(e,n,t,i))).pipe(ol())})).pipe(cd()):_t(!0)}(r.component,r.route,t,n,i)),ol(r=>!0!==r,!0))}(o,i,r,e).pipe(Wi(a=>a&&function hW(e){return"boolean"==typeof e}(a)?function bW(e,n,t,i){return di(n).pipe(Xc(r=>ed(function CW(e,n){return null!==e&&n&&n(new $$(e)),_t(!0)}(r.route.parent,i),function wW(e,n){return null!==e&&n&&n(new z$(e)),_t(!0)}(r.route,i),function EW(e,n,t){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function cW(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>lI(()=>_t(o.guards.map(l=>{const c=_h(o.node)??t,u=ld(l,c);return va(function gW(e){return e&&bh(e.canActivateChild)}(u)?u.canActivateChild(i,e):Jo(c,()=>u(i,e))).pipe(ol())})).pipe(cd())));return _t(s).pipe(cd())}(e,r.path,t),function xW(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return _t(!0);const r=i.map(s=>lI(()=>{const o=_h(n)??t,a=ld(s,o);return va(function pW(e){return e&&bh(e.canActivate)}(a)?a.canActivate(n,e):Jo(o,()=>a(n,e))).pipe(ol())}));return _t(r).pipe(cd())}(e,r.route,t))),ol(r=>!0!==r,!0))}(i,s,e,n):_t(a)),dt(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ti(l=>{if(s.guardsResult=l.guardsResult,rd(l.guardsResult))throw jI(0,l.guardsResult);const c=new V$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),qn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",ys.GuardRejected),!1)),D0(l=>{if(l.guards.canActivateChecks.length)return _t(l).pipe(Ti(c=>{const u=new U$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ri(c=>{let u=!1;return _t(c).pipe(function YW(e,n){return Wi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return _t(t);const s=new Set(r.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of QI(l))o.add(c);let a=0;return di(o).pipe(Xc(l=>s.has(l)?function KW(e,n,t,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!BI(r)&&(s[ch]=r.title),function QW(e,n,t,i){const r=s0(e);if(0===r.length)return _t({});const s={};return di(r).pipe(Wi(o=>function XW(e,n,t,i){const r=_h(n)??i,s=ld(e,r);return va(s.resolve?s.resolve(n,t):Jo(r,()=>s(n,t)))}(e[o],n,t,i).pipe(ol(),Ti(a=>{s[o]=a}))),r0(1),uI(s),vs(o=>zI(o)?_s:ao(o)))}(s,e,n,i).pipe(dt(o=>(e._resolvedData=o,e.data=g0(e,e.parent,t).resolve,null)))}(l,i,e,n):(l.data=g0(l,l.parent,e).resolve,_t(void 0))),Ti(()=>a++),r0(1),Wi(l=>a===o.size?_t(t):_s))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ti({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ys.NoDataFromResolver)}}))}),Ti(c=>{const u=new j$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),D0(l=>{const c=u=>{const m=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ti(F=>{u.component=F}),dt(()=>{})));for(const F of u.children)m.push(...c(F));return m};return Ng(c(l.targetSnapshot.root)).pipe(Fg(null),zi(1))}),D0(()=>this.afterPreactivation()),Ri(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?di(u).pipe(dt(()=>s)):_t(s)}),dt(l=>{const c=function X$(e,n,t){const i=mh(e,n._root,t?t._root:void 0);return new NI(i,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Ti(()=>{this.events.next(new u0)}),((e,n,t,i)=>dt(r=>(new aW(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),zi(1),Ti({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),wt(this.transitionAbortSubject.pipe(Ti(l=>{throw l}))),sh(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",ys.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),vs(l=>{if(a=!0,GI(l))this.events.next(new sd(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function eW(e){return GI(e)&&rd(e.url)}(l)?this.events.next(new h0(l.url)):s.resolve(!1);else{this.events.next(new Wg(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return _s}))}))}cancelNavigationTransition(t,i,r){const s=new sd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rz(e){return e!==ph}let sz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>Ke(az),providedIn:"root"})}return e})();class oz{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let az=(()=>{class e extends oz{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:()=>Ke(lz),providedIn:"root"})}return e})(),lz=(()=>{class e extends tk{constructor(){super(...arguments),this.location=Ke(Ju),this.urlSerializer=Ke(id),this.options=Ke(ud,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ke(T0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=PI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Gg)this.stateMemento=this.createStateMemento();else if(t instanceof od)this.rawUrlTree=i.initialUrl;else if(t instanceof kI){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof u0?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof sd&&(t.code===ys.GuardRejected||t.code===ys.NoDataFromResolver)?this.restoreHistory(i):t instanceof Wg?this.restoreHistory(i,!0):t instanceof Bo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wh=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(wh||{});function nk(e,n){e.events.pipe(qn(t=>t instanceof Bo||t instanceof sd||t instanceof Wg||t instanceof od),dt(t=>t instanceof Bo||t instanceof od?wh.COMPLETE:t instanceof sd&&(t.code===ys.Redirect||t.code===ys.SupersededByNewNavigation)?wh.REDIRECTING:wh.FAILED),qn(t=>t!==wh.REDIRECTING),zi(1)).subscribe(()=>{n()})}function cz(e){throw e}const dz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ui=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ke(GS),this.stateManager=Ke(tk),this.options=Ke(ud,{optional:!0})||{},this.pendingTasks=Ke(zc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ke(Qg),this.urlSerializer=Ke(id),this.location=Ke(Ju),this.urlHandlingStrategy=Ke(T0),this._events=new ut,this.errorHandler=this.options.errorHandler||cz,this.navigated=!1,this.routeReuseStrategy=Ke(sz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ke(hd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ke(zg,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=Ke(Dt)instanceof Dt&&Dt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof sd&&i.code!==ys.Redirect&&i.code!==ys.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bo)this.navigated=!0;else if(i instanceof h0){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rz(r.source)};this.scheduleNavigation(o,ph,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function fz(e){return!(e instanceof u0||e instanceof h0)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ph,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(w0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let m,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{m=EI(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return AI(m,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=rd(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ph,null,i)}navigate(t,i={skipLocationChange:!1}){return function hz(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Le(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...dz}:!1===i?{...uz}:i,rd(t))return gI(this.currentUrlTree,t,r);const s=this.parseUrl(t);return gI(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((m,F)=>{a=m,l=F});const u=this.pendingTasks.add();return nk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hi=(()=>{class e{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const i=null===this.href?null:function Vx(e,n,t){return function NL(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Bx:os}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||e)(X(ui),X(Ji),function Ua(e){return function N2(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Gd(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===n)return t[r+1];r+=2}}}return null}(Rn(),e)}("tabindex"),X(hr),X(pt),X(tl))};static#t=this.\u0275dir=Be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Fe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&tn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[vt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yc],skipLocationChange:[vt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yc],replaceUrl:[vt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yc],routerLink:"routerLink"},standalone:!0,features:[zE,li]})}return e})();class ik{}let mz=(()=>{class e{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qn(t=>t instanceof Bo),Xc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=zy(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return di(r).pipe(Jc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):_t(null);const s=r.pipe(Wi(o=>null===o?_t(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?di([s,this.loader.loadComponent(i)]).pipe(Jc()):s})}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ui),Ge($S),Ge(ur),Ge(ik),Ge(S0))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const M0=new Xe("");let rk=(()=>{class e{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof od&&t.code===$g.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof OI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new OI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function fE(){throw new Error("invalid")}()};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();function ho(e,n){return{\u0275kind:e,\u0275providers:n}}function ok(){const e=Ke(Hi);return n=>{const t=e.get(Oo);if(n!==t.components[0])return;const i=e.get(ui),r=e.get(ak);1===e.get(I0)&&i.initialNavigation(),e.get(lk,null,Kt.Optional)?.setUpPreloading(),e.get(M0,null,Kt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const ak=new Xe("",{factory:()=>new ut}),I0=new Xe("",{providedIn:"root",factory:()=>1}),lk=new Xe("");function bz(e){return ho(0,[{provide:lk,useExisting:mz},{provide:ik,useExisting:e}])}function Cz(e){return ho(9,[{provide:JI,useValue:nz},{provide:ek,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const ck=new Xe("ROUTER_FORROOT_GUARD"),xz=[Ju,{provide:id,useClass:o0},ui,gh,{provide:Ji,useFactory:function sk(e){return e.routerState.root},deps:[ui]},S0,[]];let k0=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[xz,[],{provide:hd,multi:!0,useValue:t},{provide:ck,useFactory:Sz,deps:[[ui,new zf,new qf]]},{provide:ud,useValue:i||{}},i?.useHash?{provide:tl,useClass:wH}:{provide:tl,useClass:RT},{provide:M0,useFactory:()=>{const e=Ke(P8),n=Ke(Dt),t=Ke(ud),i=Ke(Qg),r=Ke(id);return t.scrollOffset&&e.setOffset(t.scrollOffset),new rk(r,i,e,n,t)}},i?.preloadingStrategy?bz(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Tz(i):[],i?.bindToComponentInputs?ho(8,[VI,{provide:zg,useExisting:VI}]).\u0275providers:[],i?.enableViewTransitions?Cz().\u0275providers:[],[{provide:dk,useFactory:ok},{provide:rg,multi:!0,useExisting:dk}]]}}static forChild(t){return{ngModule:e,providers:[{provide:hd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ck,8))};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();function Sz(e){return"guarded"}function Tz(e){return["disabled"===e.initialNavigation?ho(3,[{provide:ib,multi:!0,useFactory:()=>{const n=Ke(ui);return()=>{n.setUpLocationChangeListener()}}},{provide:I0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ho(2,[{provide:I0,useValue:0},{provide:ib,multi:!0,deps:[Hi],useFactory:n=>{const t=n.get(yH,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=n.get(ui),s=n.get(ak);nk(r,()=>{i(!0)}),n.get(Qg).afterPreactivation=()=>(i(!0),s.closed?_t(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const dk=new Xe(""),Iz=[];let kz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[k0.forRoot(Iz,{onSameUrlNavigation:"reload"}),k0]})}return e})();const Yr="/api/users/";let qi=(()=>{class e{constructor(t){this.httpClient=t}getMe(){return this.httpClient.get(Yr+"me")}getProfileAvatar(t){return this.httpClient.get(Yr+"profileAvatarFile/"+t,{responseType:"blob"})}getUserList(){return this.httpClient.get(Yr+"userList")}getUserListByDoctor(t){return this.httpClient.get(Yr+"userList/doctor="+t)}getUser(t){return this.httpClient.get(Yr+t)}getUserByEmail(t){return this.httpClient.get(Yr+"email/"+t)}getUserByName(t){return this.httpClient.get(Yr+"name/"+t)}updateUser(t,i){const r=new FormData;return r.append("address",t.address||""),r.append("city",t.city||""),r.append("country",t.country||""),r.append("postalCode",t.postalCode||""),r.append("phone",t.phone||""),i&&r.append("profileAvatarFile",i),this.httpClient.put(Yr+t.id,r).pipe(vs(s=>ao(s)))}updatePassword(t){const i=new FormData;return i.append("password",t.encodedPassword||""),console.log(i.get("password")),this.httpClient.put(Yr+"pass/"+t.id,i).pipe(vs(r=>ao(r)))}checkCurrentPassword(t,i){const r=new FormData;return r.append("password",t),this.httpClient.post(Yr+"check-password/"+i.id,r)}deleteUser(t){return this.httpClient.delete("/api/users/"+t.id).subscribe()}checkAdmin(t){return this.httpClient.get("/api/users/rol/"+t)}checkDoctor(t){return this.httpClient.get("/api/users/rolD/"+t)}getUsersByNameOrLastNameOrUsername(t){return this.httpClient.get(Yr+"/search?query="+t)}getDoctorAsignated(t){return this.httpClient.get(Yr+"/doctorAsignated/"+t)}getUsersByCodEntity(t){return this.httpClient.get(Yr+"/cod/"+t)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uk="/api/auth/";let bs=(()=>{class e{constructor(t,i,r){this.httpClient=t,this.userService=i,this.activatedRoute=r,this.logged=!1,this.loggedIn=new Zt(!1),this.userId=r.snapshot.params.id,this.reqIsLogged()}reqIsLogged(){this.httpClient.get("/api/users/me",{withCredentials:!0}).subscribe(t=>{this.user=t,this.userAux=t,this.logged=!0},t=>{throw new Error("Something bad happened")})}get isLoggedIn(){return this.loggedIn.asObservable()}register(t){return this.httpClient.post("/api/users/",t).pipe(dt(i=>i),vs(i=>ao("Register Error")))}registerDoctor(t){return this.httpClient.post("/api/users/doctor",t).pipe(dt(i=>i),vs(i=>ao("Register Error")))}logIn(t,i){return this.httpClient.post(uk+"login",{username:t,password:i},{withCredentials:!0}).pipe(dt(r=>(this.reqIsLogged(),r)),vs(r=>ao("user not exist")))}logOut(){return this.httpClient.post(uk+"logout",{withCredentials:!0}).subscribe(t=>{console.log(this.user),this.loggedIn.next(!1),this.user=void 0,console.log(this.user),window.location.reload()})}isLogged(){return this.logged}isAdmin(){return this.isLogged()&&-1!==this.user?.roles.indexOf("ADMIN")}isDoctor(){return this.isLogged()&&-1!==this.user?.roles.indexOf("DOCTOR")}isUser(){return!this.userService.checkAdmin(this.userId)}currentUser(){return this.userAux}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma),Ge(qi),Ge(Ji))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Oz=["addListener","removeListener"],Rz=["addEventListener","removeEventListener"],Nz=["on","off"];function en(e,n,t,i){if(xe(t)&&(i=t,t=void 0),i)return en(e,n,t).pipe(e0(i));const[r,s]=function Lz(e){return xe(e.addEventListener)&&xe(e.removeEventListener)}(e)?Rz.map(o=>a=>e[o](n,a,t)):function Pz(e){return xe(e.addListener)&&xe(e.removeListener)}(e)?Oz.map(hk(e,n)):function Fz(e){return xe(e.on)&&xe(e.off)}(e)?Nz.map(hk(e,n)):[];if(!r&&Yb(e))return Wi(o=>en(o,n,t))(Zi(e));if(!r)throw new TypeError("Invalid event target");return new Ut(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function hk(e,n){return t=>i=>e[t](n,i)}class Bz extends Ie{constructor(n,t){super()}schedule(n,t=0){return this}}const Xg={setInterval(e,n,...t){const{delegate:i}=Xg;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Xg;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},fk={now:()=>(fk.delegate||Date).now(),delegate:void 0};class Ch{constructor(n,t=Ch.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}Ch.now=fk.now;const O0=new class Uz extends Ch{constructor(n,t=Ch.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}(class Vz extends Bz{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,i=0){return Xg.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Xg.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,we(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),jz=O0;function pk(e=0,n,t=jz){let i=-1;return null!=n&&(wM(n)?t=n:i=n),new Ut(r=>{let s=function Hz(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:Gz}=Array;function gk(e){return 1===e.length&&Gz(e[0])?e[0]:e}function mk(...e){return 1===(e=gk(e)).length?Zi(e[0]):new Ut(function $z(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(Zi(e[i]).subscribe(on(n,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}n.next(r)})))}}(e))}function Zg(...e){const n=rh(e),t=function NG(e,n){return"number"==typeof Gb(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?Zi(i[0]):Jc(t)(di(i,n)):_s}function R0(...e){const n=Tg(e),t=gk(e);return t.length?new Ut(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)Zi(t[o]).subscribe(on(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(n?n(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):_s}function N0(...e){const n=Tg(e);return An((t,i)=>{const r=e.length,s=new Array(r);let o=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)Zi(e[l]).subscribe(on(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Ct))&&(o=null))},ft));t.subscribe(on(i,l=>{if(a){const c=[l,...s];i.next(n?n(...c):c)}}))})}function _k(e,n){return n?t=>ed(n.pipe(zi(1),function zz(){return An((e,n)=>{e.subscribe(on(n,ft))})}()),t.pipe(_k(e))):Wi((t,i)=>Zi(e(t,i)).pipe(zi(1),uI(t)))}function xh(...e){const n=Tg(e),{args:t,keys:i}=sI(e),r=new Ut(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let m=!1;Zi(t[u]).subscribe(on(s,F=>{m||(m=!0,c--),a[u]=F},()=>l--,void 0,()=>{(!l||!m)&&(c||s.next(i?oI(i,a):a),s.complete())}))}});return n?r.pipe(e0(n)):r}let yk=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||e)(X(hr),X(pt))};static#t=this.\u0275dir=Be({type:e})}return e})(),ll=(()=>{class e extends yk{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275dir=Be({type:e,features:[it]})}return e})();const Kr=new Xe(""),Qz={provide:Kr,useExisting:Pt(()=>P0),multi:!0};let P0=(()=>{class e extends ll{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275dir=Be({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Fe("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[xn([Qz]),it]})}return e})();const Xz={provide:Kr,useExisting:Pt(()=>Sr),multi:!0},Jz=new Xe("");let Sr=(()=>{class e extends yk{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zz(){const e=ua()?ua().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||e)(X(hr),X(pt),X(Jz,8))};static#t=this.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Fe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[xn([Xz]),it]})}return e})();function ya(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const er=new Xe(""),ba=new Xe("");function xk(e){return ya(e.value)?{required:!0}:null}function Jg(e){return null}function Mk(e){return null!=e}function Ik(e){return $u(e)?di(e):e}function kk(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Ok(e,n){return n.map(t=>t(e))}function Rk(e){return e.map(n=>function t7(e){return!e.validate}(n)?n:t=>n.validate(t))}function F0(e){return null!=e?function Nk(e){if(!e)return null;const n=e.filter(Mk);return 0==n.length?null:function(t){return kk(Ok(t,n))}}(Rk(e)):null}function L0(e){return null!=e?function Pk(e){if(!e)return null;const n=e.filter(Mk);return 0==n.length?null:function(t){return xh(Ok(t,n).map(Ik)).pipe(dt(kk))}}(Rk(e)):null}function Fk(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Lk(e){return e._rawValidators}function Bk(e){return e._rawAsyncValidators}function B0(e){return e?Array.isArray(e)?e:[e]:[]}function em(e,n){return Array.isArray(e)?e.includes(n):e===n}function Vk(e,n){const t=B0(n);return B0(e).forEach(r=>{em(t,r)||t.push(r)}),t}function Uk(e,n){return B0(n).filter(t=>!em(e,t))}class jk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=F0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=L0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class gr extends jk{get formDirective(){return null}get path(){return null}}class wa extends jk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hk{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ws=(()=>{class e extends Hk{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(X(wa,2))};static#t=this.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[it]})}return e})(),Ca=(()=>{class e extends Hk{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(X(gr,10))};static#t=this.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[it]})}return e})();const Eh="VALID",nm="INVALID",fd="PENDING",Ah="DISABLED";function j0(e){return(im(e)?e.validators:e)||null}function H0(e,n){return(im(n)?n.asyncValidators:e)||null}function im(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class zk{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Eh}get invalid(){return this.status===nm}get pending(){return this.status==fd}get disabled(){return this.status===Ah}get enabled(){return this.status!==Ah}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Vk(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Vk(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Uk(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Uk(n,this._rawAsyncValidators))}hasValidator(n){return em(this._rawValidators,n)}hasAsyncValidator(n){return em(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=fd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Ah,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Eh,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Eh||this.status===fd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ah:Eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=fd,this._hasOwnPendingAsyncValidator=!0;const t=Ik(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Ah:this.errors?nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fd)?fd:this._anyControlsHaveStatus(nm)?nm:Eh}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){im(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function s7(e){return Array.isArray(e)?F0(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function o7(e){return Array.isArray(e)?L0(e):e||null}(this._rawAsyncValidators)}}class G0 extends zk{constructor(n,t,i){super(j0(t),H0(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function Wk(e,n,t){e._forEachChild((i,r)=>{if(void 0===t[r])throw new Le(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function $k(e,n,t){const i=e.controls;if(!(n?Object.keys(i):i).length)throw new Le(1e3,"");if(!i[t])throw new Le(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const cl=new Xe("CallSetDisabledState",{providedIn:"root",factory:()=>Dh}),Dh="always";function Sh(e,n,t=Dh){$0(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function c7(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&qk(e,n)})}(e,n),function u7(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function d7(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&qk(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function l7(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function sm(e,n,t=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),function am(e,n){let t=!1;if(null!==e){if(null!==n.validator){const r=Lk(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==n.validator);s.length!==r.length&&(t=!0,e.setValidators(s))}}if(null!==n.asyncValidator){const r=Bk(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==n.asyncValidator);s.length!==r.length&&(t=!0,e.setAsyncValidators(s))}}}const i=()=>{};return om(n._rawValidators,i),om(n._rawAsyncValidators,i),t}(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function om(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function $0(e,n){const t=Lk(e);null!==n.validator?e.setValidators(Fk(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=Bk(e);null!==n.asyncValidator?e.setAsyncValidators(Fk(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();om(n._rawValidators,r),om(n._rawAsyncValidators,r)}function qk(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function z0(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function q0(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===Sr?t=s:function p7(e){return Object.getPrototypeOf(e.constructor)===ll}(s)?i=s:r=s}),r||i||t||null}const m7={provide:gr,useExisting:Pt(()=>fo)},Th=Promise.resolve();let fo=(()=>{class e extends gr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ot,this.form=new G0({},F0(t),L0(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Th.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Th.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Th.then(()=>{const i=this._findContainer(t.path),r=new G0({});(function Yk(e,n){$0(e,n)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Th.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Th.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Kk(e,n){e._syncPendingControls(),n.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||e)(X(er,10),X(ba,10),X(cl,8))};static#t=this.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[vt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xn([m7]),it]})}return e})();function Qk(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function Xk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Mh=class extends zk{constructor(n=null,t,i){super(j0(t),H0(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),im(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Xk(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Qk(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Qk(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Xk(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},y7={provide:wa,useExisting:Pt(()=>Rs)},eO=Promise.resolve();let Rs=(()=>{class e extends wa{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Mh,this._registered=!1,this.name="",this.update=new ot,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=q0(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),z0(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){eO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Yc(i);eO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function rm(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||e)(X(gr,9),X(er,10),X(ba,10),X(Kr,10),X(Er,8),X(cl,8))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[vt.None,"disabled","isDisabled"],model:[vt.None,"ngModel","model"],options:[vt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xn([y7]),it,li]})}return e})(),xa=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const w7={provide:Kr,useExisting:Pt(()=>lm),multi:!0};let C7=(()=>{class e{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lm=(()=>{class e extends ll{constructor(t,i,r,s){super(t,i),this._registry=r,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Ke(cl,{optional:!0})??Dh}ngOnInit(){this._control=this._injector.get(wa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||e)(X(hr),X(pt),X(C7),X(Hi))};static#t=this.\u0275dir=Be({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&Fe("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[xn([w7]),it]})}return e})();const Y0=new Xe(""),E7={provide:wa,useExisting:Pt(()=>Ih)};let Ih=(()=>{class e extends wa{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new ot,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=q0(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&sm(i,this,!1),Sh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}z0(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&sm(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||e)(X(er,10),X(ba,10),X(Kr,10),X(Y0,8),X(cl,8))};static#n=this.\u0275dir=Be({type:e,selectors:[["","formControl",""]],inputs:{form:[vt.None,"formControl","form"],isDisabled:[vt.None,"disabled","isDisabled"],model:[vt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[xn([E7]),it,li]})}return e})();const M7={provide:Kr,useExisting:Pt(()=>pd),multi:!0};function sO(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let pd=(()=>{class e extends ll{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=sO(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function I7(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275dir=Be({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Fe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[xn([M7]),it]})}return e})(),cm=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(sO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(X(pt),X(hr),X(pd,9))};static#t=this.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const k7={provide:Kr,useExisting:Pt(()=>Z0),multi:!0};function oO(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Z0=(()=>{class e extends ll{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function O7(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275dir=Be({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Fe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[xn([k7]),it]})}return e})(),dm=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(oO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(oO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(X(pt),X(hr),X(Z0,9))};static#t=this.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),dl=(()=>{class e{constructor(){this._validator=Jg}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=Be({type:e,features:[li]})}return e})();const P7={provide:er,useExisting:Pt(()=>Vo),multi:!0};let Vo=(()=>{class e extends dl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yc,this.createValidator=t=>xk}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275dir=Be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&tn("required",r._enabled?"":null)},inputs:{required:"required"},features:[xn([P7]),it]})}return e})();const U7={provide:er,useExisting:Pt(()=>um),multi:!0};let um=(()=>{class e extends dl{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function Tk(e){if(!e)return Jg;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(ya(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ht(e)))(r||e)}})();static#t=this.\u0275dir=Be({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&tn("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[xn([U7]),it]})}return e})(),gO=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),H7=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:cl,useValue:t.callSetDisabledState??Dh}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[gO]})}return e})(),G7=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Y0,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:cl,useValue:t.callSetDisabledState??Dh}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[gO]})}return e})();var $7={left:"right",right:"left",bottom:"top",top:"bottom"};function hm(e){return e.replace(/left|right|bottom|top/g,function(n){return $7[n]})}function po(e){return e.split("-")[0]}var W7={start:"end",end:"start"};function mO(e){return e.replace(/start|end/g,function(n){return W7[n]})}var Qr="top",Ns="bottom",Ps="right",Xr="left",J0="auto",kh=[Qr,Ns,Ps,Xr],gd="start",Oh="end",_O="viewport",Rh="popper",vO=kh.reduce(function(e,n){return e.concat([n+"-"+gd,n+"-"+Oh])},[]),yO=[].concat(kh,[J0]).reduce(function(e,n){return e.concat([n,n+"-"+gd,n+"-"+Oh])},[]),i9=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Zr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function ul(e){return e instanceof Zr(e).Element||e instanceof Element}function Cs(e){return e instanceof Zr(e).HTMLElement||e instanceof HTMLElement}function ew(e){return!(typeof ShadowRoot>"u")&&(e instanceof Zr(e).ShadowRoot||e instanceof ShadowRoot)}function Ea(e){return((ul(e)?e.ownerDocument:e.document)||window.document).documentElement}var hl=Math.max,fm=Math.min,md=Math.round;function tw(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function bO(){return!/^((?!chrome|android).)*safari/i.test(tw())}function _d(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!1);var i=e.getBoundingClientRect(),r=1,s=1;n&&Cs(e)&&(r=e.offsetWidth>0&&md(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&md(i.height)/e.offsetHeight||1);var a=(ul(e)?Zr(e):window).visualViewport,l=!bO()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,m=i.width/r,F=i.height/s;return{width:m,height:F,top:u,right:c+m,bottom:u+F,left:c,x:c,y:u}}function nw(e){var n=Zr(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function iw(e){return _d(Ea(e)).left+nw(e).scrollLeft}function Uo(e){return Zr(e).getComputedStyle(e)}function go(e){return e?(e.nodeName||"").toLowerCase():null}function pm(e){return"html"===go(e)?e:e.assignedSlot||e.parentNode||(ew(e)?e.host:null)||Ea(e)}function rw(e){var n=Uo(e);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function wO(e){return["html","body","#document"].indexOf(go(e))>=0?e.ownerDocument.body:Cs(e)&&rw(e)?e:wO(pm(e))}function Nh(e,n){var t;void 0===n&&(n=[]);var i=wO(e),r=i===(null==(t=e.ownerDocument)?void 0:t.body),s=Zr(i),o=r?[s].concat(s.visualViewport||[],rw(i)?i:[]):i,a=n.concat(o);return r?a:a.concat(Nh(pm(o)))}function o9(e){return["table","td","th"].indexOf(go(e))>=0}function CO(e){return Cs(e)&&"fixed"!==Uo(e).position?e.offsetParent:null}function Ph(e){for(var n=Zr(e),t=CO(e);t&&o9(t)&&"static"===Uo(t).position;)t=CO(t);return t&&("html"===go(t)||"body"===go(t)&&"static"===Uo(t).position)?n:t||function a9(e){var n=/firefox/i.test(tw());if(/Trident/i.test(tw())&&Cs(e)&&"fixed"===Uo(e).position)return null;var r=pm(e);for(ew(r)&&(r=r.host);Cs(r)&&["html","body"].indexOf(go(r))<0;){var s=Uo(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||n&&"filter"===s.willChange||n&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(e)||n}function xO(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&ew(t)){var i=n;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function sw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function EO(e,n,t){return n===_O?sw(function r9(e,n){var t=Zr(e),i=Ea(e),r=t.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=bO();(c||!c&&"fixed"===n)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+iw(e),y:l}}(e,t)):ul(n)?function l9(e,n){var t=_d(e,!1,"fixed"===n);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(n,t):sw(function s9(e){var n,t=Ea(e),i=nw(e),r=null==(n=e.ownerDocument)?void 0:n.body,s=hl(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=hl(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+iw(e),l=-i.scrollTop;return"rtl"===Uo(r||t).direction&&(a+=hl(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(Ea(e)))}function vd(e){return e.split("-")[1]}function ow(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function AO(e){var l,n=e.reference,t=e.element,i=e.placement,r=i?po(i):null,s=i?vd(i):null,o=n.x+n.width/2-t.width/2,a=n.y+n.height/2-t.height/2;switch(r){case Qr:l={x:o,y:n.y-t.height};break;case Ns:l={x:o,y:n.y+n.height};break;case Ps:l={x:n.x+n.width,y:a};break;case Xr:l={x:n.x-t.width,y:a};break;default:l={x:n.x,y:n.y}}var c=r?ow(r):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case gd:l[c]=l[c]-(n[u]/2-t[u]/2);break;case Oh:l[c]=l[c]+(n[u]/2-t[u]/2)}}return l}function SO(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function TO(e,n){return n.reduce(function(t,i){return t[i]=e,t},{})}function aw(e,n){void 0===n&&(n={});var i=n.placement,r=void 0===i?e.placement:i,s=n.strategy,o=void 0===s?e.strategy:s,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?_O:c,m=n.elementContext,F=void 0===m?Rh:m,K=n.altBoundary,le=void 0!==K&&K,ge=n.padding,ye=void 0===ge?0:ge,Ae=SO("number"!=typeof ye?ye:TO(ye,kh)),We=e.rects.popper,Ye=e.elements[le?F===Rh?"reference":Rh:F],Je=function d9(e,n,t,i){var r="clippingParents"===n?function c9(e){var n=Nh(pm(e)),i=["absolute","fixed"].indexOf(Uo(e).position)>=0&&Cs(e)?Ph(e):e;return ul(i)?n.filter(function(r){return ul(r)&&xO(r,i)&&"body"!==go(r)}):[]}(e):[].concat(n),s=[].concat(r,[t]),a=s.reduce(function(l,c){var u=EO(e,c,i);return l.top=hl(u.top,l.top),l.right=fm(u.right,l.right),l.bottom=fm(u.bottom,l.bottom),l.left=hl(u.left,l.left),l},EO(e,s[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(ul(Ye)?Ye:Ye.contextElement||Ea(e.elements.popper),l,u,o),rt=_d(e.elements.reference),mt=AO({reference:rt,element:We,strategy:"absolute",placement:r}),St=sw(Object.assign({},We,mt)),vn=F===Rh?St:rt,Cn={top:Je.top-vn.top+Ae.top,bottom:vn.bottom-Je.bottom+Ae.bottom,left:Je.left-vn.left+Ae.left,right:vn.right-Je.right+Ae.right},bi=e.modifiersData.offset;if(F===Rh&&bi){var wi=bi[r];Object.keys(Cn).forEach(function(Ci){var As=[Ps,Ns].indexOf(Ci)>=0?1:-1,Qn=[Qr,Ns].indexOf(Ci)>=0?"y":"x";Cn[Ci]+=wi[Qn]*As})}return Cn}const p9={name:"flip",enabled:!0,phase:"main",fn:function f9(e){var n=e.state,t=e.options,i=e.name;if(!n.modifiersData[i]._skip){for(var r=t.mainAxis,s=void 0===r||r,o=t.altAxis,a=void 0===o||o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,m=t.rootBoundary,F=t.altBoundary,K=t.flipVariations,le=void 0===K||K,ge=t.allowedAutoPlacements,ye=n.options.placement,Ae=po(ye),We=l||(Ae!==ye&&le?function h9(e){if(po(e)===J0)return[];var n=hm(e);return[mO(e),n,mO(n)]}(ye):[hm(ye)]),Ye=[ye].concat(We).reduce(function(En,Us){return En.concat(po(Us)===J0?function u9(e,n){void 0===n&&(n={});var r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?yO:l,u=vd(n.placement),m=u?a?vO:vO.filter(function(le){return vd(le)===u}):kh,F=m.filter(function(le){return c.indexOf(le)>=0});0===F.length&&(F=m);var K=F.reduce(function(le,ge){return le[ge]=aw(e,{placement:ge,boundary:r,rootBoundary:s,padding:o})[po(ge)],le},{});return Object.keys(K).sort(function(le,ge){return K[le]-K[ge]})}(n,{placement:Us,boundary:u,rootBoundary:m,padding:c,flipVariations:le,allowedAutoPlacements:ge}):Us)},[]),Je=n.rects.reference,rt=n.rects.popper,mt=new Map,St=!0,vn=Ye[0],Cn=0;Cn<Ye.length;Cn++){var bi=Ye[Cn],wi=po(bi),Ci=vd(bi)===gd,As=[Qr,Ns].indexOf(wi)>=0,Qn=As?"width":"height",tt=aw(n,{placement:bi,boundary:u,rootBoundary:m,altBoundary:F,padding:c}),at=As?Ci?Ps:Xr:Ci?Ns:Qr;Je[Qn]>rt[Qn]&&(at=hm(at));var yt=hm(at),Wt=[];if(s&&Wt.push(tt[wi]<=0),a&&Wt.push(tt[at]<=0,tt[yt]<=0),Wt.every(function(En){return En})){vn=bi,St=!1;break}mt.set(bi,Wt)}if(St)for(var kr=function(Us){var Ol=Ye.find(function(xi){var _r=mt.get(xi);if(_r)return _r.slice(0,Us).every(function(ar){return ar})});if(Ol)return vn=Ol,"break"},Pi=le?3:1;Pi>0&&"break"!==kr(Pi);Pi--);n.placement!==vn&&(n.modifiersData[i]._skip=!0,n.placement=vn,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Fh(e,n,t){return hl(e,fm(n,t))}function lw(e){var n=_d(e),t=e.offsetWidth,i=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:i}}const v9={name:"preventOverflow",enabled:!0,phase:"main",fn:function _9(e){var n=e.state,t=e.options,i=e.name,r=t.mainAxis,s=void 0===r||r,o=t.altAxis,a=void 0!==o&&o,F=t.tether,K=void 0===F||F,le=t.tetherOffset,ge=void 0===le?0:le,ye=aw(n,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Ae=po(n.placement),Ee=vd(n.placement),We=!Ee,Ye=ow(Ae),Je=function g9(e){return"x"===e?"y":"x"}(Ye),rt=n.modifiersData.popperOffsets,mt=n.rects.reference,St=n.rects.popper,vn="function"==typeof ge?ge(Object.assign({},n.rects,{placement:n.placement})):ge,Cn="number"==typeof vn?{mainAxis:vn,altAxis:vn}:Object.assign({mainAxis:0,altAxis:0},vn),bi=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,wi={x:0,y:0};if(rt){if(s){var Ci,As="y"===Ye?Qr:Xr,Qn="y"===Ye?Ns:Ps,tt="y"===Ye?"height":"width",at=rt[Ye],yt=at+ye[As],Wt=at-ye[Qn],si=K?-St[tt]/2:0,kr=Ee===gd?mt[tt]:St[tt],Pi=Ee===gd?-St[tt]:-mt[tt],ts=n.elements.arrow,En=K&&ts?lw(ts):{width:0,height:0},Us=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ol=Us[As],xi=Us[Qn],_r=Fh(0,mt[tt],En[tt]),ar=We?mt[tt]/2-si-_r-Ol-Cn.mainAxis:kr-_r-Ol-Cn.mainAxis,Od=We?-mt[tt]/2+si+_r+xi+Cn.mainAxis:Pi+_r+xi+Cn.mainAxis,Rl=n.elements.arrow&&Ph(n.elements.arrow),nae=Rl?"y"===Ye?Rl.clientTop||0:Rl.clientLeft||0:0,$P=null!=(Ci=bi?.[Ye])?Ci:0,rae=at+Od-$P,WP=Fh(K?fm(yt,at+ar-$P-nae):yt,at,K?hl(Wt,rae):Wt);rt[Ye]=WP,wi[Ye]=WP-at}if(a){var zP,Nl=rt[Je],n_="y"===Je?"height":"width",qP=Nl+ye["x"===Ye?Qr:Xr],YP=Nl-ye["x"===Ye?Ns:Ps],v1=-1!==[Qr,Xr].indexOf(Ae),KP=null!=(zP=bi?.[Je])?zP:0,QP=v1?qP:Nl-mt[n_]-St[n_]-KP+Cn.altAxis,XP=v1?Nl+mt[n_]+St[n_]-KP-Cn.altAxis:YP,ZP=K&&v1?function m9(e,n,t){var i=Fh(e,n,t);return i>t?t:i}(QP,Nl,XP):Fh(K?QP:qP,Nl,K?XP:YP);rt[Je]=ZP,wi[Je]=ZP-Nl}n.modifiersData[i]=wi}},requiresIfExists:["offset"]},C9={name:"arrow",enabled:!0,phase:"main",fn:function b9(e){var n,t=e.state,i=e.name,r=e.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=po(t.placement),l=ow(a),u=[Xr,Ps].indexOf(a)>=0?"height":"width";if(s&&o){var m=function(n,t){return SO("number"!=typeof(n="function"==typeof n?n(Object.assign({},t.rects,{placement:t.placement})):n)?n:TO(n,kh))}(r.padding,t),F=lw(s),K="y"===l?Qr:Xr,le="y"===l?Ns:Ps,ge=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],ye=o[l]-t.rects.reference[l],Ae=Ph(s),Ee=Ae?"y"===l?Ae.clientHeight||0:Ae.clientWidth||0:0,rt=Ee/2-F[u]/2+(ge/2-ye/2),mt=Fh(m[K],rt,Ee-F[u]-m[le]);t.modifiersData[i]=((n={})[l]=mt,n.centerOffset=mt-rt,n)}},effect:function w9(e){var n=e.state,i=e.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=n.elements.popper.querySelector(r))||xO(n.elements.popper,r)&&(n.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function D9(e,n,t){void 0===t&&(t=!1);var i=Cs(n),r=Cs(n)&&function A9(e){var n=e.getBoundingClientRect(),t=md(n.width)/e.offsetWidth||1,i=md(n.height)/e.offsetHeight||1;return 1!==t||1!==i}(n),s=Ea(n),o=_d(e,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&(("body"!==go(n)||rw(s))&&(a=function E9(e){return e!==Zr(e)&&Cs(e)?function x9(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):nw(e)}(n)),Cs(n)?((l=_d(n,!0)).x+=n.clientLeft,l.y+=n.clientTop):s&&(l.x=iw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function S9(e){var n=new Map,t=new Set,i=[];function r(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var l=n.get(a);l&&r(l)}}),i.push(s)}return e.forEach(function(s){n.set(s.name,s)}),e.forEach(function(s){t.has(s.name)||r(s)}),i}function M9(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}var MO={placement:"bottom",modifiers:[],strategy:"absolute"};function IO(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function k9(e){void 0===e&&(e={});var t=e.defaultModifiers,i=void 0===t?[]:t,r=e.defaultOptions,s=void 0===r?MO:r;return function(a,l,c){void 0===c&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},MO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],F=!1,K={state:u,setOptions:function(Ae){var Ee="function"==typeof Ae?Ae(u.options):Ae;ge(),u.options=Object.assign({},s,u.options,Ee),u.scrollParents={reference:ul(a)?Nh(a):a.contextElement?Nh(a.contextElement):[],popper:Nh(l)};var We=function T9(e){var n=S9(e);return i9.reduce(function(t,i){return t.concat(n.filter(function(r){return r.phase===i}))},[])}(function I9(e){var n=e.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(n).map(function(t){return n[t]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=We.filter(function(Ye){return Ye.enabled}),function le(){u.orderedModifiers.forEach(function(ye){var Ee=ye.options,Ye=ye.effect;if("function"==typeof Ye){var Je=Ye({state:u,name:ye.name,instance:K,options:void 0===Ee?{}:Ee});m.push(Je||function(){})}})}(),K.update()},forceUpdate:function(){if(!F){var Ae=u.elements,Ee=Ae.reference,We=Ae.popper;if(IO(Ee,We)){u.rects={reference:D9(Ee,Ph(We),"fixed"===u.options.strategy),popper:lw(We)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Cn){return u.modifiersData[Cn.name]=Object.assign({},Cn.data)});for(var Ye=0;Ye<u.orderedModifiers.length;Ye++)if(!0!==u.reset){var Je=u.orderedModifiers[Ye],rt=Je.fn,mt=Je.options;"function"==typeof rt&&(u=rt({state:u,options:void 0===mt?{}:mt,name:Je.name,instance:K})||u)}else u.reset=!1,Ye=-1}}},update:M9(function(){return new Promise(function(ye){K.forceUpdate(),ye(u)})}),destroy:function(){ge(),F=!0}};if(!IO(a,l))return K;function ge(){m.forEach(function(ye){return ye()}),m=[]}return K.setOptions(c).then(function(ye){!F&&c.onFirstUpdate&&c.onFirstUpdate(ye)}),K}}var gm={passive:!0},F9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kO(e){var n,t=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,m=e.isFixed,F=o.x,K=void 0===F?0:F,le=o.y,ge=void 0===le?0:le,ye="function"==typeof u?u({x:K,y:ge}):{x:K,y:ge};K=ye.x,ge=ye.y;var Ae=o.hasOwnProperty("x"),Ee=o.hasOwnProperty("y"),We=Xr,Ye=Qr,Je=window;if(c){var rt=Ph(t),mt="clientHeight",St="clientWidth";rt===Zr(t)&&"static"!==Uo(rt=Ea(t)).position&&"absolute"===a&&(mt="scrollHeight",St="scrollWidth"),(r===Qr||(r===Xr||r===Ps)&&s===Oh)&&(Ye=Ns,ge-=(m&&rt===Je&&Je.visualViewport?Je.visualViewport.height:rt[mt])-i.height,ge*=l?1:-1),r!==Xr&&(r!==Qr&&r!==Ns||s!==Oh)||(We=Ps,K-=(m&&rt===Je&&Je.visualViewport?Je.visualViewport.width:rt[St])-i.width,K*=l?1:-1)}var Ci,bi=Object.assign({position:a},c&&F9),wi=!0===u?function L9(e,n){var i=e.y,r=n.devicePixelRatio||1;return{x:md(e.x*r)/r||0,y:md(i*r)/r||0}}({x:K,y:ge},Zr(t)):{x:K,y:ge};return K=wi.x,ge=wi.y,Object.assign({},bi,l?((Ci={})[Ye]=Ee?"0":"",Ci[We]=Ae?"0":"",Ci.transform=(Je.devicePixelRatio||1)<=1?"translate("+K+"px, "+ge+"px)":"translate3d("+K+"px, "+ge+"px, 0)",Ci):((n={})[Ye]=Ee?ge+"px":"",n[We]=Ae?K+"px":"",n.transform="",n))}var G9=k9({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function O9(e){var n=e.state,t=e.instance,i=e.options,r=i.scroll,s=void 0===r||r,o=i.resize,a=void 0===o||o,l=Zr(n.elements.popper),c=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",t.update,gm)}),a&&l.addEventListener("resize",t.update,gm),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",t.update,gm)}),a&&l.removeEventListener("resize",t.update,gm)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function N9(e){var n=e.state;n.modifiersData[e.name]=AO({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function B9(e){var n=e.state,t=e.options,i=t.gpuAcceleration,r=void 0===i||i,s=t.adaptive,o=void 0===s||s,a=t.roundOffsets,l=void 0===a||a,c={placement:po(n.placement),variation:vd(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:r,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,kO(Object.assign({},c,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:o,roundOffsets:l})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,kO(Object.assign({},c,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function U9(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var i=n.styles[t]||{},r=n.attributes[t]||{},s=n.elements[t];!Cs(s)||!go(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];!1===a?s.removeAttribute(o):s.setAttribute(o,!0===a?"":a)}))})},effect:function j9(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(i){var r=n.elements[i],s=n.attributes[i]||{},a=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:t[i]).reduce(function(l,c){return l[c]="",l},{});!Cs(r)||!go(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]}]});const z9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function W9(e){var n=e.state,i=e.name,r=e.options.offset,s=void 0===r?[0,0]:r,o=yO.reduce(function(u,m){return u[m]=function $9(e,n,t){var i=po(e),r=[Xr,Qr].indexOf(i)>=0?-1:1,s="function"==typeof t?t(Object.assign({},n,{placement:e})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Xr,Ps].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(m,n.rects,s),u},{}),a=o[n.placement],c=a.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=a.x,n.modifiersData.popperOffsets.y+=c),n.modifiersData[i]=o}},eq=["*"],Iq=["dialog"];function fl(e){return"string"==typeof e}function pl(e){return null!=e}function yd(e){return(e||document.body).getBoundingClientRect()}function FO(e=document){const n=e?.activeElement;return n?n.shadowRoot?FO(n.shadowRoot):n:null}const LO={animation:!0,transitionTimerDelayMs:5},CY=()=>{},{transitionTimerDelayMs:xY}=LO,Lh=new Map,Ir=(e,n,t,i)=>{let r=i.context||{};const s=Lh.get(n);if(s)switch(i.runningTransition){case"continue":return _s;case"stop":e.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Lh.delete(n)}const o=t(n,i.animation,r)||CY;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>o()),_t(void 0).pipe(function bY(e){return n=>new Ut(t=>n.subscribe({next:o=>e.run(()=>t.next(o)),error:o=>e.run(()=>t.error(o)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new ut,l=new ut,c=a.pipe(function Wz(...e){return n=>ed(n,_t(...e))}(!0));Lh.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function wY(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const m=en(n,"transitionend").pipe(wt(c),qn(({target:K})=>K===n));mk(pk(u+xY).pipe(wt(c)),m,l).pipe(wt(c)).subscribe(()=>{Lh.delete(n),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let mm=(()=>{class e{constructor(){this.animation=LO.animation}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zO=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),qO=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),QO=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),XO=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();var Fn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Fn||{});const Cm=(e,n)=>!!n&&n.some(t=>t.contains(e)),nR=(e,n)=>!n||null!=function yY(e,n){return!n||typeof e.closest>"u"?null:e.closest(n)}(e,n),ZY=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function iR(e,n,t,i,r,s,o,a){t&&e.runOutsideAngular((e=>ZY?()=>setTimeout(()=>e(),100):e)(()=>{const c=en(n,"keydown").pipe(wt(r),qn(F=>F.which===Fn.Escape),Ti(F=>F.preventDefault())),u=en(n,"mousedown").pipe(dt(F=>{const K=F.target;return 2!==F.button&&!Cm(K,o)&&("inside"===t?Cm(K,s)&&nR(K,a):"outside"===t?!Cm(K,s):nR(K,a)||!Cm(K,s))}),wt(r)),m=en(n,"mouseup").pipe(N0(u),qn(([F,K])=>K),function qz(e,n=O0){const t=pk(e,n);return _k(()=>t)}(0),wt(r));mk([c.pipe(dt(F=>0)),m.pipe(dt(F=>1))]).subscribe(F=>e.run(()=>i(F)))}))}const rR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sR(e){const n=Array.from(e.querySelectorAll(rR)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}let eK=(()=>{class e{constructor(t){this._element=t.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tK=/\s+/,nK=/  +/gi,iK={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},sK=/^left/,oK=/^right/,aK=/^start/,lK=/^end/;function aR({placement:e,baseClass:n},t){let i=Array.isArray(e)?e:e.split(tK),s=i.findIndex(c=>"auto"===c);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(u=>-1!==u.search("^"+c))&&i.splice(s++,1,c)});const o=i.map(c=>function rK(e,n){const[t,i]=iK[e];return n&&i||t}(c,t.isRTL()));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:c}){const u=new RegExp(n+"(-[a-z]+)*","gi"),m=c.elements.popper,F=c.placement;let K=m.className;K=K.replace(u,""),K+=` ${function cK(e,n){let[t,i]=n.split("-");const r=t.replace(sK,"start").replace(oK,"end");let s=[r];if(i){let o=i;("left"===t||"right"===t)&&(o=o.replace(aK,"top").replace(lK,"bottom")),s.push(`${r}-${o}`)}return e&&(s=s.map(o=>`${e}-${o}`)),s.join(" ")}(n,F)}`,K=K.trim().replace(nK," "),m.className=K}},p9,v9,C9,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function lR(e){return e}new Date(1882,10,12),new Date(2174,10,25);let vR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),bK=(()=>{class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dm=(()=>{class e{set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}constructor(t,i){this.elementRef=t,this._renderer=i,this._disabled=!1}static#e=this.\u0275fac=function(i){return new(i||e)(X(pt),X(hr))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,r){2&i&&(ds("tabIndex",r.disabled?-1:0),Gt("disabled",r.disabled))},inputs:{disabled:"disabled"},standalone:!0})}return e})(),Sm=(()=>{class e{constructor(t,i){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}static#e=this.\u0275fac=function(i){return new(i||e)(X(Pt(()=>Cd)),X(pt))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,r,s){if(1&i&&Nn(s,Dm,4),2&i){let o;nn(o=rn())&&(r.menuItems=o)}},hostVars:4,hostBindings:function(i,r){1&i&&Fe("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return r.dropdown.onKeyDown(o)})("keydown.Space",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&i&&Gt("dropdown-menu",!0)("show",r.dropdown.isOpen())},standalone:!0})}return e})(),Tm=(()=>{class e{constructor(t,i){this.dropdown=t,this.nativeElement=i.nativeElement}static#e=this.\u0275fac=function(i){return new(i||e)(X(Pt(()=>Cd)),X(pt))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(i,r){2&i&&tn("aria-expanded",r.dropdown.isOpen())},standalone:!0})}return e})(),Cw=(()=>{class e extends Tm{constructor(t,i){super(t,i)}static#e=this.\u0275fac=function(i){return new(i||e)(X(Pt(()=>Cd)),X(pt))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(i,r){1&i&&Fe("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&i&&tn("aria-expanded",r.dropdown.isOpen())},standalone:!0,features:[xn([{provide:Tm,useExisting:Pt(()=>e)}]),it]})}return e})(),Cd=(()=>{class e{constructor(t,i,r,s,o,a){this._changeDetector=t,this._document=r,this._ngZone=s,this._elementRef=o,this._renderer=a,this._destroyCloseHandlers$=new ut,this._bodyContainer=null,this._open=!1,this.openChange=new ot,this.placement=i.placement,this.popperOptions=i.popperOptions,this.container=i.container,this.autoClose=i.autoClose,this._positioning=function cR(){const e=Ke(eK);let n=null;return{createPopper(t){if(!n){let r=(t.updatePopperOptions||lR)(aR(t,e));n=G9(t.hostElement,t.targetElement,r)}},update(){n&&n.update()},setOptions(t){if(n){let r=(t.updatePopperOptions||lR)(aR(t,e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}()}ngOnInit(){this.display||(this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(zi(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:i,previousValue:r}=t.dropdownClass;this._applyCustomDropdownClass(i,r)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t=>this.popperOptions(function uR(e){return n=>(n.modifiers.push(z9,{name:"offset",options:{offset:()=>e}}),n)}([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),iR(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const i=t.which,r=this._getMenuElements();let s=-1,o=null;const a=this._isEventFromToggle(t);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(t.target)&&(o=l),l===FO(this._document)&&(s=c)}),i!==Fn.Space&&i!==Fn.Enter){if(i!==Fn.Tab){if(a||o){if(this.open(),r.length){switch(i){case Fn.ArrowDown:s=Math.min(s+1,r.length-1);break;case Fn.ArrowUp:if(this._isDropup()&&-1===s){s=r.length-1;break}s=Math.max(s-1,0);break;case Fn.Home:s=0;break;case Fn.End:s=r.length-1}r[s].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(rR);t.shiftKey&&t.target===l[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else en(t.target,"focusout").pipe(zi(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else o&&(!0===this.autoClose||"inside"===this.autoClose)&&en(o,"click").pipe(zi(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const i=this._renderer,r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(s,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(s,"z-index","1055"),i.appendChild(s,r),i.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),t&&this._renderer.addClass(r,t))}_applyPlacementClasses(t){const i=this._menu;if(i){t||(t=this._getFirstPlacement(this.placement));const r=this._renderer,s=this._elementRef.nativeElement;r.removeClass(s,"dropup"),r.removeClass(s,"dropdown");const{nativeElement:o}=i;"static"===this.display?(i.placement=null,r.setAttribute(o,"data-bs-popper","static")):(i.placement=t,r.removeAttribute(o,"data-bs-popper"));const a=-1!==t.search("^top")?"dropup":"dropdown";r.addClass(s,a);const l=this._bodyContainer;l&&(r.removeClass(l,"dropup"),r.removeClass(l,"dropdown"),r.addClass(l,a))}}static#e=this.\u0275fac=function(i){return new(i||e)(X(Er),X(bK),X(Mn),X(Dt),X(pt),X(hr))};static#t=this.\u0275dir=Be({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(i,r,s){if(1&i&&(Nn(s,Sm,5),Nn(s,Tm,5)),2&i){let o;nn(o=rn())&&(r._menu=o.first),nn(o=rn())&&(r._anchor=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Gt("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[vt.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[li]})}return e})(),yR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();class yl{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}let wK=(()=>{class e{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(zi(1)).subscribe(()=>{Ir(this._zone,this._el.nativeElement,(t,i)=>{i&&yd(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ir(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||e)(X(pt),X(Dt))};static#t=this.\u0275cmp=jt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Qa("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Gt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[us],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();class bR{update(n){}close(n){}dismiss(n){}}const CK=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],xK=["animation","backdropClass"];class EK{_applyWindowOptions(n,t){CK.forEach(i=>{pl(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){xK.forEach(i=>{pl(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(wt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(wt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ut,this._dismissed=new ut,this._hidden=new ut,n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function RO(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():_t(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),R0(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var xw=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(xw||{});let AK=(()=>{class e{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new ut,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ot,this.shown=new ut,this.hidden=new ut}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":fl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=R0(Ir(this._zone,t,()=>t.classList.remove("show"),i),Ir(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};R0(Ir(this._zone,this._elRef.nativeElement,(s,o)=>{o&&yd(s),s.classList.add("show")},t),Ir(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{en(t,"keydown").pipe(wt(this._closed$),qn(r=>r.which===Fn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(xw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;en(this._dialogEl.nativeElement,"mousedown").pipe(wt(this._closed$),Ti(()=>i=!1),Ri(()=>en(t,"mouseup").pipe(wt(this._closed$),zi(1))),qn(({target:r})=>t===r)).subscribe(()=>{i=!0}),en(t,"click").pipe(wt(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(xw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=sR(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ir(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||e)(X(Mn),X(pt),X(Dt))};static#t=this.\u0275cmp=jt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&ko(Iq,7),2&i){let s;nn(s=rn())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(tn("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Qa("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Gt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[us],ngContentSelectors:eq,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(function Xp(e){const n=$e()[Hn][Vi];if(!n.projection){const i=n.projection=function $f(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}(e?e.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const o=e?R4(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),d(0,"div",0,1)(2,"div",2),function aa(e,n=0,t){const i=$e(),r=ln(),s=wc(r,Rt+e,16,null,t||null);null===s.projection&&(s.projection=n),N_(),(!i[Lr]||Jl())&&32!=(32&s.flags)&&function nL(e,n,t){Ax(n[Ft],0,n,t,bv(e,t,n),yx(t.parent||n[Vi],t,n))}(r,i,s)}(3),f()()),2&i&&Qa("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),DK=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),SK=(()=>{class e{constructor(t,i,r,s,o,a,l){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new ut,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ot,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,i=!1)=>{e.runOutsideAngular(()=>{const r=en(n,"focusin").pipe(wt(t),dt(s=>s.target));en(n,"keydown").pipe(wt(t),qn(s=>s.which===Fn.Tab),N0(r)).subscribe(([s,o])=>{const[a,l]=sR(n);(o===a||o===n)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&en(n,"click").pipe(wt(t),N0(r),dt(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:pl(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new bR,l=(t=r.injector||t).get(ur,null)||this._environmentInjector,c=this._getContentRef(t,l,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(s):void 0,m=this._attachWindowComponent(s,c.nodes),F=new EK(m,c,u,r.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(m),F.hidden.pipe(zi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=K=>{F.close(K)},a.dismiss=K=>{F.dismiss(K)},a.update=K=>{F.update(K)},F.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),m.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=fb(wK,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=fb(AK,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof ii?this._createFromTemplateRef(r,s):fl(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new yl([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new yl([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new yl([[i]])}_createFromComponent(t,i,r,s,o){const l=fb(r,{environmentInjector:i,elementInjector:Hi.create({providers:[{provide:bR,useValue:s}],parent:t})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new yl([[c]],l.hostView,l)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Oo),Ge(Hi),Ge(ur),Ge(Mn),Ge(DK),Ge(Ap),Ge(Dt))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TK=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(mm))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MK=(()=>{class e{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Hi),Ge(SK),Ge(TK))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({providers:[MK]})}return e})(),ER=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),OR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),NR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),PR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),FR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),LR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),BR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),VR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),UR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();new Xe("live announcer delay",{providedIn:"root",factory:function qK(){return 100}});let jR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),HR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})();const KK=[zO,qO,QO,XO,vR,yR,wR,ER,HR,OR,NR,PR,FR,LR,BR,VR,UR,jR];let QK=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[KK,zO,qO,QO,XO,vR,yR,wR,ER,HR,OR,NR,PR,FR,LR,BR,VR,UR,jR]})}return e})();function XK(e,n){if(1&e&&(d(0,"div",2)(1,"a",11),b(2,"Pedir cita "),f()()),2&e){const t=Re(2);$(),Tn("routerLink","/add-appointment/",t.authService.currentUser().id,"")}}function ZK(e,n){if(1&e&&(d(0,"div",2)(1,"a",11),b(2,"Cambiar cita "),f()()),2&e){const t=Re(2);$(),Tn("routerLink","/appointment-list/",t.authService.currentUser().id,"")}}function JK(e,n){1&e&&(d(0,"button",12),b(1," Pacientes "),f())}function eQ(e,n){1&e&&(d(0,"button",12),b(1," Citas "),f())}function tQ(e,n){1&e&&(d(0,"div",2)(1,"a",13),b(2,"Registrar doctor"),f()())}function nQ(e,n){if(1&e&&(d(0,"div")(1,"h2",1),b(2," Men\xfa"),f(),d(3,"div",2)(4,"a",3),b(5,"Inicio "),f()(),ze(6,XK,3,1,"div",4)(7,ZK,3,1,"div",4),d(8,"div",2),ze(9,JK,2,0,"button",5),d(10,"div",6)(11,"a",7),b(12,"Lista de pacientes"),f(),d(13,"a",8),b(14,"Dar de alta paciente"),f()()(),d(15,"div",2),ze(16,eQ,2,0,"button",5),d(17,"div",6)(18,"a",9),b(19,"Lista de citas"),f(),d(20,"a",10),b(21,"Dar cita"),f()()(),ze(22,tQ,3,0,"div",4),f()),2&e){const t=Re();$(6),me("ngIf",!t.authService.isAdmin()&&!t.authService.isDoctor()),$(),me("ngIf",!t.authService.isAdmin()&&!t.authService.isDoctor()),$(2),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor()),$(7),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor()),$(6),me("ngIf",t.authService.isAdmin())}}let iQ=(()=>{class e{onClick(t){t.stopPropagation()}constructor(t){this.authService=t}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||e)(X(bs))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-sidebar-mobile"]],hostBindings:function(i,r){1&i&&Fe("click",function(o){return r.onClick(o)})},decls:1,vars:1,consts:[[4,"ngIf"],[1,"sidebarNew"],["ngbDropdown","",1,"sidebarNew"],["type","button","routerLink","/dashboard",1,"btn","btn-outline-primary","bto"],["ngbDropdown","","class","sidebarNew",4,"ngIf"],["type","button","class","btn btn-outline-primary bto","id","dropdownBasic1","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["routerLink","/patient-list","ngbDropdownItem",""],["routerLink","/add-patient","ngbDropdownItem",""],["routerLink","/appointment-list","ngbDropdownItem",""],["routerLink","/add-appointment","ngbDropdownItem",""],["type","button",1,"btn","btn-outline-primary","bto",3,"routerLink"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","bto"],["type","button","routerLink","/register-doctor",1,"btn","btn-outline-primary","bto"]],template:function(i,r){1&i&&ze(0,nQ,23,5,"div",0),2&i&&me("ngIf",r.authService.isLogged())},dependencies:[jn,hi,Cd,Cw,Sm,Dm],styles:[".sidebarNew[_ngcontent-%COMP%], .sidebarNewSec[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-left:20px;margin-top:20px}.bto[_ngcontent-%COMP%]{margin-bottom:5px;width:90%}.bto2[_ngcontent-%COMP%]{margin-bottom:10px;width:90%}"]})}return e})();function rQ(e,n){1&e&&(d(0,"div")(1,"span"),b(2,"Doctor"),f()())}function sQ(e,n){1&e&&(d(0,"div")(1,"span"),b(2,"Paciente"),f()())}function oQ(e,n){if(1&e&&(d(0,"div",17)(1,"h5"),b(2),f(),ze(3,rQ,3,0,"div",0)(4,sQ,3,0,"div",0),f()),2&e){const t=Re(2);$(2),Qe(t.currentUser().name),$(),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor()),$(),me("ngIf",!t.authService.isAdmin()&&!t.authService.isDoctor())}}function aQ(e,n){if(1&e){const t=Sn();d(0,"div")(1,"div",1)(2,"div",2)(3,"a",3),ke(4,"img",4),f()(),d(5,"div",5)(6,"a",6),ke(7,"img",7),f(),d(8,"div",8),ke(9,"app-sidebar-mobile"),f()(),d(10,"ul",9)(11,"li",10)(12,"a",11),ze(13,oQ,5,3,"div",12),d(14,"span",13),ke(15,"img",14),f()(),d(16,"div",15)(17,"a",16),Fe("click",function(){return Qt(t),Xt(Re().myProfile())}),b(18,"Mi perfil"),f(),d(19,"a",16),Fe("click",function(){return Qt(t),Xt(Re().logout())}),b(20,"Cerrar sesi\xf3n"),f()()()()()()}if(2&e){const t=Re();$(13),me("ngIf",t.authService.isLogged()),$(2),me("src",t.profileAvatarUrls,os)}}let lQ=(()=>{class e{constructor(t,i,r,s){this.authService=t,this.router=i,this.userService=r,this.activatedRoute=s,this.avatarFile=[],this.idUser=this.activatedRoute.snapshot.params.id}ngOnInit(){this.userService.getMe().subscribe(t=>{this.user=t,this.nameUser=t.name,this.idUser=t.id,this.userService.getProfileAvatar(t.id).subscribe(i=>{const r=URL.createObjectURL(i);this.profileAvatarUrls=r})})}currentUser(){return this.authService.currentUser()}logout(){this.authService.logOut(),this.router.navigate(["/auth"])}myProfile(){this.router.navigate(["/profile/"])}onClick(t){t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||e)(X(bs),X(ui),X(qi),X(Ji))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-header"]],hostBindings:function(i,r){1&i&&Fe("click",function(o){return r.onClick(o)})},decls:1,vars:1,consts:[[4,"ngIf"],[1,"header"],[1,"header-left"],["routerLink","dashboard",1,"logo"],["src","assets/img/favicon.png","width","35","height","35","alt",""],[1,"dropdown","mobile-user-menu","mobile_btn","float-start"],["href","javascript:void(0)","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],["src","assets/img/icons/bar-icon.svg","alt",""],[1,"dropdown-menu","dropdown-menu-end"],[1,"nav","user-menu","float-end"],[1,"nav-item","dropdown","has-arrow","user-profile-list"],["href","javascript:void(0)","data-bs-toggle","dropdown",1,"dropdown-toggle","nav-link","user-link"],["class","user-names",4,"ngIf"],[1,"user-img"],["alt","",3,"src"],[1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"user-names"]],template:function(i,r){1&i&&ze(0,aQ,21,2,"div",0),2&i&&me("ngIf",r.authService.isLogged())},dependencies:[jn,hi,iQ],encapsulation:2})}return e})();function cQ(e,n){if(1&e&&(d(0,"div",3)(1,"a",12),b(2,"Pedir cita "),f()()),2&e){const t=Re(2);$(),Tn("routerLink","/add-appointment/",t.authService.currentUser().id,"")}}function dQ(e,n){if(1&e&&(d(0,"div",3)(1,"a",12),b(2,"Cambiar cita "),f()()),2&e){const t=Re(2);$(),Tn("routerLink","/appointment-list/",t.authService.currentUser().id,"")}}function uQ(e,n){1&e&&(d(0,"button",13),b(1," Pacientes "),f())}function hQ(e,n){1&e&&(d(0,"button",13),b(1," Citas "),f())}function fQ(e,n){1&e&&(d(0,"div",3)(1,"a",14),b(2,"Registrar doctor"),f()())}function pQ(e,n){if(1&e&&(d(0,"div",1)(1,"h2",2),b(2," Men\xfa"),f(),d(3,"div",3)(4,"a",4),b(5,"Inicio "),f()(),ze(6,cQ,3,1,"div",5)(7,dQ,3,1,"div",5),d(8,"div",3),ze(9,uQ,2,0,"button",6),d(10,"div",7)(11,"a",8),b(12,"Lista de pacientes"),f(),d(13,"a",9),b(14,"Dar de alta paciente"),f()()(),d(15,"div",3),ze(16,hQ,2,0,"button",6),d(17,"div",7)(18,"a",10),b(19,"Lista de citas"),f(),d(20,"a",11),b(21,"Dar cita"),f()()(),ze(22,fQ,3,0,"div",5),f()),2&e){const t=Re();$(6),me("ngIf",!t.authService.isAdmin()&&!t.authService.isDoctor()),$(),me("ngIf",!t.authService.isAdmin()&&!t.authService.isDoctor()),$(2),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor()),$(7),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor()),$(6),me("ngIf",t.authService.isAdmin())}}let gQ=(()=>{class e{constructor(t){this.authService=t}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||e)(X(bs))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-sidebar"]],decls:1,vars:1,consts:[["class","sidebar",4,"ngIf"],[1,"sidebar"],[1,"sidebarNew"],["ngbDropdown","",1,"sidebarNew"],["type","button","routerLink","/dashboard",1,"btn","btn-outline-primary","bto"],["ngbDropdown","","class","sidebarNew",4,"ngIf"],["type","button","class","btn btn-outline-primary bto","id","dropdownBasic1","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["routerLink","/patient-list","ngbDropdownItem",""],["routerLink","/add-patient","ngbDropdownItem",""],["routerLink","/appointment-list","ngbDropdownItem",""],["routerLink","/add-appointment","ngbDropdownItem",""],["type","button",1,"btn","btn-outline-primary","bto",3,"routerLink"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","bto"],["type","button","routerLink","/register-doctor",1,"btn","btn-outline-primary","bto"]],template:function(i,r){1&i&&ze(0,pQ,23,5,"div",0),2&i&&me("ngIf",r.authService.isLogged())},dependencies:[jn,hi,Cd,Cw,Sm,Dm],styles:[".sidebarNew[_ngcontent-%COMP%], .sidebarNewSec[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-left:20px;margin-top:20px}.bto[_ngcontent-%COMP%]{margin-bottom:5px;width:90%}.bto2[_ngcontent-%COMP%]{margin-bottom:10px;width:90%}"]})}return e})(),mQ=(()=>{class e{constructor(){this.title="Frontend"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(i,r){1&i&&ke(0,"app-header")(1,"router-outlet")(2,"app-sidebar")},dependencies:[b0,lQ,gQ]})}return e})();function _Q(e,n){1&e&&(d(0,"div")(1,"div",1)(2,"h2"),b(3," \xa1Ya est\xe1s iniciado/a! ;) "),f(),d(4,"button",2),b(5," Ir a inicio "),f()()())}function vQ(e,n){1&e&&(d(0,"div",31),b(1," Usuario o contrase\xf1a incorrectos. "),f())}function yQ(e,n){1&e&&(d(0,"div",32),b(1," Todos los campos son obligatorios. "),f())}function bQ(e,n){if(1&e){const t=Sn();d(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),ke(7,"img",9),f()()(),d(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"div",14)(13,"div",15),ke(14,"img",16),f(),d(15,"h2"),b(16,"Iniciar sesi\xf3n"),f(),ze(17,vQ,2,0,"div",17)(18,yQ,2,0,"div",18),d(19,"form",19),Fe("ngSubmit",function(){Qt(t);const r=sn(26),s=sn(33);return Xt(Re().onLogin(r.value,s.value))}),d(20,"div",20)(21,"label"),b(22,"Correo electr\xf3nico "),d(23,"span",21),b(24,"*"),f()(),ke(25,"input",22,23),f(),d(27,"div",20)(28,"label"),b(29,"Contrase\xf1a "),d(30,"span",21),b(31,"*"),f()(),ke(32,"input",24,25)(34,"span",26),f(),d(35,"div",27)(36,"a",28),b(37,"\xbfHas olvidado la contrase\xf1a?"),f()(),d(38,"div",29)(39,"button",30),b(40,"Acceder"),f()()()()()()()()()()()()}if(2&e){const t=Re();$(17),me("ngIf",t.loginError),$(),me("ngIf",t.emptyFields)}}let GR=(()=>{class e{constructor(t,i){this.authService=t,this.router=i,this.loginError=!1,this.emptyFields=!1,this.isLogged=!1}onLogin(t,i){if(!t||!i)return this.emptyFields=!0,void(this.loginError=!1);this.emptyFields=!1,this.loginError=!1,this.authService.logIn(t,i).subscribe(r=>{this.router.navigate(["/dashboard"]),this.isLogged=this.authService.isLogged(),console.log(this.authService.isLoggedIn)},r=>{this.loginError=!0,console.error("ERROR SESION")})}static#e=this.\u0275fac=function(i){return new(i||e)(X(bs),X(ui))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-login"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"page-wrapper",2,"display","flex","flex-direction","column","align-items","center","justify-content","center","height","100vh"],["routerLink","/dashboard",1,"btn","btn-primary","btn-block"],[1,"main-wrapper","login-body"],[1,"container-fluid","px-0"],[1,"row"],[1,"col-lg-6","login-wrap"],[1,"login-sec"],[1,"log-img"],["src","assets/img/login-02.png","alt","Logo",1,"img-fluid"],[1,"col-lg-6","login-wrap-bg"],[1,"login-wrapper"],[1,"loginbox"],[1,"login-right"],[1,"login-right-wrap"],[1,"account-logo"],["src","assets/img/favicon.png","alt","",1,"logo"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],[1,"login-danger"],["type","text",1,"form-control"],["username",""],["type","password",1,"form-control","pass-input"],["password",""],[1,"profile-views","feather-eye-off","toggle-password"],[1,"forgotpass"],["routerLink","/forgot-password"],[1,"form-group","login-btn"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"alert","alert-danger"],[1,"alert","alert-warning"]],template:function(i,r){1&i&&ze(0,_Q,6,0,"div",0)(1,bQ,41,2,"div",0),2&i&&(me("ngIf",r.authService.isLogged()),$(),me("ngIf",!r.authService.isLogged()))},dependencies:[jn,hi,xa,Ca,fo],encapsulation:2})}return e})();const xs="/api/appointments/";let jo=(()=>{class e{constructor(t){this.httpClient=t}bookAppointment(t,i){return this.httpClient.post(xs+"user="+i,t).pipe(dt(r=>r),vs(r=>ao("Book Appointment Error")))}getAllAppointments(){return this.httpClient.get(xs+"all")}getAllAppointmentsByCodEntity(t){return this.httpClient.get(xs+"/appointment/"+t)}getAllAppointmentsByUser(t){return this.httpClient.get(xs+"all/"+t)}getAppointment(t){return this.httpClient.get(xs+t)}updateAppointment(t,i){const r=(new Lo).set("completed",i.toString());return this.httpClient.put(xs+"update/"+t,null,{params:r})}deleteAppointment(t){return this.httpClient.delete(xs+"delete/"+t)}updateFullAppointment(t){const i=new FormData;return i.append("bookDate",t.bookDate||""),i.append("fromDate",t.fromDate||""),i.append("toDate",t.toDate||""),i.append("description",t.description||""),i.append("additionalNote",t.additionalNote||""),i.append("doctorAsignatedId",t.doctorAsignated.id.toString()),this.httpClient.put(xs+"fullupdate/"+t.id,i)}getAppointmentByInterventionId(t){return this.httpClient.get(xs+"byAppointment/"+t)}findAppointmentsByUserDetails(t){return this.httpClient.get(xs+"/search?query="+t)}checkAppointmentAvailability(t,i,r,s){return this.httpClient.post(xs+"check-availability",{doctorId:t,bookDate:i,fromDate:r,toDate:s})}getAllDescriptions(){return this.httpClient.get(xs+"/all-description")}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bl="/api/interventions/";let wl=(()=>{class e{constructor(t){this.httpClient=t}getIntervention(t){return this.httpClient.get(bl+"each/"+t)}getUserInterventions(t){return this.httpClient.get(bl+t)}getDocumentByIntervention(t){return this.httpClient.get(bl+t+"/document")}getAppointmentList(){return this.httpClient.get("/api/appointments/all")}getAllAppointmentsByUser(t){return this.httpClient.get("/api/appointments/all/"+t)}addIntervention(t,i,r){return this.httpClient.post(bl+t+"/user="+i,r)}updateIntervention(t,i,r){return this.httpClient.put(bl+"update/"+t+"/user="+i,r)}deleteIntervention(t){return this.httpClient.delete(bl+"delete/"+t.id).subscribe()}getAllInterventions(){return this.httpClient.get(bl+"all")}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Aa="/api/util/";let Hh=(()=>{class e{constructor(t){this.httpClient=t}exportPatientsPDF(){return this.httpClient.get(Aa+"exportPatientsPDF",{responseType:"blob"})}exportAppointmentsPDF(){return this.httpClient.get(Aa+"exportAppointmentsPDF",{responseType:"blob"})}exportInterventionsPDF(t){return this.httpClient.get(Aa+"exportInterventionsPDF/"+t,{responseType:"blob"})}exportPatientsExcel(){return this.httpClient.get(Aa+"exportPatientsExcel",{responseType:"blob"})}getAppointmentsCompletedYesterday(){return this.httpClient.get(Aa+"aptComplYest")}getnumPatientsYesterday(){return this.httpClient.get(Aa+"numPatientsYesterday")}getnumPatientsTotal(){return this.httpClient.get(Aa+"numPatientsTotal")}updateUtil(t){return this.httpClient.put(Aa+"update",t)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $R(e){for(let n in e){let t=e[n]??"";switch(n){case"display":e.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+n]=t;break;case"flex-direction":e["-webkit-flex-direction"]=t,e["flex-direction"]=t;break;case"order":e.order=e["-webkit-"+n]=isNaN(+t)?"0":t}}return e}const Aw="inline",Im=["row","column","row-reverse","column-reverse"];function zR(e){e=e?.toLowerCase()??"";let[n,t,i]=e.split(" ");return Im.find(r=>r===n)||(n=Im[0]),t===Aw&&(t=i!==Aw?i:"",i=Aw),[n,wQ(t),!!i]}function Gh(e){let[n]=zR(e);return n.indexOf("row")>-1}function wQ(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}function Ho(e,...n){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let t of n)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}const EQ={provide:rg,useFactory:function xQ(e,n){return()=>{if(ha(n)){const t=Array.from(e.querySelectorAll(`[class*=${qR}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${qR}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Mn,Xi],multi:!0},qR="flex-layout-";let Dw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Tt({providers:[EQ]}),e})();class Cl{constructor(n=!1,t="all",i="",r="",s=0){this.matches=n,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new Cl(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let AQ=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const s=this.stylesheet.get(t);s?s.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let s="";if(r){const o=r.get(i);("number"==typeof o||"string"==typeof o)&&(s=o+"")}return s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sw={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ls=new Xe("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Sw}),Ed=new Xe("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Tw=new Xe("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function YR(e,n){return e=e?.clone()??new Cl,n&&(e.mqAlias=n.alias,e.mediaQuery=n.mediaQuery,e.suffix=n.suffix,e.priority=n.priority),e}class fi{constructor(){this.shouldCache=!0}sideEffect(n,t,i){}}let Wn=(()=>{class e{constructor(t,i,r,s){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(t,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:$R(i),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:$R(t);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||fa(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){return t.getAttribute(i)??""}lookupInlineStyle(t,i){return ha(this._platformId)?t.style.getPropertyValue(i):function DQ(e,n){return KR(e)[n]??""}(t,i)}lookupStyle(t,i,r=!1){let s="";return t&&((s=this.lookupInlineStyle(t,i))||(ha(this._platformId)?r||(s=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,i)))),s?s.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const s=t[r],o=Array.isArray(s)?s:[s];o.sort();for(let a of o)a=a?a+"":"",ha(this._platformId)||!this._serverModuleLoaded?ha(this._platformId)?i.style.setProperty(r,a):SQ(i,r,a):this._serverStylesheet.addStyleToElement(i,r,a)})}}return e.\u0275fac=function(t){return new(t||e)(Ge(AQ),Ge(Ed),Ge(Xi),Ge(Ls))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function SQ(e,n,t){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=KR(e);i[n]=t??"",function TQ(e,n){let t="";for(const i in n)n[i]&&(t+=`${i}:${n[i]};`);e.setAttribute("style",t)}(e,i)}function KR(e){const n={},t=e.getAttribute("style");if(t){const i=t.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const o=s.indexOf(":");if(-1===o)throw new Error(`Invalid CSS style: ${s}`);n[s.substr(0,o).trim()]=s.substr(o+1).trim()}}}return n}function $h(e,n){return(n&&n.priority||0)-(e&&e.priority||0)}function MQ(e,n){return(e.priority||0)-(n.priority||0)}let Mw=(()=>{class e{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new Zt(new Cl(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(qn(o=>!i||t.indexOf(o.mediaQuery)>-1));return Zg(new Ut(o=>{const a=this.registerQuery(t);if(a.length){const l=a.pop();a.forEach(c=>{o.next(c)}),this.source.next(l)}o.complete()}),r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function IQ(e,n){const t=e.filter(i=>!QR[i]);if(t.length>0){const i=t.join(", ");try{const r=n.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),n.head.appendChild(r),t.forEach(s=>QR[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const o=l=>{this._zone.run(()=>this.source.next(new Cl(l.matches,s)))};let a=this.registry.get(s);a||(a=this.buildMQL(s),a.addListener(o),this.pendingRemoveListenerFns.push(()=>a.removeListener(o)),this.registry.set(s,a)),a.matches&&r.push(new Cl(!0,s))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function OQ(e,n){return n&&window.matchMedia("all").addListener?window.matchMedia(e):function kQ(e){const n=new EventTarget;return n.matches="all"===e||""===e,n.media=e,n.addListener=()=>{},n.removeListener=()=>{},n.addEventListener=()=>{},n.dispatchEvent=()=>!1,n.onchange=null,n}(e)}(t,ha(this._platformId))}}return e.\u0275fac=function(t){return new(t||e)(Ge(Dt),Ge(Xi),Ge(Mn))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const QR={},RQ=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],XR="(orientation: portrait) and (max-width: 599.98px)",ZR="(orientation: landscape) and (max-width: 959.98px)",JR="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",eN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",tN="(orientation: portrait) and (min-width: 840px)",nN="(orientation: landscape) and (min-width: 1280px)",Go={HANDSET:`${XR}, ${ZR}`,TABLET:`${JR} , ${eN}`,WEB:`${tN}, ${nN} `,HANDSET_PORTRAIT:`${XR}`,TABLET_PORTRAIT:`${JR} `,WEB_PORTRAIT:`${tN}`,HANDSET_LANDSCAPE:`${ZR}`,TABLET_LANDSCAPE:`${eN}`,WEB_LANDSCAPE:`${nN}`},NQ=[{alias:"handset",priority:2e3,mediaQuery:Go.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Go.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Go.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Go.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Go.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Go.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Go.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Go.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Go.WEB_PORTRAIT,overlapping:!0}],PQ=/(\.|-|_)/g;function FQ(e){let n=e.length>0?e.charAt(0):"",t=e.length>1?e.slice(1):"";return n.toUpperCase()+t}const UQ=new Xe("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=Ke(Tw),n=Ke(Ls),t=[].concat.apply([],(e||[]).map(r=>Array.isArray(r)?r:[r]));return function VQ(e,n=[]){const t={};return e.forEach(i=>{t[i.alias]=i}),n.forEach(i=>{t[i.alias]?Ho(t[i.alias],i):t[i.alias]=i}),function BQ(e){return e.forEach(n=>{n.suffix||(n.suffix=function LQ(e){return e.replace(PQ,"|").split("|").map(FQ).join("")}(n.alias),n.overlapping=!!n.overlapping)}),e}(Object.keys(t).map(i=>t[i]))}((n.disableDefaultBps?[]:RQ).concat(n.addOrientationBps?NQ:[]),t)}});let Iw=(()=>{class e{constructor(t){this.findByMap=new Map,this.items=[...t].sort(MQ)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,i){let r=this.findByMap.get(t);return r||(r=this.items.find(i)??null,this.findByMap.set(t,r)),r??null}}return e.\u0275fac=function(t){return new(t||e)(Ge(UQ))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ad="print",jQ={alias:Ad,mediaQuery:Ad,priority:1e3};let HQ=(()=>{class e{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new GQ,this.deactivations=[]}withPrintQuery(t){return[...t,Ad]}isPrintEvent(t){return t.mediaQuery.startsWith(Ad)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort($h)}updateEvent(t){let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=i?.mediaQuery??""),YR(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Cl(!0,Ad))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),o=!this.formerActivations&&t.activatedBreakpoints.includes(r);(s||o)&&(this.deactivations.push(r),this.deactivations.sort($h))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return e.\u0275fac=function(t){return new(t||e)(Ge(Iw),Ge(Ls),Ge(Mn))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class GQ{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(jQ),n.sort($h),n.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function $Q(e){return e?.mediaQuery.startsWith(Ad)??!1}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}let Kn=(()=>{class e{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ut,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=YR(t,i);const r=this.activatedBreakpoints.indexOf(i);t.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort($h),this.updateStyles()):!t.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort($h),this.updateStyles())}}init(t,i,r,s,o=[]){iN(this.updateMap,t,i,r),iN(this.clearMap,t,i,s),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,o)}getValue(t,i,r){const s=this.elementMap.get(t);if(s){const o=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(o)return o.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(t,i,r,s){let o=this.elementMap.get(t);if(o){const l=(o.get(s)??new Map).set(i,r);o.set(s,l),this.elementMap.set(t,o)}else o=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(t,o);const a=this.getValue(t,i);void 0!==a&&this.updateElement(t,i,a)}trackValue(t,i){return this.subject.asObservable().pipe(qn(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(t);s&&s.forEach((o,a)=>{this.updateElement(i,a,o),r.delete(a)}),r.forEach(o=>{if(s=this.getActivatedValues(t,o),s){const a=s.get(o);this.updateElement(i,o,a)}else this.clearElement(i,o)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const s=this.updateMap.get(t);if(s){const o=s.get(i);o&&(o(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((s,o)=>r.delete(o)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(t,i,s.get(i)):s.forEach((o,a)=>this.updateElement(t,a,o)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(i)){const a=Zg(...r).subscribe(()=>{const l=this.getValue(t,i);this.updateElement(t,i,l)});s.set(i,a)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const a=t.get(this.activatedBreakpoints[s].alias);if(a&&(void 0===i||a.has(i)&&null!=a.get(i)))return a}if(!this._useFallbacks)return;const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Ti(this.hook.interceptEvents(this)),qn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(Ge(Mw),Ge(Iw),Ge(HQ))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function iN(e,n,t,i){if(void 0!==i){const r=e.get(n)??new Map;r.set(t,i),e.set(n,r)}}let ri=(()=>{class e{constructor(t,i,r,s){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ut,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,s=r.shouldCache;let o=this.styleCache.get(t);(!o||!s)&&(o=r.buildStyles(t,i),s&&this.styleCache.set(t,o)),this.mru={...o},this.applyStyleToElement(o),r.sideEffect(t,o,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,s]=this.styler.getFlowDirection(t);if(!s&&i){const o=function WR(e){let[n,t,i]=zR(e);return function CQ(e,n=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":n||null}}(n,t,i)}(r);this.styler.applyStyleToElements(o,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(X(pt),X(fi),X(Wn),X(Kn))},e.\u0275dir=Be({type:e,features:[li]}),e})();function lN(e){return Array.isArray(e)?e:[e]}EventTarget;let JQ=(()=>{class e extends ri{constructor(t,i,r,s,o,a,l){super(t,null,i,r),this.ngClassInstance=l,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Ag(s,o,t,a)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return e.\u0275fac=function(t){return new(t||e)(X(pt),X(Wn),X(Kn),X(Sp),X(bc),X(hr),X(Ag,10))},e.\u0275dir=Be({type:e,inputs:{klass:[vt.None,"class","klass"]},features:[it]}),e})();const eX=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let cN=(()=>{class e extends JQ{constructor(){super(...arguments),this.inputs=eX}}return e.\u0275fac=(()=>{let n;return function(i){return(n||(n=ht(e)))(i||e)}})(),e.\u0275dir=Be({type:e,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[it]}),e})(),gN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Tt({imports:[Dw]}),e})();function uX(e,n){if(1&e){const t=Sn();d(0,"a",12),Fe("keyup.enter",function(){return Qt(t),Re(3),Xt(sn(1).previous())})("click",function(){return Qt(t),Re(3),Xt(sn(1).previous())}),b(1),d(2,"span",13),b(3),f()()}if(2&e){const t=Re(3);$(),qt(" ",t.previousLabel," "),$(2),Qe(t.screenReaderPageLabel)}}function hX(e,n){if(1&e&&(d(0,"span",14),b(1),d(2,"span",13),b(3),f()()),2&e){const t=Re(3);$(),qt(" ",t.previousLabel," "),$(2),Qe(t.screenReaderPageLabel)}}function fX(e,n){if(1&e&&(d(0,"li",9),ze(1,uX,4,2,"a",10)(2,hX,4,2,"span",11),f()),2&e){Re(2);const t=sn(1);Gt("disabled",t.isFirstPage()),$(),me("ngIf",1<t.getCurrent()),$(),me("ngIf",t.isFirstPage())}}function pX(e,n){if(1&e){const t=Sn();d(0,"a",12),Fe("keyup.enter",function(){Qt(t);const r=Re().$implicit;return Re(2),Xt(sn(1).setCurrent(r.value))})("click",function(){Qt(t);const r=Re().$implicit;return Re(2),Xt(sn(1).setCurrent(r.value))}),d(1,"span",13),b(2),f(),d(3,"span"),b(4),_n(5,"number"),f()()}if(2&e){const t=Re().$implicit,i=Re(2);$(2),qt("",i.screenReaderPageLabel," "),$(2),Qe("..."===t.label?t.label:Di(5,2,t.label,""))}}function gX(e,n){if(1&e&&(Uc(0),d(1,"span",16)(2,"span",13),b(3),f(),d(4,"span"),b(5),_n(6,"number"),f()(),jc()),2&e){const t=Re().$implicit,i=Re(2);$(3),qt("",i.screenReaderCurrentLabel," "),$(2),Qe("..."===t.label?t.label:Di(6,2,t.label,""))}}function mX(e,n){if(1&e&&(d(0,"li"),ze(1,pX,6,5,"a",10)(2,gX,7,5,"ng-container",15),f()),2&e){const t=n.$implicit;Re(2);const i=sn(1);Gt("current",i.getCurrent()===t.value)("ellipsis","..."===t.label),$(),me("ngIf",i.getCurrent()!==t.value),$(),me("ngIf",i.getCurrent()===t.value)}}function _X(e,n){if(1&e){const t=Sn();d(0,"a",12),Fe("keyup.enter",function(){return Qt(t),Re(3),Xt(sn(1).next())})("click",function(){return Qt(t),Re(3),Xt(sn(1).next())}),b(1),d(2,"span",13),b(3),f()()}if(2&e){const t=Re(3);$(),qt(" ",t.nextLabel," "),$(2),Qe(t.screenReaderPageLabel)}}function vX(e,n){if(1&e&&(d(0,"span",14),b(1),d(2,"span",13),b(3),f()()),2&e){const t=Re(3);$(),qt(" ",t.nextLabel," "),$(2),Qe(t.screenReaderPageLabel)}}function yX(e,n){if(1&e&&(d(0,"li",17),ze(1,_X,4,2,"a",10)(2,vX,4,2,"span",11),f()),2&e){Re(2);const t=sn(1);Gt("disabled",t.isLastPage()),$(),me("ngIf",!t.isLastPage()),$(),me("ngIf",t.isLastPage())}}function bX(e,n){if(1&e&&(d(0,"ul",4),ze(1,fX,3,4,"li",5),d(2,"li",6),b(3),f(),ze(4,mX,3,6,"li",7)(5,yX,3,4,"li",8),f()),2&e){const t=Re(),i=sn(1);Gt("responsive",t.responsive),$(),me("ngIf",t.directionLinks),$(2),vi(" ",i.getCurrent()," / ",i.getLastPage()," "),$(),me("ngForOf",i.pages)("ngForTrackBy",t.trackByIndex),$(),me("ngIf",t.directionLinks)}}class Rw{constructor(){this.change=new ot,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(n){return null==n.id&&(n.id=this.DEFAULT_ID),this.instances[n.id]?this.updateInstance(n):(this.instances[n.id]=n,!0)}updateInstance(n){let t=!1;for(let i in this.instances[n.id])n[i]!==this.instances[n.id][i]&&(this.instances[n.id][i]=n[i],t=!0);return t}getCurrentPage(n){return this.instances[n]?this.instances[n].currentPage:1}setCurrentPage(n,t){if(this.instances[n]){let i=this.instances[n];t<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=t&&(this.instances[n].currentPage=t,this.change.emit(n))}}setTotalItems(n,t){this.instances[n]&&0<=t&&(this.instances[n].totalItems=t,this.change.emit(n))}setItemsPerPage(n,t){this.instances[n]&&(this.instances[n].itemsPerPage=t,this.change.emit(n))}getInstance(n=this.DEFAULT_ID){return this.instances[n]?this.clone(this.instances[n]):{}}clone(n){var t={};for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t}}const wX=Number.MAX_SAFE_INTEGER;let Dd=(()=>{class e{constructor(t){this.service=t,this.state={}}transform(t,i){if(!(t instanceof Array)){let m=i.id||this.service.defaultId();return this.state[m]?this.state[m].slice:t}let a,l,r=i.totalItems&&i.totalItems!==t.length,s=this.createInstance(t,i),o=s.id,c=s.itemsPerPage,u=this.service.register(s);if(!r&&t instanceof Array){if(c=+c||wX,a=(s.currentPage-1)*c,l=a+c,this.stateIsIdentical(o,t,a,l))return this.state[o].slice;{let F=t.slice(a,l);return this.saveState(o,t,F,a,l),this.service.change.emit(o),F}}return u&&this.service.change.emit(o),this.saveState(o,t,t,a,l),t}createInstance(t,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||t.length}}checkConfig(t){const r=["itemsPerPage","currentPage"].filter(s=>!(s in t));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(t,i,r,s,o){this.state[t]={collection:i,size:i.length,slice:r,start:s,end:o}}stateIsIdentical(t,i,r,s){let o=this.state[t];return!(!o||o.size!==i.length||o.start!==r||o.end!==s)&&o.slice.every((l,c)=>l===i[r+c])}}return e.\u0275fac=function(t){return new(t||e)(X(Rw,16))},e.\u0275pipe=Li({name:"paginate",type:e,pure:!1}),e})(),CX=(()=>{class e{constructor(t,i){this.service=t,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new ot,this.pageBoundsCorrection=new ot,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(t);i!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const i=Math.ceil(t.totalItems/t.itemsPerPage);return i<t.currentPage&&0<i?i:t.currentPage<1?1:t.currentPage}createPageArray(t,i,r,s){s=+s;let o=[];const a=Math.max(Math.ceil(r/i),1),l=Math.ceil(s/2),c=t<=l,u=a-l<t,m=!c&&!u;let F=s<a,K=1;for(;K<=a&&K<=s;){let le,ge=this.calculatePageNumber(K,t,s,a);le=F&&(2===K&&(m||u)||K===s-1&&(m||c))?"...":ge,o.push({label:le,value:ge}),K++}return o}calculatePageNumber(t,i,r,s){let o=Math.ceil(r/2);return t===r?s:1===t?t:r<s?s-o<i?s-r+t:o<i?i-o+t:t:t}}return e.\u0275fac=function(t){return new(t||e)(X(Rw),X(Er))},e.\u0275dir=Be({type:e,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[li]}),e})();function Nw(e){return!!e&&"false"!==e}let Sd=(()=>{class e{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new ot,this.pageBoundsCorrection=new ot,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=Nw(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=Nw(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=Nw(t)}trackByIndex(t){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=jt({type:e,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,i){if(1&t&&(d(0,"pagination-template",0,1),Fe("pageChange",function(s){return i.pageChange.emit(s)})("pageBoundsCorrection",function(s){return i.pageBoundsCorrection.emit(s)}),d(2,"nav",2),ze(3,bX,6,8,"ul",3),f()()),2&t){const r=sn(1);me("id",i.id)("maxSize",i.maxSize),$(2),tn("aria-label",i.screenReaderPaginationLabel),$(),me("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[CX,jn,$i,ZT],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),e})(),xX=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Tt({providers:[Rw],imports:[[Ob]]}),e})();function EX(e,n){if(1&e&&(d(0,"h2"),b(1,"Bienvenido de nuevo, "),d(2,"span"),b(3),f()()),2&e){const t=Re(2);$(3),qt("Dr. ",t.currentUser.lastName,"")}}function AX(e,n){if(1&e&&(d(0,"h2"),b(1,"Bienvenida de nuevo, "),d(2,"span"),b(3),f()()),2&e){const t=Re(2);$(3),qt("Dr. ",t.currentUser.lastName,"")}}function DX(e,n){if(1&e&&(d(0,"div",32),ze(1,EX,4,1,"h2",15)(2,AX,4,1,"h2",15),f()),2&e){const t=Re();$(),me("ngIf","Masculino"===t.currentUser.gender),$(),me("ngIf","Femenino"===t.currentUser.gender)}}function SX(e,n){if(1&e&&(d(0,"h2"),b(1,"Bienvenido de nuevo, "),d(2,"span"),b(3),f()()),2&e){const t=Re(2);$(3),vi("",t.currentUser.name," ",t.currentUser.lastName,"")}}function TX(e,n){if(1&e&&(d(0,"h2"),b(1,"Bienvenida de nuevo, "),d(2,"span"),b(3),f()()),2&e){const t=Re(2);$(3),vi("",t.currentUser.name," ",t.currentUser.lastName,"")}}function MX(e,n){if(1&e&&(d(0,"div",32),ze(1,SX,4,2,"h2",15)(2,TX,4,2,"h2",15),d(3,"p"),b(4,"\xbfQu\xe9 podemos hacer por ti?"),f()()),2&e){const t=Re();$(),me("ngIf","Masculino"===t.currentUser.gender),$(),me("ngIf","Femenino"===t.currentUser.gender)}}function IX(e,n){1&e&&(d(0,"span",44),b(1,"\xa1SIGUE AS\xcd, NO QUEDA NADA!"),f())}function kX(e,n){1&e&&(d(0,"span",45),b(1,"\xa1A POR ELLO!"),f())}function OX(e,n){1&e&&(d(0,"span",44),b(1,"TERMINAMOS POR HOY"),f())}function RX(e,n){1&e&&(d(0,"span",44),b(1,"\xa1WOW TE SUPERASTE!"),f())}function NX(e,n){if(1&e&&(d(0,"div",33)(1,"div",3)(2,"div",34)(3,"div",35)(4,"div",36),ke(5,"img",37),f(),d(6,"div",38)(7,"h4")(8,"span",39),b(9),f(),d(10,"span"),b(11),f(),ze(12,IX,2,0,"span",40)(13,kX,2,0,"span",41)(14,OX,2,0,"span",40),f(),d(15,"h5"),b(16,"Citas pendientes para hoy"),f()()()(),d(17,"div",34)(18,"div",35)(19,"div",36),ke(20,"img",42),f(),d(21,"div",38)(22,"h4")(23,"span",39),b(24),f(),ke(25,"span"),f(),d(26,"h5"),b(27,"Consultas realizadas hoy"),f()()()(),d(28,"div",34)(29,"div",35)(30,"div",36),ke(31,"img",43),f(),d(32,"div",38)(33,"h4")(34,"span",39),b(35),f(),d(36,"span"),b(37),f(),ze(38,RX,2,0,"span",40),f(),d(39,"h5"),b(40,"Intervenciones realizadas hoy"),f()()()()()()),2&e){const t=Re();$(9),Qe(t.numAppointmentsNoCompleted),$(2),qt("/",t.totalAppointmentsToday,""),$(),me("ngIf",t.numAppointmentsNoCompleted<=4&&0!=t.numAppointmentsNoCompleted),$(),me("ngIf",t.numAppointmentsNoCompleted>4),$(),me("ngIf",0==t.numAppointmentsNoCompleted),$(10),Qe(t.numAppointmentsCompleted),$(11),Qe(t.numInterventions),$(2),qt("/",t.totalAppointmentsToday,""),$(),me("ngIf",t.numInterventions>t.totalAppointmentsToday)}}function PX(e,n){if(1&e){const t=Sn();Uc(0),d(1,"div",71)(2,"a",72),ke(3,"i",73),b(4),_n(5,"slice"),d(6,"span"),b(7),f(),d(8,"span",74),b(9,"Ongoing "),ke(10,"i",75),f()(),d(11,"ul",76)(12,"li",77),b(13," Hora"),d(14,"span"),b(15),_n(16,"slice"),_n(17,"slice"),f()(),d(18,"li",77),b(19," Motivo"),d(20,"span"),b(21),f()(),d(22,"li",78)(23,"ul",79)(24,"li")(25,"a",80),Fe("click",function(){Qt(t);const r=Re().$implicit;return Xt(Re(2).deleteAppointment(r.id))}),ke(26,"img",81),f()(),d(27,"li")(28,"a",82),ke(29,"img",83),f()(),d(30,"li")(31,"a",82),ke(32,"img",84),f()()()()()(),jc()}if(2&e){const t=Re().$implicit,i=Re(2);$(4),qt("",hs(5,9,t.fromDate,0,5)," "),$(3),vi("",t.user.name," ",t.user.lastName,""),$(8),Vy("",hs(16,13,t.fromDate,0,5)," - ",hs(17,17,t.toDate,0,5)," (",i.timeOn(t),"min) "),$(6),Qe(t.description),$(7),Tn("routerLink","/profile/",t.user.id,""),$(3),Tn("routerLink","/edit-appointment/",t.id,"")}}const FX=e=>({"stick-line":e});function LX(e,n){if(1&e&&(d(0,"li",69),ke(1,"i",70),b(2),_n(3,"slice"),d(4,"span"),b(5),f(),ze(6,PX,33,21,"ng-container",15),f()),2&e){const t=n.$implicit,i=Re(2);me("ngClass",zr(9,FX,t.completed)),$(2),qt("",hs(3,5,t.fromDate,0,5)," "),$(3),vi("",t.user.name," ",t.user.lastName,""),$(),me("ngIf",i.isCurrentAppointment(t))}}function BX(e,n){if(1&e&&(d(0,"div")(1,"div",3)(2,"div",46)(3,"div",47)(4,"div",48)(5,"div",49)(6,"div",50)(7,"b"),ke(8,"img",51),f()()(),d(9,"div",52)(10,"p"),b(11,"Next Appointment in"),f(),d(12,"h4"),b(13,"02h:12m"),f()()(),d(14,"div",53)(15,"div",54)(16,"h5"),b(17,"Nuevos pacientes"),f(),d(18,"h3"),b(19),d(20,"span",44),ke(21,"img",55),b(22),f()()()(),d(23,"div",53)(24,"div",54)(25,"h5"),b(26,"Pacientes"),f(),d(27,"h3"),b(28),d(29,"span",45),ke(30,"img",56),b(31,"-20%"),f()()()()()(),d(32,"div",57)(33,"div",58)(34,"div",59)(35,"h4",60),b(36,"Pr\xf3ximas citas"),f(),d(37,"a",61),b(38,"Ver todas"),f()(),d(39,"div",54)(40,"div",62)(41,"ul",63)(42,"li"),b(43,"08:00"),f(),d(44,"li"),b(45,"10:00"),f(),d(46,"li"),b(47,"12:00"),f(),d(48,"li"),b(49,"14:00"),f(),d(50,"li"),b(51,"16:00"),f(),d(52,"li"),b(53,"18:00"),f(),d(54,"li"),b(55,"20:00"),f()(),d(56,"ul",64)(57,"li",65)(58,"div",66)(59,"ul",67),ze(60,LX,7,11,"li",68),f()()()()()()()()()()),2&e){const t=Re();$(19),Qe(t.newPatients),$(3),qt("",t.incrementRate,"%"),$(6),Qe(t.numPatientsTotal),$(32),me("ngForOf",t.appointmentsToday)}}function VX(e,n){if(1&e&&(d(0,"div")(1,"h2",94)(2,"button",95),b(3),f()(),d(4,"div",96)(5,"div",97)(6,"span")(7,"strong"),b(8,"Fecha de intervenci\xf3n: "),f()(),b(9),_n(10,"date"),ke(11,"br"),d(12,"span")(13,"strong"),b(14,"Documento: "),f()(),d(15,"a",82),b(16,"Archivo adjunto"),f()()()()),2&e){const t=Re().$implicit;$(3),qt(" ",t.type," "),$(6),Qe(Di(10,3,t.interventionDate,"dd/MM/YYYY")),$(6),Tn("routerLink","/documents/",t.id,"")}}function UX(e,n){1&e&&(d(0,"div")(1,"p"),b(2," No tiene intervenciones "),f()())}function jX(e,n){if(1&e&&(d(0,"div",93),ze(1,VX,17,6,"div",15)(2,UX,3,0,"div",15),f()),2&e){const t=Re(2);$(),me("ngIf",0!=t.interventionsUser.length),$(),me("ngIf",0==t.interventionsUser.length)}}function HX(e,n){1&e&&(d(0,"span"),b(1,"S\xed"),f())}function GX(e,n){1&e&&(d(0,"span"),b(1,"No"),f())}function $X(e,n){if(1&e&&(d(0,"div",93)(1,"h2",94)(2,"button",98),b(3),f()(),d(4,"div",99)(5,"div",97)(6,"span")(7,"strong"),b(8,"Fecha: "),f()(),b(9),_n(10,"date"),ke(11,"br"),d(12,"span")(13,"strong"),b(14,"Hora: "),f()(),b(15),_n(16,"slice"),ke(17,"br"),d(18,"span")(19,"strong"),b(20,"Nota adicional: "),f()(),b(21),ke(22,"br"),d(23,"span")(24,"strong"),b(25,"Realizada: "),f()(),ze(26,HX,2,0,"span",15)(27,GX,2,0,"span",15),f()()()),2&e){const t=n.$implicit;$(3),qt(" ",t.description," "),$(6),Qe(Di(10,6,t.bookDate,"dd/MM/YYYY")),$(6),Qe(hs(16,9,t.fromDate,0,5)),$(6),Qe(t.additionalNote),$(5),me("ngIf",t.completed),$(),me("ngIf",!t.completed)}}const WX=e=>({itemsPerPage:2,currentPage:e});function zX(e,n){if(1&e){const t=Sn();d(0,"div")(1,"div",3)(2,"div",85)(3,"a",86),b(4,"Pedir cita "),f()(),ke(5,"br")(6,"br"),d(7,"div",85)(8,"a",86),b(9,"Cambiar cita "),f()()(),d(10,"div",3)(11,"div",87)(12,"h2",88),b(13," Intervenciones "),f(),d(14,"div",89),ze(15,jX,3,2,"div",90),_n(16,"paginate"),d(17,"pagination-controls",91),Fe("pageChange",function(r){return Qt(t),Xt(Re().page=r)}),f()(),ke(18,"br"),f(),d(19,"div",87)(20,"h2",88),b(21," Citas "),f(),d(22,"div",92),ze(23,$X,28,13,"div",90),f(),ke(24,"br"),f(),ke(25,"br")(26,"br")(27,"br"),f()()}if(2&e){const t=Re();$(3),Tn("routerLink","/add-appointment/",t.authService.currentUser().id,""),$(5),Tn("routerLink","/appointment-list/",t.authService.currentUser().id,""),$(7),me("ngForOf",Di(16,4,t.interventionsUser,zr(7,WX,t.page))),$(8),me("ngForOf",t.appointmentsUser)}}let qX=(()=>{class e{constructor(t,i,r,s,o){this.userService=t,this.authService=i,this.appointmentService=r,this.interventionService=s,this.utilService=o,this.isAdmin=!1,this.appointmentsUser=[],this.appointmentsToday=[],this.interventionsUser=[],this.numAppointmentsNoCompleted=0,this.numAppointmentsCompleted=0,this.totalAppointmentsToday=0,this.numInterventions=0,this.appointmentsComYest=0,this.numPatientsYesterday=0,this.numPatientsTotal=0,this.newPatients=0,this.incrementRate=0,this.differenceTime="",this.today=new Date}ngOnInit(){this.userService.getMe().subscribe(t=>{this.currentUser=t,this.loadInterventionsUser(this.currentUser.id),this.loadAppointmentsUser(this.currentUser.id)}),this.isAdmin=this.authService.isAdmin(),this.loadAppointment(),this.loadInterventions(),this.utilService.getAppointmentsCompletedYesterday().subscribe(t=>{this.appointmentsComYest=t}),this.utilService.getnumPatientsYesterday().subscribe(t=>{this.numPatientsYesterday=t}),this.utilService.getnumPatientsTotal().subscribe(t=>{this.numPatientsTotal=t,this.newPatients=this.loadRate(this.numPatientsTotal,this.numPatientsYesterday)})}loadAppointmentsUser(t){this.appointmentService.getAllAppointmentsByUser(t).subscribe(i=>this.appointmentsUser=i)}loadInterventionsUser(t){this.interventionService.getUserInterventions(t).subscribe(i=>this.interventionsUser=i)}deleteAppointment(t){this.appointmentService.deleteAppointment(t).subscribe(),this.ngOnInit(),console.log("Cita eliminada"),this.ngOnInit()}loadRate(t,i){return t-i}loadAppointment(){this.appointmentService.getAllAppointments().subscribe(t=>{this.numAppointmentsNoCompleted=this.countAppointmentsNoCompleted(t,this.today),this.numAppointmentsCompleted=this.countAppointmentsCompleted(t,this.today),this.totalAppointmentsToday=t.filter(i=>this.isSameDate(new Date(i.bookDate),this.today)).length,this.appointmentsToday=t.filter(i=>this.isSameDate(new Date(i.bookDate),this.today))},t=>{console.error("Error al cargar los appointments:",t)})}loadInterventions(){this.interventionService.getAllInterventions().subscribe(t=>{this.numInterventions=t.filter(i=>this.isSameDate(new Date(i.interventionDate),this.today)).length},t=>{console.error("Error al cargar los interventions:",t)})}countAppointmentsNoCompleted(t,i){return t.filter(r=>!r.completed&&this.isSameDate(new Date(r.bookDate),i)).length}countAppointmentsCompleted(t,i){return t.filter(r=>r.completed&&this.isSameDate(new Date(r.bookDate),i)).length}isCurrentAppointment(t){const i=t.fromDate.split(":");if(3!==i.length)return!1;const r=parseInt(i[0]),s=parseInt(i[1]),o=new Date;o.setHours(r,s,0,0);const a=new Date(o);a.setMinutes(o.getMinutes()-10);const l=new Date(o);return l.setMinutes(o.getMinutes()+5),this.today>=a&&this.today<=l}isSameDate(t,i){return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()&&t.getDate()===i.getDate()}timeOn(t){const i=t.fromDate.split(":"),r=t.toDate.split(":"),s=new Date;s.setHours(parseInt(i[0],10)),s.setMinutes(parseInt(i[1],10));const o=new Date;o.setHours(parseInt(r[0],10)),o.setMinutes(parseInt(r[1],10));const a=o.getTime()-s.getTime();return Math.floor(a/36e5),Math.floor(a%36e5/6e4).toString()}static#e=this.\u0275fac=function(i){return new(i||e)(X(qi),X(bs),X(jo),X(wl),X(Hh))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-dashboards"]],decls:212,vars:5,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"good-morning-blk"],[1,"col-md-6"],["class","morning-user",4,"ngIf"],[1,"col-md-6","position-blk"],[1,"morning-img"],["src","assets/img/morning-img-02.png","alt",""],["class","doctor-list-blk",4,"ngIf"],[4,"ngIf"],[1,"notification-box"],[1,"msg-sidebar","notifications","msg-noti"],[1,"topnav-dropdown-header"],["id","msg_list",1,"drop-scroll","msg-list-scroll"],[1,"list-box"],["href","chat.html"],[1,"list-item"],[1,"list-left"],[1,"avatar"],[1,"list-body"],[1,"message-author"],[1,"message-time"],[1,"clearfix"],[1,"message-content"],[1,"list-item","new-message"],[1,"topnav-dropdown-footer"],[1,"morning-user"],[1,"doctor-list-blk"],[1,"col-xl-4","col-md-6"],[1,"doctor-widget","border-right-bg"],[1,"doctor-box-icon","flex-shrink-0"],["src","assets/img/icons/doctor-dash-01.svg","alt",""],[1,"doctor-content","dash-count","flex-grow-1"],[1,"counter-up"],["class","status-green",4,"ngIf"],["class","status-pink",4,"ngIf"],["src","assets/img/icons/doctor-dash-02.svg","alt",""],["src","assets/img/icons/doctor-dash-03.svg","alt",""],[1,"status-green"],[1,"status-pink"],[1,"col-12","col-md-12","col-lg-6","col-xl-2","d-flex"],[1,"struct-point"],[1,"card","wallet-widget"],[1,"circle-bar","circle-bar2"],["data-percent","66",1,"circle-graph2"],["src","assets/img/icons/timer.svg","alt",""],[1,"main-limit"],[1,"card","patient-structure"],[1,"card-body"],["src","assets/img/icons/sort-icon-01.svg","alt","",1,"me-1"],["src","assets/img/icons/sort-icon-02.svg","alt","",1,"me-1"],[1,"col-12","col-md-12","col-lg-6","col-xl-10","d-flex"],[1,"card","flex-fill","comman-shadow"],[1,"card-header"],[1,"card-title","d-inline-block"],["routerLink","/appointment-list",1,"patient-views","float-end"],[1,"teaching-card"],[1,"steps-history"],[1,"activity-feed"],[1,"feed-item","d-flex","align-items-center"],[1,"dolor-activity","hide-activity"],[1,"doctor-date-list","mb-2"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"fas","fa-circle","me-2"],[1,"dropdown","ongoing-blk"],["href","#","data-bs-toggle","dropdown",1,"dropdown-toggle","active-doctor"],[1,"fas","fa-circle","me-2","active-circles"],[1,"ongoing-drapt"],[1,"feather-chevron-down","ms-2"],[1,"doctor-sub-list","dropdown-menu"],[1,"dropdown-item"],[1,"schedule-blk","mb-0","pt-2","dropdown-item"],[1,"nav","schedule-time"],[3,"click"],["src","assets/img/icons/trash.svg","alt",""],[3,"routerLink"],["src","assets/img/icons/profile.svg","alt",""],["src","assets/img/icons/edit.svg","alt",""],[1,"col-12","col-xl-6","col-xs-12"],["type","button",1,"btn","btn-block","btn-atractivo",3,"routerLink"],[1,"col-12","col-xl-6","col-md-12"],[1,"title"],["id","accordionExample",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","accordionExampleTwo",1,"accordion"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","contenido"],["id","collapseOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button"],["id","collapseTwo","data-bs-parent","#accordionExampleTwo",1,"accordion-collapse","collapse"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Inicio "),f()()()()()(),d(9,"div",8)(10,"div",3)(11,"div",9),ze(12,DX,3,2,"div",10)(13,MX,5,2,"div",10),f(),d(14,"div",11)(15,"div",12),ke(16,"img",13),f()()()(),ze(17,NX,41,9,"div",14)(18,BX,61,4,"div",15)(19,zX,28,9,"div",15),d(20,"div",16)(21,"div",17)(22,"div",18)(23,"span"),b(24,"Messages"),f()(),d(25,"div",19)(26,"ul",20)(27,"li")(28,"a",21)(29,"div",22)(30,"div",23)(31,"span",24),b(32,"R"),f()(),d(33,"div",25)(34,"span",26),b(35,"Richard Miles "),f(),d(36,"span",27),b(37,"12:28 AM"),f(),ke(38,"div",28),d(39,"span",29),b(40,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(41,"li")(42,"a",21)(43,"div",30)(44,"div",23)(45,"span",24),b(46,"J"),f()(),d(47,"div",25)(48,"span",26),b(49,"John Doe"),f(),d(50,"span",27),b(51,"1 Aug"),f(),ke(52,"div",28),d(53,"span",29),b(54,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(55,"li")(56,"a",21)(57,"div",22)(58,"div",23)(59,"span",24),b(60,"T"),f()(),d(61,"div",25)(62,"span",26),b(63," Tarah Shropshire "),f(),d(64,"span",27),b(65,"12:28 AM"),f(),ke(66,"div",28),d(67,"span",29),b(68,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(69,"li")(70,"a",21)(71,"div",22)(72,"div",23)(73,"span",24),b(74,"M"),f()(),d(75,"div",25)(76,"span",26),b(77,"Mike Litorus"),f(),d(78,"span",27),b(79,"12:28 AM"),f(),ke(80,"div",28),d(81,"span",29),b(82,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(83,"li")(84,"a",21)(85,"div",22)(86,"div",23)(87,"span",24),b(88,"C"),f()(),d(89,"div",25)(90,"span",26),b(91," Catherine Manseau "),f(),d(92,"span",27),b(93,"12:28 AM"),f(),ke(94,"div",28),d(95,"span",29),b(96,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(97,"li")(98,"a",21)(99,"div",22)(100,"div",23)(101,"span",24),b(102,"D"),f()(),d(103,"div",25)(104,"span",26),b(105," Domenic Houston "),f(),d(106,"span",27),b(107,"12:28 AM"),f(),ke(108,"div",28),d(109,"span",29),b(110,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(111,"li")(112,"a",21)(113,"div",22)(114,"div",23)(115,"span",24),b(116,"B"),f()(),d(117,"div",25)(118,"span",26),b(119," Buster Wigton "),f(),d(120,"span",27),b(121,"12:28 AM"),f(),ke(122,"div",28),d(123,"span",29),b(124,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(125,"li")(126,"a",21)(127,"div",22)(128,"div",23)(129,"span",24),b(130,"R"),f()(),d(131,"div",25)(132,"span",26),b(133," Rolland Webber "),f(),d(134,"span",27),b(135,"12:28 AM"),f(),ke(136,"div",28),d(137,"span",29),b(138,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(139,"li")(140,"a",21)(141,"div",22)(142,"div",23)(143,"span",24),b(144,"C"),f()(),d(145,"div",25)(146,"span",26),b(147," Claire Mapes "),f(),d(148,"span",27),b(149,"12:28 AM"),f(),ke(150,"div",28),d(151,"span",29),b(152,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(153,"li")(154,"a",21)(155,"div",22)(156,"div",23)(157,"span",24),b(158,"M"),f()(),d(159,"div",25)(160,"span",26),b(161,"Melita Faucher"),f(),d(162,"span",27),b(163,"12:28 AM"),f(),ke(164,"div",28),d(165,"span",29),b(166,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(167,"li")(168,"a",21)(169,"div",22)(170,"div",23)(171,"span",24),b(172,"J"),f()(),d(173,"div",25)(174,"span",26),b(175,"Jeffery Lalor"),f(),d(176,"span",27),b(177,"12:28 AM"),f(),ke(178,"div",28),d(179,"span",29),b(180,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(181,"li")(182,"a",21)(183,"div",22)(184,"div",23)(185,"span",24),b(186,"L"),f()(),d(187,"div",25)(188,"span",26),b(189,"Loren Gatlin"),f(),d(190,"span",27),b(191,"12:28 AM"),f(),ke(192,"div",28),d(193,"span",29),b(194,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()(),d(195,"li")(196,"a",21)(197,"div",22)(198,"div",23)(199,"span",24),b(200,"T"),f()(),d(201,"div",25)(202,"span",26),b(203,"Tarah Shropshire"),f(),d(204,"span",27),b(205,"12:28 AM"),f(),ke(206,"div",28),d(207,"span",29),b(208,"Lorem ipsum dolor sit amet, consectetur adipiscing"),f()()()()()()(),d(209,"div",31)(210,"a",21),b(211,"See all messages"),f()()()()()()),2&i&&($(12),me("ngIf",r.authService.isAdmin()||r.authService.isDoctor()),$(),me("ngIf",!r.authService.isAdmin()&&!r.authService.isDoctor()),$(4),me("ngIf",r.authService.isAdmin()||r.authService.isDoctor()),$(),me("ngIf",r.authService.isAdmin()||r.authService.isDoctor()),$(),me("ngIf",!r.authService.isAdmin()&&!r.authService.isDoctor()))},dependencies:[Ag,$i,jn,hi,cN,Sd,Qc,il,Dd],styles:["h2[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#333;font-size:1.5em;font-weight:700;margin-bottom:10px;text-align:center;text-transform:uppercase;letter-spacing:2px}.title[_ngcontent-%COMP%]{border:2px solid #3498db;border-radius:8px;padding:10px;display:block;margin-top:20px}.btn-atractivo[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:2px;border-radius:5px;padding:10px 20px;font-size:16px;height:50px;font-weight:700;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;margin-top:10px}.btn-atractivo[_ngcontent-%COMP%]:hover{background-color:#1d6fa5}"]})}return e})();function Om(e){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function mr(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function mo(e){mr(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===Om(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function xl(e){if(null===e||!0===e||!1===e)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function Rm(e){mr(1,arguments);var t=mo(e),i=t.getUTCDay(),r=(i<1?7:0)+i-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function mN(e){mr(1,arguments);var n=mo(e),t=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(t+1,0,4),i.setUTCHours(0,0,0,0);var r=Rm(i),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var o=Rm(s);return n.getTime()>=r.getTime()?t+1:n.getTime()>=o.getTime()?t:t-1}var _N={};function Nm(){return _N}function Pm(e,n){var t,i,r,s,o,a,l,c;mr(1,arguments);var u=Nm(),m=xl(null!==(t=null!==(i=null!==(r=null!==(s=n?.weekStartsOn)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==r?r:u.weekStartsOn)&&void 0!==i?i:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==t?t:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var F=mo(e),K=F.getUTCDay(),le=(K<m?7:0)+K-m;return F.setUTCDate(F.getUTCDate()-le),F.setUTCHours(0,0,0,0),F}function vN(e,n){var t,i,r,s,o,a,l,c;mr(1,arguments);var u=mo(e),m=u.getUTCFullYear(),F=Nm(),K=xl(null!==(t=null!==(i=null!==(r=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:F.firstWeekContainsDate)&&void 0!==i?i:null===(l=F.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==t?t:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var le=new Date(0);le.setUTCFullYear(m+1,0,K),le.setUTCHours(0,0,0,0);var ge=Pm(le,n),ye=new Date(0);ye.setUTCFullYear(m,0,K),ye.setUTCHours(0,0,0,0);var Ae=Pm(ye,n);return u.getTime()>=ge.getTime()?m+1:u.getTime()>=Ae.getTime()?m:m-1}function In(e,n){for(var t=e<0?"-":"",i=Math.abs(e).toString();i.length<n;)i="0"+i;return t+i}const Da_y=function(n,t){var i=n.getUTCFullYear(),r=i>0?i:1-i;return In("yy"===t?r%100:r,t.length)},Da_M=function(n,t){var i=n.getUTCMonth();return"M"===t?String(i+1):In(i+1,2)},Da_d=function(n,t){return In(n.getUTCDate(),t.length)},Da_h=function(n,t){return In(n.getUTCHours()%12||12,t.length)},Da_H=function(n,t){return In(n.getUTCHours(),t.length)},Da_m=function(n,t){return In(n.getUTCMinutes(),t.length)},Da_s=function(n,t){return In(n.getUTCSeconds(),t.length)},Da_S=function(n,t){var i=t.length,r=n.getUTCMilliseconds();return In(Math.floor(r*Math.pow(10,i-3)),t.length)};function yN(e,n){var t=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),s=i%60;if(0===s)return t+String(r);var o=n||"";return t+String(r)+o+In(s,2)}function bN(e,n){return e%60==0?(e>0?"-":"+")+In(Math.abs(e)/60,2):El(e,n)}function El(e,n){var t=n||"",i=e>0?"-":"+",r=Math.abs(e);return i+In(Math.floor(r/60),2)+t+In(r%60,2)}const lZ={G:function(n,t,i){var r=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(n,t,i){if("yo"===t){var r=n.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return Da_y(n,t)},Y:function(n,t,i,r){var s=vN(n,r),o=s>0?s:1-s;return"YY"===t?In(o%100,2):"Yo"===t?i.ordinalNumber(o,{unit:"year"}):In(o,t.length)},R:function(n,t){return In(mN(n),t.length)},u:function(n,t){return In(n.getUTCFullYear(),t.length)},Q:function(n,t,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return In(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return In(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,i){var r=n.getUTCMonth();switch(t){case"M":case"MM":return Da_M(n,t);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,i){var r=n.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return In(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,i,r){var s=function sZ(e,n){mr(1,arguments);var t=mo(e),i=Pm(t,n).getTime()-function iZ(e,n){var t,i,r,s,o,a,l,c;mr(1,arguments);var u=Nm(),m=xl(null!==(t=null!==(i=null!==(r=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:u.firstWeekContainsDate)&&void 0!==i?i:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==t?t:1),F=vN(e,n),K=new Date(0);return K.setUTCFullYear(F,0,m),K.setUTCHours(0,0,0,0),Pm(K,n)}(t,n).getTime();return Math.round(i/6048e5)+1}(n,r);return"wo"===t?i.ordinalNumber(s,{unit:"week"}):In(s,t.length)},I:function(n,t,i){var r=function nZ(e){mr(1,arguments);var n=mo(e),t=Rm(n).getTime()-function eZ(e){mr(1,arguments);var n=mN(e),t=new Date(0);return t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0),Rm(t)}(n).getTime();return Math.round(t/6048e5)+1}(n);return"Io"===t?i.ordinalNumber(r,{unit:"week"}):In(r,t.length)},d:function(n,t,i){return"do"===t?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):Da_d(n,t)},D:function(n,t,i){var r=function JX(e){mr(1,arguments);var n=mo(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime();return Math.floor((t-i)/864e5)+1}(n);return"Do"===t?i.ordinalNumber(r,{unit:"dayOfYear"}):In(r,t.length)},E:function(n,t,i){var r=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,i,r){var s=n.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return In(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(n,t,i,r){var s=n.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return In(o,t.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(n,t,i){var r=n.getUTCDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return In(s,t.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,i){var s=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,t,i){var s,r=n.getUTCHours();switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,t,i){var s,r=n.getUTCHours();switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,t,i){if("ho"===t){var r=n.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return Da_h(n,t)},H:function(n,t,i){return"Ho"===t?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Da_H(n,t)},K:function(n,t,i){var r=n.getUTCHours()%12;return"Ko"===t?i.ordinalNumber(r,{unit:"hour"}):In(r,t.length)},k:function(n,t,i){var r=n.getUTCHours();return 0===r&&(r=24),"ko"===t?i.ordinalNumber(r,{unit:"hour"}):In(r,t.length)},m:function(n,t,i){return"mo"===t?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Da_m(n,t)},s:function(n,t,i){return"so"===t?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Da_s(n,t)},S:function(n,t){return Da_S(n,t)},X:function(n,t,i,r){var o=(r._originalDate||n).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return bN(o);case"XXXX":case"XX":return El(o);default:return El(o,":")}},x:function(n,t,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(t){case"x":return bN(o);case"xxxx":case"xx":return El(o);default:return El(o,":")}},O:function(n,t,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yN(o,":");default:return"GMT"+El(o,":")}},z:function(n,t,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yN(o,":");default:return"GMT"+El(o,":")}},t:function(n,t,i,r){return In(Math.floor((r._originalDate||n).getTime()/1e3),t.length)},T:function(n,t,i,r){return In((r._originalDate||n).getTime(),t.length)}};var wN=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},CN=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const uZ={p:CN,P:function(n,t){var o,i=n.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return wN(n,t);switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",wN(r,t)).replace("{{time}}",CN(s,t))}};var fZ=["D","DD"],pZ=["YY","YYYY"];function xN(e,n,t){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _Z={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Pw(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}var xZ={date:Pw({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Pw({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Pw({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},AZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Wh(e){return function(n,t){var r;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=null!=t&&t.width?String(t.width):s;r=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,l=null!=t&&t.width?String(t.width):e.defaultWidth;r=e.values[l]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(n):n]}}function zh(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,s=n.match(i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth]);if(!s)return null;var c,o=s[0],a=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function BZ(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}(a,function(m){return m.test(o)}):function LZ(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}(a,function(m){return m.test(o)});return c=e.valueCallback?e.valueCallback(l):l,{value:c=t.valueCallback?t.valueCallback(c):c,rest:n.slice(o.length)}}}const eJ={code:"en-US",formatDistance:function(n,t,i){var r,s=_Z[n];return r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:xZ,formatRelative:function(n,t,i,r){return AZ[n]},localize:{ordinalNumber:function(n,t){var i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:Wh({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Wh({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Wh({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Wh({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Wh({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function VZ(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(e.matchPattern);if(!i)return null;var r=i[0],s=n.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:n.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:zh({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:zh({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:zh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:zh({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:zh({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var tJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iJ=/^'([^]*?)'?$/,rJ=/''/g,sJ=/[a-zA-Z]/;function qh(e,n,t){var i,r,s,o,a,l,c,u,m,F,K,le,ge,ye,Ae,Ee,We,Ye;mr(2,arguments);var Je=String(n),rt=Nm(),mt=null!==(i=null!==(r=t?.locale)&&void 0!==r?r:rt.locale)&&void 0!==i?i:eJ,St=xl(null!==(s=null!==(o=null!==(a=null!==(l=t?.firstWeekContainsDate)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:rt.firstWeekContainsDate)&&void 0!==o?o:null===(m=rt.locale)||void 0===m||null===(F=m.options)||void 0===F?void 0:F.firstWeekContainsDate)&&void 0!==s?s:1);if(!(St>=1&&St<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var vn=xl(null!==(K=null!==(le=null!==(ge=null!==(ye=t?.weekStartsOn)&&void 0!==ye?ye:null==t||null===(Ae=t.locale)||void 0===Ae||null===(Ee=Ae.options)||void 0===Ee?void 0:Ee.weekStartsOn)&&void 0!==ge?ge:rt.weekStartsOn)&&void 0!==le?le:null===(We=rt.locale)||void 0===We||null===(Ye=We.options)||void 0===Ye?void 0:Ye.weekStartsOn)&&void 0!==K?K:0);if(!(vn>=0&&vn<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!mt.localize)throw new RangeError("locale must contain localize property");if(!mt.formatLong)throw new RangeError("locale must contain formatLong property");var Cn=mo(e);if(!function KX(e){if(mr(1,arguments),!function YX(e){return mr(1,arguments),e instanceof Date||"object"===Om(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var n=mo(e);return!isNaN(Number(n))}(Cn))throw new RangeError("Invalid time value");var bi=function hZ(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}(Cn),wi=function XX(e,n){return mr(2,arguments),function QX(e,n){mr(2,arguments);var t=mo(e).getTime(),i=xl(n);return new Date(t+i)}(e,-xl(n))}(Cn,bi),Ci={firstWeekContainsDate:St,weekStartsOn:vn,locale:mt,_originalDate:Cn},As=Je.match(nJ).map(function(Qn){var tt=Qn[0];return"p"===tt||"P"===tt?(0,uZ[tt])(Qn,mt.formatLong):Qn}).join("").match(tJ).map(function(Qn){if("''"===Qn)return"'";var tt=Qn[0];if("'"===tt)return function oJ(e){var n=e.match(iJ);return n?n[1].replace(rJ,"'"):e}(Qn);var at=lZ[tt];if(at)return!(null!=t&&t.useAdditionalWeekYearTokens)&&function mZ(e){return-1!==pZ.indexOf(e)}(Qn)&&xN(Qn,n,String(e)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&function gZ(e){return-1!==fZ.indexOf(e)}(Qn)&&xN(Qn,n,String(e)),at(wi,Qn,mt.localize,Ci);if(tt.match(sJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+tt+"`");return Qn}).join("");return As}const Yh="/api/documents/";let Fw=(()=>{class e{constructor(t){this.httpClient=t}downloadDocument(t){return this.httpClient.get(Yh+t,{responseType:"blob"})}getAllDocumentsByUserId(t){return this.httpClient.get(Yh+"all/"+t)}deleteDocument(t){return this.httpClient.delete(Yh+"delete/"+t.id).subscribe()}getInterventionByDocumentId(t){return this.httpClient.get(Yh+t+"/intervention")}updateDocument(t,i,r){return this.httpClient.put(Yh+"upload/"+t+"/user="+i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aJ(e,n){if(1&e&&(d(0,"span",62),b(1),f()),2&e){const t=Re(2);$(),vi("",t.doctorAsignated.name," ",t.doctorAsignated.lastName,"")}}function lJ(e,n){1&e&&(d(0,"span",62),b(1,"No tiene doctor asignado"),f())}function cJ(e,n){if(1&e&&(d(0,"div",50)(1,"div",51)(2,"div",52)(3,"a",53),ke(4,"img",54),f()()(),d(5,"div",55)(6,"div",2)(7,"div",56)(8,"div",57)(9,"h3",58),b(10),f(),d(11,"div"),b(12),f()()(),d(13,"div",59)(14,"ul",60)(15,"li")(16,"span",61),b(17,"Tel\xe9fono:"),f(),d(18,"span",62),b(19),f()(),d(20,"li")(21,"span",61),b(22,"Correo electr\xf3nico:"),f(),d(23,"span",62),b(24),f()(),d(25,"li")(26,"span",61),b(27,"Fecha de nacimiento:"),f(),d(28,"span",62),b(29),f()(),d(30,"li")(31,"span",61),b(32,"Direcci\xf3n:"),f(),d(33,"span",62),b(34),f()(),d(35,"li")(36,"span",61),b(37,"G\xe9nero:"),f(),d(38,"span",62),b(39),f()(),d(40,"li")(41,"span",61),b(42,"Doctor asignado:"),f(),ze(43,aJ,2,2,"span",63)(44,lJ,2,0,"span",63),f()()()()()()),2&e){const t=Re();$(4),me("src",t.profileAvatarUrls,os),$(6),vi("",t.user.name," ",t.user.lastName,""),$(2),qt("DNI: ",t.user.username,""),$(7),Qe(t.user.phone),$(5),Qe(t.user.email),$(5),Qe(t.user.birth),$(5),la("",t.user.address,", ",t.user.city,", ",t.user.postalCode,", ",t.user.country,""),$(5),Qe(t.user.gender),$(4),me("ngIf",null!=t.doctorAsignated),$(),me("ngIf",null==t.doctorAsignated)}}function dJ(e,n){if(1&e&&(d(0,"div",50)(1,"div",64)(2,"div",52)(3,"a",53),ke(4,"img",54),f()()(),d(5,"div",55)(6,"div",2)(7,"div",56)(8,"div",57)(9,"h3",58),b(10),f(),d(11,"div"),b(12),f()()(),d(13,"div",59)(14,"ul",60)(15,"li")(16,"span",61),b(17,"Correo electr\xf3nico:"),f(),d(18,"span",62),b(19),f()()()()()()()),2&e){const t=Re();$(4),me("src",t.profileAvatarUrls,os),$(6),vi("",t.user.name," ",t.user.lastName,""),$(2),qt("DNI: ",t.user.username,""),$(7),Qe(t.user.email)}}function uJ(e,n){if(1&e&&(d(0,"div")(1,"p"),b(2),f()()),2&e){const t=Re();$(2),vi("",t.user.name," ",t.user.lastName," no ha tenido intervenciones")}}function hJ(e,n){if(1&e){const t=Sn();d(0,"div",65)(1,"ul",66)(2,"li")(3,"div",67),ke(4,"div",68),f(),d(5,"div",69)(6,"div",70)(7,"div",71)(8,"a",72),ke(9,"i",73),f(),d(10,"div",74)(11,"a",75),ke(12,"i",76),b(13," Editar intervenci\xf3n"),f(),d(14,"a",77),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().deleteIntervention(s))}),ke(15,"i",78),b(16," Eliminar intervenci\xf3n"),f()()(),d(17,"a",79),b(18),f(),d(19,"span",80),b(20),_n(21,"date"),f()()()()()()}if(2&e){const t=n.$implicit,i=Re();$(11),Ry("routerLink","/user/",i.user.id,"/edit-intervention/",t.id,""),$(6),Tn("routerLink","/documents/",t.id,""),$(),Qe(t.appointment.description),$(2),Qe(Di(21,5,t.interventionDate,"dd-MM-yyyy"))}}function fJ(e,n){if(1&e&&(d(0,"div")(1,"p"),b(2),f()()),2&e){const t=Re();$(2),vi("",t.user.name," ",t.user.lastName," no tiene documentos")}}function pJ(e,n){if(1&e){const t=Sn();d(0,"div",65)(1,"ul",66)(2,"li")(3,"div",67),ke(4,"div",81),f(),d(5,"div",69)(6,"div",70)(7,"div",71)(8,"a",72),ke(9,"i",73),f(),d(10,"div",74)(11,"a",82),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().showChangeDocumentModalById(null==s?null:s.id))}),ke(12,"i",76),b(13," Cambiar documento "),f(),d(14,"a",77),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().deleteDocument(s))}),ke(15,"i",78),b(16," Eliminar documento"),f()()(),d(17,"span",83),b(18),f(),d(19,"a",84),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().download(s.id))}),b(20),f(),d(21,"span",80),b(22),_n(23,"date"),f()()()()()()}if(2&e){const t=n.$implicit;$(18),qt("",t.intervention.appointment.description," - "),$(2),Qe(t.fileName),$(2),Qe(Di(23,3,t.creationDate,"dd-MM-yyyy"))}}function gJ(e,n){if(1&e&&(d(0,"div")(1,"p"),b(2),f()()),2&e){const t=Re();$(2),vi("",t.user.name," ",t.user.lastName," no tiene historial de citas")}}function mJ(e,n){1&e&&(d(0,"span"),b(1,"REALIZADA "),f())}function _J(e,n){1&e&&ke(0,"img",89)}function vJ(e,n){1&e&&(d(0,"span",90),b(1,"NO REALIZADA "),f())}function yJ(e,n){1&e&&ke(0,"img",91)}function bJ(e,n){if(1&e){const t=Sn();d(0,"div",65)(1,"ul",66)(2,"li")(3,"div",67),ke(4,"div",81),f(),d(5,"div",69)(6,"div",70)(7,"div",71)(8,"a",72),ke(9,"i",73),f(),d(10,"div",74)(11,"a",75),ke(12,"i",76),b(13," Cambiar cita "),f(),d(14,"a",77),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().deleteAppointment(s))}),ke(15,"i",78),b(16," Eliminar cita"),f(),d(17,"a",77),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().completeAppointment(s,s.completed))}),ke(18,"img",85),b(19," Cambiar estado"),f()()(),d(20,"span",83),b(21),f(),ze(22,mJ,2,0,"span",28)(23,_J,1,0,"img",86)(24,vJ,2,0,"span",87)(25,yJ,1,0,"img",88),d(26,"span",80),b(27),_n(28,"date"),_n(29,"slice"),f()()()()()()}if(2&e){const t=n.$implicit;$(11),Tn("routerLink","/edit-appointment/",t.id,""),$(10),qt("",t.description," - "),$(),me("ngIf",t.completed),$(),me("ngIf",t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(2),vi("",Di(28,8,t.bookDate,"dd/MM/yyyy")," - ",hs(29,11,t.fromDate,0,5),"")}}function wJ(e,n){if(1&e&&(d(0,"div"),b(1),f()),2&e){const t=Re();$(),Qe(t.selectedFileName)}}const EN=e=>({itemsPerPage:5,currentPage:e});let CJ=(()=>{class e{constructor(t,i,r,s,o,a,l){this.appointmentService=t,this.documentService=i,this.utilService=r,this.authService=s,this.interventionService=o,this.userService=a,this.activatedRoute=l,this.selectedFile=null,this.selectedFileName="",this.isAdmin=!1,this.appointmentsUser=[],this.interventions=[],this.documents=[],this.idUser=this.activatedRoute.snapshot.params.id}showChangeDocumentModalById(t){this.selectedDocumentId=t}ngOnInit(){this.userService.getUser(this.idUser).subscribe(t=>{this.user=t,this.userService.getProfileAvatar(t.id).subscribe(i=>{const r=URL.createObjectURL(i);this.profileAvatarUrls=r}),this.userService.checkAdmin(this.idUser).subscribe(i=>{this.isAdmin=i}),this.interventionService.getUserInterventions(this.idUser).subscribe(i=>{this.interventions=i}),this.documentService.getAllDocumentsByUserId(this.idUser).subscribe(i=>{this.documents=i}),this.appointmentService.getAllAppointmentsByUser(this.idUser).subscribe(i=>this.appointmentsUser=i),this.userService.getDoctorAsignated(this.user.id).subscribe(i=>this.doctorAsignated=i)})}onFileSelected(t){this.selectedFile=t.target.files[0],this.selectedFileName=this.selectedFile?.name||""}completeAppointment(t,i){this.appointmentService.updateAppointment(t.id,!i).subscribe(),this.ngOnInit()}deleteAppointment(t){window.confirm("Esta seguro de eliminar la cita")?(this.appointmentService.deleteAppointment(t.id),console.log("Appointment eliminado"),this.ngOnInit()):console.log("Confirmaci\xf3n de eliminado cancelada"),this.ngOnInit()}deleteIntervention(t){window.confirm("Esta seguro de eliminar la intervenci\xf3n")?(this.interventionService.deleteIntervention(t),console.log("Intervention eliminado"),this.ngOnInit()):console.log("Confirmaci\xf3n de eliminado cancelada"),this.ngOnInit()}exportPDF(){this.utilService.exportInterventionsPDF(this.user.id).subscribe(t=>{const i=new Blob([t],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download="Intervenciones_"+qh(Date.now(),"yyyy-MM-dd")+".pdf",r.click()})}download(t){this.documentService.downloadDocument(t).subscribe(i=>{const r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.target="_blank",r.click()})}deleteDocument(t){window.confirm("Esta seguro de eliminar el documento")?(this.documentService.deleteDocument(t),console.log("Document eliminado"),this.ngOnInit()):console.log("Confirmaci\xf3n de eliminado cancelada"),this.ngOnInit()}submit(){const t=new FormData;this.selectedFile?(t.append("file",this.selectedFile),this.documentService.updateDocument(this.selectedDocumentId,this.idUser,t).subscribe(i=>{window.location.reload()})):window.history.back(),window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||e)(X(jo),X(Fw),X(Hh),X(bs),X(wl),X(qi),X(Ji))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-profile"]],decls:93,vars:23,consts:[[1,"page-wrapper"],[1,"content"],[1,"row"],[1,"col-sm-7","col-6"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],["role","group",1,"col-sm-5","col-6","text-end","m-b-30","btn-group","mb-3"],[1,"btn","btn-outline-primary","btn-rounded","mr-2",3,"routerLink"],[1,"fa","fa-pen-to-square"],[1,"btn","btn-outline-primary","btn-rounded","mr-3",3,"routerLink"],[1,"fa","fa-plus"],[1,"btn","btn-outline-primary","btn-rounded",3,"routerLink"],[1,"card-box","profile-header"],[1,"col-md-12"],["class","profile-view",4,"ngIf"],[1,"profile-tabs"],[1,"nav","nav-tabs","nav-tabs-bottom"],[1,"nav-item"],["href","#historyIntervention","data-bs-toggle","tab",1,"nav-link","active"],["href","#documents","data-bs-toggle","tab",1,"nav-link"],["href","#historyAppointment","data-bs-toggle","tab",1,"nav-link"],[1,"tab-content"],["id","historyIntervention",1,"tab-pane","show","active"],[1,"card-box"],[1,"card-title"],[4,"ngIf"],["class","experience-box",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","documents",1,"tab-pane"],["id","historyAppointment",1,"tab-pane"],[1,"btn","btn-success",2,"position","fixed","bottom","20px","right","20px",3,"click"],["id","ventanaForm","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"login-danger"],[1,"settings-btn","upload-files-avator"],["type","file","name","file","id","file","accept","application/pdf",1,"hide-input",3,"change"],["for","file",1,"upload"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"profile-view"],[1,"profile-img-wrap"],[1,"profile-img"],["href","javascript:void(0);"],["alt","",1,"avatar",3,"src"],[1,"profile-basic"],[1,"col-md-5"],[1,"profile-info-left"],[1,"user-name","m-t-0","mb-0"],[1,"col-md-7"],[1,"personal-info"],[1,"title"],[1,"text"],["class","text",4,"ngIf"],[1,"user-img"],[1,"experience-box"],[1,"experience-list"],[1,"experience-user"],[1,"before-circle","int"],[1,"experience-content"],[1,"timeline-content"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["data-bs-toggle","modal",1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],[3,"routerLink"],[1,"time"],[1,"before-circle","doc"],["data-bs-toggle","modal","data-bs-target","#ventanaForm",1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,""],[2,"cursor","pointer",3,"click"],["src","../../../assets/icons/tick-i.png",2,"width","20px"],["style","width: 25px;","src","../../../../assets/icons/tick.png","alt","Completed",4,"ngIf"],["style","color: red;",4,"ngIf"],["style","width: 25px;","src","../../../../assets/icons/reloj-de-arena.png","alt","not Completed",4,"ngIf"],["src","../../../../assets/icons/tick.png","alt","Completed",2,"width","25px"],[2,"color","red"],["src","../../../../assets/icons/reloj-de-arena.png","alt","not Completed",2,"width","25px"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),b(7,"Inicio "),f()(),d(8,"li",5),ke(9,"i",7),f(),d(10,"li",8),b(11),f()()(),d(12,"div",9)(13,"a",10),ke(14,"i",11),b(15," Editar perfil"),f(),d(16,"a",12),ke(17,"i",13),b(18," Dar cita"),f(),d(19,"a",14),ke(20,"i",13),b(21," A\xf1adir intervenci\xf3n"),f()()(),d(22,"div",15)(23,"div",2)(24,"div",16),ze(25,cJ,45,14,"div",17)(26,dJ,20,5,"div",17),f()()(),d(27,"div",18)(28,"ul",19)(29,"li",20)(30,"a",21),b(31,"Historial m\xe9dico"),f()(),d(32,"li",20)(33,"a",22),b(34,"Documentos"),f()(),d(35,"li",20)(36,"a",23),b(37,"Historial de citas"),f()()(),d(38,"div",24)(39,"div",25)(40,"div",2)(41,"div",16)(42,"div",26)(43,"h3",27),b(44,"Registro de intervenciones"),f(),ze(45,uJ,3,2,"div",28)(46,hJ,22,8,"div",29),_n(47,"paginate"),d(48,"pagination-controls",30),Fe("pageChange",function(o){return r.page=o}),f()(),d(49,"p"),b(50," ** Para visualizar m\xe1s detalles sobre la intervenci\xf3n haga click en la intervenci\xf3n deseada "),f()()()(),d(51,"div",31)(52,"div",2)(53,"div",16)(54,"div",26)(55,"h3",27),b(56,"Documentos"),f(),ze(57,fJ,3,2,"div",28)(58,pJ,24,6,"div",29),_n(59,"paginate"),f()()()(),d(60,"div",32)(61,"div",2)(62,"div",16)(63,"div",26)(64,"h3",27),b(65,"Registro de citas"),f(),ze(66,gJ,3,2,"div",28)(67,bJ,30,15,"div",29),f()()()()()()(),d(68,"button",33),Fe("click",function(){return r.exportPDF()}),b(69," Descargar intervenciones"),f(),d(70,"div",34)(71,"div",35)(72,"div",36)(73,"div",37)(74,"h1",38),b(75,"Cambiar fichero"),f(),ke(76,"button",39),f(),d(77,"div",40)(78,"div",41)(79,"label",42),b(80,"Fichero adjunto "),d(81,"span",43),b(82,"*"),f()(),d(83,"div",44),ze(84,wJ,2,1,"div",28),d(85,"input",45),Fe("change",function(o){return r.onFileSelected(o)}),f(),d(86,"label",46),b(87,"Elegir fichero"),f()()()(),d(88,"div",47)(89,"button",48),b(90,"Cerrar"),f(),d(91,"button",49),Fe("click",function(){return r.submit()}),b(92,"Guardar cambios"),f()()()()()()),2&i&&($(11),qt("Perfil de ",r.user.name,""),$(2),Tn("routerLink","/edit-patient/",r.idUser,""),$(3),Tn("routerLink","/add-appointment/",r.idUser,""),$(3),Tn("routerLink","/appointment-list/",r.idUser,""),$(6),me("ngIf",!r.isAdmin),$(),me("ngIf",r.isAdmin),$(19),me("ngIf",0===r.interventions.length),$(),me("ngForOf",Di(47,13,r.interventions,zr(19,EN,r.page))),$(11),me("ngIf",0===r.documents.length),$(),me("ngForOf",Di(59,16,r.documents,zr(21,EN,r.page2))),$(8),me("ngIf",0===r.appointmentsUser.length),$(),me("ngForOf",r.appointmentsUser),$(17),me("ngIf",r.selectedFileName))},dependencies:[$i,jn,hi,Sd,Qc,il,Dd],encapsulation:2})}return e})();var xJ=ae(519),hn=ae.n(xJ);let AN=(()=>{class e{constructor(t,i,r,s){this.router=t,this.userService=i,this.authService=r,this.activatedRoute=s}ngOnInit(){this.userId=this.activatedRoute.snapshot.params.id,this.userService.getMe().subscribe(t=>{this.user=t,this.userService.getProfileAvatar(t.id).subscribe(i=>{const r=URL.createObjectURL(i);this.profileAvatarUrls=r})})}onFileSelected(t){t.target.files&&t.target.files.length>0&&(this.avatarFile=t.target.files[0])}changePassword(){this.newPassword===this.confirmNewPassword?this.userService.checkCurrentPassword(this.currentPassword,this.user).subscribe(t=>{t?(this.user.encodedPassword=this.newPassword,console.log(this.user.encodedPassword),this.userService.updatePassword(this.user).subscribe(i=>{hn().fire("Contrase\xf1a actualizada","","success"),window.history.back()},i=>{hn().fire("Error al actualizar la contrase\xf1a","","error")})):hn().fire("La contrase\xf1a actual es incorrecta","","error")}):hn().fire("Las contrase\xf1as no coinciden","","warning")}editUser(){this.user&&(this.address&&(this.user.address=this.address),this.city&&(this.user.city=this.city),this.country&&(this.user.country=this.country),this.postalCode&&(this.user.postalCode=this.postalCode),this.phone&&(this.user.phone=this.phone),this.userService.updateUser(this.user,this.avatarFile).subscribe(t=>{console.log(this.user),this.ngOnInit(),window.history.back()}))}static#e=this.\u0275fac=function(i){return new(i||e)(X(ui),X(qi),X(bs),X(Ji))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-edit-profile"]],decls:126,vars:19,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/profile"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card-box"],[1,"card-title"],[1,"col-md-12"],[1,"profile-img-wrap"],["alt","user",1,"inline-block",3,"src"],[1,"fileupload","btn"],[1,"btn-text"],["type","file","id","avatarFile","name","avatarFile","accept",".png, .jpg, .jpeg",1,"upload",3,"change"],[1,"profile-basic"],[1,"col-md-6"],[1,"form-group","local-forms"],[1,"focus-label"],["type","text",1,"form-control","floating"],["type","email",1,"form-control","floating"],["data-bs-toggle","modal","data-bs-target","#ventanaForm",1,"dropdown-item",2,"cursor","pointer"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["type","text","name","address",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","city",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","country",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","postalCode",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","phone",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],[1,"text-center","m-t-20"],["type","button",1,"btn","btn-primary","submit-btn",3,"click"],["id","ventanaForm","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"login-danger"],["type","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Mi perfil "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Editar perfil"),f()()()()(),d(13,"div",10)(14,"h3",11),b(15,"Informaci\xf3n b\xe1sica"),f(),d(16,"div",3)(17,"div",12)(18,"div",13),ke(19,"img",14),d(20,"div",15)(21,"span",16),b(22,"Cambiar"),f(),d(23,"input",17),Fe("change",function(o){return r.onFileSelected(o)}),f()()(),d(24,"div",18)(25,"div",3)(26,"div",19)(27,"div",20)(28,"label",21),b(29,"Nombre"),f(),d(30,"span",22),b(31),f()()(),d(32,"div",19)(33,"div",20)(34,"label",21),b(35,"Apellidos "),f(),d(36,"span",22),b(37),f()()(),d(38,"div",19)(39,"div",20)(40,"label",21),b(41,"Documento Nacional de Identidad (DNI) "),f(),d(42,"span",22),b(43),f()()(),d(44,"div",19)(45,"div",20)(46,"label",21),b(47,"Correo electr\xf3nico "),f(),d(48,"span",23),b(49),f()()(),d(50,"div",19)(51,"div",20)(52,"label",21),b(53,"G\xe9nero"),f(),d(54,"span",22),b(55),f()()(),d(56,"div",19)(57,"div",20)(58,"a",24),ke(59,"i",25),b(60," Cambiar contrase\xf1a "),f()()()()()()()(),d(61,"div",10)(62,"h3",11),b(63,"Informaci\xf3n de contacto"),f(),d(64,"div",3)(65,"div",12),ke(66,"br"),d(67,"div",20)(68,"label",21),b(69,"Direcci\xf3n"),f(),d(70,"input",26),Fe("ngModelChange",function(o){return r.address=o}),f()()(),d(71,"div",19)(72,"div",20)(73,"label",21),b(74,"Ciudad"),f(),d(75,"input",27),Fe("ngModelChange",function(o){return r.city=o}),f()()(),d(76,"div",19)(77,"div",20)(78,"label",21),b(79,"Pa\xeds"),f(),d(80,"input",28),Fe("ngModelChange",function(o){return r.country=o}),f()()(),d(81,"div",19)(82,"div",20)(83,"label",21),b(84,"C\xf3digo postal"),f(),d(85,"input",29),Fe("ngModelChange",function(o){return r.postalCode=o}),f()()(),d(86,"div",19)(87,"div",20)(88,"label",21),b(89,"Tel\xe9fono"),f(),d(90,"input",30),Fe("ngModelChange",function(o){return r.phone=o}),f()()()()(),d(91,"div",31)(92,"button",32),Fe("click",function(){return r.editUser()}),b(93,"Guardar"),f()(),ke(94,"br"),f(),d(95,"div",33)(96,"div",34)(97,"div",35)(98,"div",36)(99,"h1",37),b(100,"Cambiar contrase\xf1a"),f(),ke(101,"button",38),f(),d(102,"div",39)(103,"div",40)(104,"label",41),b(105,"Contrase\xf1a actual "),d(106,"span",42),b(107,"*"),f()(),d(108,"input",43),Fe("ngModelChange",function(o){return r.currentPassword=o}),f()(),d(109,"div",40)(110,"label",41),b(111,"Nueva contrase\xf1a "),d(112,"span",42),b(113,"*"),f()(),d(114,"input",43),Fe("ngModelChange",function(o){return r.newPassword=o}),f()(),d(115,"div",40)(116,"label",41),b(117,"Confirmar nueva contrase\xf1a "),d(118,"span",42),b(119,"*"),f()(),d(120,"input",43),Fe("ngModelChange",function(o){return r.confirmNewPassword=o}),f()()(),d(121,"div",44)(122,"button",45),b(123,"Cerrar"),f(),d(124,"button",46),Fe("click",function(){return r.changePassword()}),b(125,"Guardar cambios"),f()()()()()()),2&i&&($(19),me("src",r.profileAvatarUrls,os),$(12),Qe(r.user.name),$(6),Qe(r.user.lastName),$(6),Qe(r.user.username),$(6),Qe(r.user.email),$(6),Qe(r.user.gender),$(15),me("placeholder",r.user.address)("ngModel",r.address),$(5),me("placeholder",r.user.city)("ngModel",r.city),$(5),me("placeholder",r.user.country)("ngModel",r.country),$(5),me("placeholder",r.user.postalCode)("ngModel",r.postalCode),$(5),me("placeholder",r.user.phone)("ngModel",r.phone),$(18),me("ngModel",r.currentPassword),$(6),me("ngModel",r.newPassword),$(6),me("ngModel",r.confirmNewPassword))},dependencies:[hi,Sr,ws,Vo,Rs],encapsulation:2})}return e})();function Al(e,n=O0){return An((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+e,u=n.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(on(i,c=>{s=c,o=n.now(),r||(r=n.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}const EJ=new Xe("cdk-dir-doc",{providedIn:"root",factory:function AJ(){return Ke(Mn)}}),DJ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function DN(e){const n=e?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?DJ.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}let Lw=(()=>{class e{constructor(t){this.value="ltr",this.change=new ot,t&&(this.value=DN((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(EJ,8))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),SJ=(()=>{class e{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new ot}get dir(){return this._dir}set dir(t){const i=this._dir;this._dir=DN(t),this._rawDir=t,i!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=Be({type:e,selectors:[["","dir",""]],hostVars:1,hostBindings:function(i,r){2&i&&tn("dir",r._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[xn([{provide:Lw,useExisting:e}])]})}return e})(),Bw=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({})}return e})(),yee=(()=>{class e extends fi{buildStyles(t,i){const r={},[s,o]=t.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(o){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Ho(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===o?Gh(i.layout)?null:"100%":null,"max-height":"stretch"===o&&Gh(i.layout)?"100%":null})}}return e.\u0275fac=(()=>{let n;return function(i){return(n||(n=ht(e)))(i||e)}})(),e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bee=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let wee=(()=>{class e extends ri{constructor(t,i,r,s){super(t,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(wt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=Dee:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=Tee:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=See:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=Mee:"column-reverse"===i&&!r&&(this.styleCache=Aee):this.styleCache=xee:this.styleCache=Eee:this.styleCache=Cee,this.addStyles(t,{layout:i,inline:r})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),Im.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return e.\u0275fac=function(t){return new(t||e)(X(pt),X(Wn),X(yee),X(Kn))},e.\u0275dir=Be({type:e,features:[it]}),e})(),Lm=(()=>{class e extends wee{constructor(){super(...arguments),this.inputs=bee}}return e.\u0275fac=(()=>{let n;return function(i){return(n||(n=ht(e)))(i||e)}})(),e.\u0275dir=Be({type:e,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[it]}),e})();const Cee=new Map,xee=new Map,Eee=new Map,Aee=new Map,Dee=new Map,See=new Map,Tee=new Map,Mee=new Map;let IN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Tt({imports:[Dw,Bw]}),e})();function Iee(e,n){1&e&&(d(0,"div")(1,"p"),b(2,"No hay resultados coincidentes"),f()())}function kee(e,n){if(1&e){const t=Sn();d(0,"tr")(1,"td")(2,"div",37),ke(3,"input",38),f()(),d(4,"td",49)(5,"a",50),ke(6,"img",51),b(7),f()(),d(8,"td"),b(9),f(),d(10,"td"),b(11),f(),d(12,"td")(13,"a",52),b(14),f()(),d(15,"td"),b(16),f(),d(17,"td"),b(18),f(),d(19,"td"),b(20),f(),d(21,"td",53)(22,"div",54)(23,"a",55),ke(24,"i",56),f(),d(25,"div",57)(26,"a",58),ke(27,"i",59),b(28," Editar paciente"),f(),d(29,"a",58),ke(30,"i",60),b(31," Dar cita"),f(),d(32,"a",61),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re(2).showModalDelete(s))}),ke(33,"i",62),b(34," Eliminar paciente"),f()()()()()}if(2&e){const t=n.$implicit,i=Re(2);$(5),Tn("routerLink","/profile/",t.id,""),$(),me("src",i.profileAvatarUrls[t.id],os),$(),qt(" ",t.name,""),$(2),Qe(t.lastName),$(2),Qe(t.username),$(3),Qe(t.phone),$(2),Qe(t.email),$(2),Qe(t.birth),$(2),Qe(t.gender),$(6),Tn("routerLink","/edit-patient/",t.id,""),$(3),Tn("routerLink","/add-appointment/",t.id,"")}}const Oee=e=>({itemsPerPage:5,currentPage:e});function Ree(e,n){if(1&e){const t=Sn();d(0,"div",33)(1,"table",34,35)(3,"thead")(4,"tr")(5,"th",36)(6,"div",37),ke(7,"input",38),f()(),d(8,"th",39),b(9,"Nombre"),f(),d(10,"th",40),b(11,"Apellidos"),f(),d(12,"th",41),b(13,"DNI"),f(),d(14,"th",42),b(15,"Tel\xe9fono"),f(),d(16,"th",43),b(17,"Correo electr\xf3nico"),f(),d(18,"th",44),b(19,"Fecha de nacimiento"),f(),d(20,"th",45),b(21,"G\xe9nero"),f(),ke(22,"th"),f()(),d(23,"tbody"),ze(24,Iee,3,0,"div",46)(25,kee,35,11,"tr",47),_n(26,"paginate"),f()(),d(27,"pagination-controls",48),Fe("pageChange",function(r){return Qt(t),Xt(Re().page=r)}),f()()}if(2&e){const t=Re();$(24),me("ngIf",t.noResults),$(),me("ngForOf",Di(26,2,t.patientsList,zr(5,Oee,t.page)))}}function Nee(e,n){1&e&&(d(0,"div",63)(1,"div",64)(2,"span",65),b(3,"Loading..."),f()(),d(4,"div",66)(5,"span",65),b(6,"Loading..."),f()(),d(7,"div",67)(8,"span",65),b(9,"Loading..."),f()(),d(10,"div",68)(11,"span",65),b(12,"Loading..."),f()(),d(13,"div",69)(14,"span",65),b(15,"Loading..."),f()(),d(16,"div",70)(17,"span",65),b(18,"Loading..."),f()(),d(19,"div",71)(20,"span",65),b(21,"Loading..."),f()(),d(22,"div",72)(23,"span",65),b(24,"Loading..."),f()()())}function Pee(e,n){1&e&&ke(0,"div",63)}let Fee=(()=>{class e{constructor(t,i,r){this.patientService=t,this.router=i,this.utilService=r,this.loading=!1,this.patientsList=[],this.profileAvatarUrls=[],this.control=new Mh,this.noResults=!1}ngOnInit(){this.showingAllUsers=!1,this.patientService.getMe().subscribe(t=>{this.doctorAsignated=t.id,this.codEntity=t.codEntity,this.getAllUsersByDoctor(this.doctorAsignated,this.codEntity)}),this.observerChangeSearch()}getAllUsers(){this.loading=!0,this.patientService.getUsersByCodEntity(this.codEntity).subscribe(t=>{this.patientsList=t.filter(i=>1===i.roles.length&&i.roles.includes("USER")),xh(this.patientsList.map(i=>this.patientService.getProfileAvatar(i.id).pipe(Ri(r=>{const s=URL.createObjectURL(r);return this.profileAvatarUrls[i.id]=s,_t(i)})))).subscribe(()=>{this.loading=!1},i=>{console.error("Error:",i),this.loading=!1})})}getAllUsersByDoctor(t,i){this.loading=!0,console.log(i),this.patientService.getUserListByDoctor(t).subscribe(r=>{this.patientsList=r.filter(s=>1===s.roles.length&&s.roles.includes("USER")&&s.codEntity===i),xh(this.patientsList.map(s=>this.patientService.getProfileAvatar(s.id).pipe(Ri(o=>{const a=URL.createObjectURL(o);return this.profileAvatarUrls[s.id]=a,_t(s)})))).subscribe(()=>{this.loading=!1},s=>{console.error("Error:",s),this.loading=!1})})}togglePatientView(){this.showingAllUsers?this.getAllUsersByDoctor(this.doctorAsignated,this.codEntity):this.getAllUsers(),this.showingAllUsers=!this.showingAllUsers}goToProfile(t){this.router.navigate(["/profile/"+t])}deleteUser(t){this.patientService.deleteUser(t),console.log("Usuario eliminado"),this.ngOnInit()}exportPDF(){this.utilService.exportPatientsPDF().subscribe(t=>{const i=new Blob([t],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download="Pacientes_"+qh(Date.now(),"yyyy-MM-dd")+".pdf",r.click()})}exportExcel(){this.utilService.exportPatientsExcel().subscribe(t=>{const i=new Blob([t],{type:"application/octet-stream"}),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download="Pacientes_"+qh(Date.now(),"yyyy-MM-dd")+".xlsx",r.click()})}reload(){window.location.reload()}observerChangeSearch(){this.control.valueChanges.pipe(Al(500),Ri(t=>(this.loading=!0,0===t.trim().length?(this.noResults=!1,this.patientService.getUserList()):(this.noResults=!1,this.patientService.getUsersByNameOrLastNameOrUsername(t))))).subscribe(t=>{0===t.length&&(this.noResults=!0),this.patientsList=t,this.loading=!1})}showModalDelete(t){hn().fire({title:"Vas a eliminar el paciente",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Eliminar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.deleteUser(t),hn().fire("Eliminado","","success"),this.ngOnInit(),this.ngOnInit())})}static#e=this.\u0275fac=function(i){return new(i||e)(X(qi),X(ui),X(Hh))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-patient"]],decls:43,vars:5,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["type","text","placeholder","Buscar paciente",1,"form-control",3,"formControl"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/add-patient",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],[1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"btn","btn2","ms-2",3,"click"],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],[1,"me-2",2,"cursor","pointer",3,"click"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-04.svg","alt",""],["class","table-responsive",4,"ngIf"],["fxLayoutAlign","center",4,"ngIf"],[1,"table-responsive"],["id","table",1,"table","border-0","custom-table","comman-table","datatable","mb-0"],["table",""],["mat-sort-header","checkbox"],[1,"form-check","check-tables"],["type","checkbox","value","something",1,"form-check-input"],["mat-sort-header","name"],["mat-sort-header","lastName"],["mat-sort-header","dni"],["mat-sort-header","mobile"],["mat-sort-header","email"],["mat-sort-header","birth"],["mat-sort-header","gender"],[4,"ngIf"],[4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"profile-image"],[3,"routerLink"],["width","28","height","28","alt","",1,"rounded-circle","m-r-5",3,"src"],["href","javascript:;"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],[1,"fa-solid","fa-pen","m-r-5"],["data-bs-toggle","modal","data-bs-target","#delete_patient",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["fxLayoutAlign","center"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-light"],["role","status",1,"spinner-grow","text-dark"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Inicio "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Lista de pacientes"),f()()()()(),d(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),b(22,"Lista de pacientes"),f(),d(23,"div",16)(24,"div",17),ke(25,"input",18),d(26,"a",19),ke(27,"img",20),f()(),d(28,"div",21)(29,"a",22),ke(30,"img",23),f(),d(31,"a",24),Fe("click",function(){return r.reload()}),ke(32,"img",25),f(),d(33,"a",26),Fe("click",function(){return r.togglePatientView()}),b(34),f()()()()(),d(35,"div",27)(36,"a",28),Fe("click",function(){return r.exportPDF()}),ke(37,"img",29),f(),d(38,"a",28),Fe("click",function(){return r.exportExcel()}),ke(39,"img",30),f()()()(),ze(40,Ree,28,7,"div",31)(41,Nee,25,0,"div",32)(42,Pee,1,0,"div",32),f()()()()()()),2&i&&($(25),me("formControl",r.control),$(9),qt(" ",r.showingAllUsers?"Mostrar mis pacientes":"Mostrar todos los pacientes"," "),$(6),me("ngIf",!r.loading),$(),me("ngIf",r.loading),$(),me("ngIf",!r.loading))},dependencies:[$i,jn,hi,Sr,ws,Ih,Lm,Sd,Dd],encapsulation:2})}return e})();const kN="/api/email/";let Vw=(()=>{class e{constructor(t){this.httpClient=t}sendEmail(t,i){const r=new FormData;r.append("emailTo",t||""),r.append("pass",i||""),this.httpClient.post(kN+"send",r).subscribe()}sendEmailRecovery(t,i){const r=new FormData;r.append("emailTo",t||""),r.append("pass",i||""),this.httpClient.post(kN+"recovery",r).subscribe()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ma))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lee(e,n){1&e&&(d(0,"div",39),b(1," El tel\xe9fono debe tener 9 caracteres. "),f())}function Bee(e,n){1&e&&(d(0,"div",39),b(1," El DNI debe tener 9 caracteres. "),f())}function Vee(e,n){1&e&&(d(0,"div",39),b(1," El formato del correo electr\xf3nico es incorrecto. "),f())}let Uee=(()=>{class e{constructor(t,i,r,s){this.userService=t,this.authService=i,this.router=r,this.emailService=s,this.name="",this.lastName="",this.email="",this.username="",this.passwordEncoded="pass",this.gender="",this.phone="",this.birth="",this.address="",this.country="",this.city="",this.postalCode=""}ngOnInit(){this.userService.getMe().subscribe(t=>{this.doctorAsignated=t,this.codEntity=t.codEntity})}addPatient(){if(this.authService.isAdmin()||this.authService.isDoctor()){const t={name:this.name,lastName:this.lastName,email:this.email,username:this.username,passwordEncoded:this.username,gender:this.gender,phone:this.phone,birth:this.birth,address:this.address,country:this.country,city:this.city,postalCode:this.postalCode,doctorAsignated:this.doctorAsignated,codEntity:this.codEntity};Object.values(t).every(i=>""!==i)?this.authService.register(t).subscribe(i=>{hn().fire("Usuario registrado","","success"),this.emailService.sendEmail(this.email,t.passwordEncoded),window.history.back()},i=>{hn().fire("Probablemente este usuario ya exista, sino vuelva a intentarlo","","error"),console.error("error"),this.router.navigate(["/error-page"])}):hn().fire("Todos los campos son obligatorios","","warning")}else console.error(this.authService.currentUser())}static#e=this.\u0275fac=function(i){return new(i||e)(X(qi),X(bs),X(ui),X(Vw))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-add-patient"]],decls:99,vars:15,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/patient-list"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"col-md-12"],[1,"card-box"],[1,"card-title"],["action","#"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],["type","radio","name","gender","id","gender_male","value","Masculino","checked","","name","gender","required","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gender_male",1,"form-check-label"],["type","radio","name","gender","id","gender_female","value","Femenino","name","gender","required","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gender_female",1,"form-check-label"],["type","text","name","phone","required","","pattern",".{9}",1,"form-control",3,"ngModel","ngModelChange"],["phoneInput","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","text","name","username","required","","pattern",".{9}",1,"form-control",3,"ngModel","ngModelChange"],["dniInput","ngModel"],["type","text","name","email","required","","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["type","date","name","birth","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","city","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","country","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","postalCode","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-end"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"alert","alert-danger"]],template:function(i,r){if(1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Lista de pacientes "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Dar de alta paciente"),f()()()()(),d(13,"div",3)(14,"div",10)(15,"div",11)(16,"h4",12),b(17,"Datos personales"),f(),ke(18,"br"),d(19,"form",13)(20,"div",3)(21,"div",14)(22,"div",15)(23,"label",16),b(24,"Nombre"),f(),d(25,"div",17)(26,"input",18),Fe("ngModelChange",function(o){return r.name=o}),f()()(),d(27,"div",15)(28,"label",16),b(29,"Apellidos"),f(),d(30,"div",17)(31,"input",19),Fe("ngModelChange",function(o){return r.lastName=o}),f()()(),d(32,"div",15)(33,"label",16),b(34,"G\xe9nero"),f(),d(35,"div",17)(36,"div",20)(37,"input",21),Fe("ngModelChange",function(o){return r.gender=o}),f(),d(38,"label",22),b(39," Masculino "),f()(),d(40,"div",20)(41,"input",23),Fe("ngModelChange",function(o){return r.gender=o}),f(),d(42,"label",24),b(43," Femenino "),f()()()(),d(44,"div",15)(45,"label",16),b(46,"Tel\xe9fono"),f(),d(47,"div",17)(48,"input",25,26),Fe("ngModelChange",function(o){return r.phone=o}),f(),ze(50,Lee,2,0,"div",27),f()()(),d(51,"div",14)(52,"div",15)(53,"label",16),b(54,"Documento Nacional de Identidad (DNI)"),f(),d(55,"div",17)(56,"input",28,29),Fe("ngModelChange",function(o){return r.username=o}),f(),ze(58,Bee,2,0,"div",27),f()(),d(59,"div",15)(60,"label",16),b(61,"Correo electr\xf3nico"),f(),d(62,"div",17)(63,"input",30,31),Fe("ngModelChange",function(o){return r.email=o}),f(),ze(65,Vee,2,0,"div",27),f()(),d(66,"div",15)(67,"label",16),b(68,"Fecha de nacimiento"),f(),d(69,"div",17)(70,"input",32),Fe("ngModelChange",function(o){return r.birth=o}),f()()()()(),ke(71,"hr")(72,"br"),d(73,"div",3)(74,"div",14)(75,"div",15)(76,"label",16),b(77,"Direcci\xf3n"),f(),d(78,"div",17)(79,"input",33),Fe("ngModelChange",function(o){return r.address=o}),f()()(),d(80,"div",15)(81,"label",16),b(82,"Ciudad"),f(),d(83,"div",17)(84,"input",34),Fe("ngModelChange",function(o){return r.city=o}),f()()()(),d(85,"div",14)(86,"div",15)(87,"label",16),b(88,"Pa\xeds"),f(),d(89,"div",17)(90,"input",35),Fe("ngModelChange",function(o){return r.country=o}),f()()(),d(91,"div",15)(92,"label",16),b(93,"C\xf3digo postal"),f(),d(94,"div",17)(95,"input",36),Fe("ngModelChange",function(o){return r.postalCode=o}),f()()()()(),d(96,"div",37)(97,"button",38),Fe("click",function(){return r.addPatient()}),b(98,"A\xf1adir"),f()()()()()()()()),2&i){const s=sn(49),o=sn(57),a=sn(64);$(26),me("ngModel",r.name),$(5),me("ngModel",r.lastName),$(6),me("ngModel",r.gender),$(4),me("ngModel",r.gender),$(7),me("ngModel",r.phone),$(2),me("ngIf",s.errors&&(s.dirty||s.touched)),$(6),me("ngModel",r.username),$(2),me("ngIf",o.errors&&(o.dirty||o.touched)),$(5),me("ngModel",r.email),$(2),me("ngIf",a.errors&&(a.dirty||a.touched)),$(5),me("ngModel",r.birth),$(9),me("ngModel",r.address),$(5),me("ngModel",r.city),$(6),me("ngModel",r.country),$(5),me("ngModel",r.postalCode)}},dependencies:[jn,hi,xa,Sr,lm,ws,Ca,Vo,um,Rs,fo]})}return e})(),jee=(()=>{class e{constructor(t,i,r,s,o){this.emailService=t,this.router=i,this.userService=r,this.authService=s,this.activatedRoute=o}ngOnInit(){this.userId=this.activatedRoute.snapshot.params.id,this.userService.getUser(this.userId).subscribe(t=>{this.user=t,this.userService.getProfileAvatar(t.id).subscribe(i=>{const r=URL.createObjectURL(i);this.profileAvatarUrls=r})})}onFileSelected(t){t.target.files&&t.target.files.length>0&&(this.avatarFile=t.target.files[0])}resetPassword(){this.emailService.sendEmailRecovery(this.user.email,this.user.username),this.editPassword(),hn().fire("Se ha enviado un correo electr\xf3nico con sus nuevas credenciales","","info")}editPassword(){this.user&&(this.user.encodedPassword=this.user.username,console.log(this.user.encodedPassword),this.userService.updatePassword(this.user).subscribe(t=>{console.log(this.user),window.history.back()}))}editUser(){hn().fire({title:"\xbfEstas seguro/a que quieres confirmar los cambios?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Eliminar",denyButtonText:"Cancelar"}).then(t=>{t.isConfirmed?this.user&&(this.address&&(this.user.address=this.address),this.city&&(this.user.city=this.city),this.country&&(this.user.country=this.country),this.postalCode&&(this.user.postalCode=this.postalCode),this.phone&&(this.user.phone=this.phone),this.userService.updateUser(this.user,this.avatarFile).subscribe(i=>{console.log(this.user),this.ngOnInit(),window.history.back()}),hn().fire("Actualizado","","success")):t.isDenied&&(hn().fire("Cancelado","","info"),window.history.back())})}static#e=this.\u0275fac=function(i){return new(i||e)(X(Vw),X(ui),X(qi),X(bs),X(Ji))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-edit-patient"]],decls:95,vars:16,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/profile"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card-box"],[1,"card-title"],[1,"col-md-12"],[1,"profile-img-wrap"],["alt","user",1,"inline-block",3,"src"],[1,"fileupload","btn"],[1,"btn-text"],["type","file","id","avatarFile","name","avatarFile","accept",".png, .jpg, .jpeg",1,"upload",3,"change"],[1,"profile-basic"],[1,"col-md-6"],[1,"form-group","local-forms"],[1,"focus-label"],["type","text",1,"form-control","floating"],["type","email",1,"form-control","floating"],[2,"cursor","pointer",3,"click"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["type","text","name","address",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","city",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","country",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","postalCode",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],["type","text","name","phone",1,"form-control","floating",3,"placeholder","ngModel","ngModelChange"],[1,"text-center","m-t-20"],["type","button",1,"btn","btn-primary","submit-btn",3,"click"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Mi perfil "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Editar perfil"),f()()()()(),d(13,"div",10)(14,"h3",11),b(15,"Informaci\xf3n b\xe1sica"),f(),d(16,"div",3)(17,"div",12)(18,"div",13),ke(19,"img",14),d(20,"div",15)(21,"span",16),b(22,"Cambiar"),f(),d(23,"input",17),Fe("change",function(o){return r.onFileSelected(o)}),f()()(),d(24,"div",18)(25,"div",3)(26,"div",19)(27,"div",20)(28,"label",21),b(29,"Nombre"),f(),d(30,"span",22),b(31),f()()(),d(32,"div",19)(33,"div",20)(34,"label",21),b(35,"Apellidos "),f(),d(36,"span",22),b(37),f()()(),d(38,"div",19)(39,"div",20)(40,"label",21),b(41,"Documento Nacional de Identidad (DNI) "),f(),d(42,"span",22),b(43),f()()(),d(44,"div",19)(45,"div",20)(46,"label",21),b(47,"Correo electr\xf3nico "),f(),d(48,"span",23),b(49),f()()(),d(50,"div",19)(51,"div",20)(52,"label",21),b(53,"G\xe9nero"),f(),d(54,"span",22),b(55),f()()(),d(56,"div",19)(57,"div",20)(58,"a",24),Fe("click",function(){return r.resetPassword()}),ke(59,"i",25),b(60," Resetear contrase\xf1a "),f()()()()()()()(),d(61,"div",10)(62,"h3",11),b(63,"Informaci\xf3n de contacto"),f(),d(64,"div",3)(65,"div",12),ke(66,"br"),d(67,"div",20)(68,"label",21),b(69,"Direcci\xf3n"),f(),d(70,"input",26),Fe("ngModelChange",function(o){return r.address=o}),f()()(),d(71,"div",19)(72,"div",20)(73,"label",21),b(74,"Ciudad"),f(),d(75,"input",27),Fe("ngModelChange",function(o){return r.city=o}),f()()(),d(76,"div",19)(77,"div",20)(78,"label",21),b(79,"Pa\xeds"),f(),d(80,"input",28),Fe("ngModelChange",function(o){return r.country=o}),f()()(),d(81,"div",19)(82,"div",20)(83,"label",21),b(84,"C\xf3digo postal"),f(),d(85,"input",29),Fe("ngModelChange",function(o){return r.postalCode=o}),f()()(),d(86,"div",19)(87,"div",20)(88,"label",21),b(89,"Tel\xe9fono"),f(),d(90,"input",30),Fe("ngModelChange",function(o){return r.phone=o}),f()()()()(),d(91,"div",31)(92,"button",32),Fe("click",function(){return r.editUser()}),b(93,"Guardar"),f()(),ke(94,"br"),f()()),2&i&&($(19),me("src",r.profileAvatarUrls,os),$(12),Qe(r.user.name),$(6),Qe(r.user.lastName),$(6),Qe(r.user.username),$(6),Qe(r.user.email),$(6),Qe(r.user.gender),$(15),me("placeholder",r.user.address)("ngModel",r.address),$(5),me("placeholder",r.user.city)("ngModel",r.city),$(5),me("placeholder",r.user.country)("ngModel",r.country),$(5),me("placeholder",r.user.postalCode)("ngModel",r.postalCode),$(5),me("placeholder",r.user.phone)("ngModel",r.phone))},dependencies:[hi,Sr,ws,Rs],encapsulation:2})}return e})(),Hee=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-error-page"]],decls:14,vars:0,consts:[["lang","en","dir","ltr"],["charset","utf-8"],[1,"container"],["routerLink","/dashboard"]],template:function(i,r){1&i&&(d(0,"html",0)(1,"head"),ke(2,"meta",1)(3,"title"),f(),d(4,"body")(5,"div",2)(6,"h2"),b(7,"Oops! P\xe1gina no encontrada."),f(),d(8,"h1"),b(9,"404"),f(),d(10,"p"),b(11,"No podemos encontrar la p\xe1gina que est\xe1s buscando."),f(),d(12,"a",3),b(13,"Volver a Home"),f()()()())},dependencies:[hi,SJ],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:montserrat,sans-serif;min-height:100vh;background-image:linear-gradient(125deg,#fff,#edeeec)}.container[_ngcontent-%COMP%]{width:100%;position:absolute;top:50%;transform:translateY(-50%);text-align:center;color:#343434}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:160px;margin:0;font-weight:900;letter-spacing:20px;-webkit-text-fill-color:transparent;-webkit-background-clip:text}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;background:#ff1654;color:#fff;padding:12px 24px;display:inline-block;border-radius:25px;font-size:20px;text-transform:uppercase;transition:.4s}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#e55039}p[_ngcontent-%COMP%]{font-size:20px}"]})}return e})();function Gee(e,n){if(1&e&&(d(0,"span",43),b(1),f()),2&e){const t=Re(2);$(),vi("",t.doctorAsignated.name," ",t.doctorAsignated.lastName,"")}}function $ee(e,n){1&e&&(d(0,"span",43),b(1,"No tiene doctor asignado"),f())}function Wee(e,n){if(1&e&&(d(0,"div",31)(1,"div",32)(2,"div",33)(3,"a",34),ke(4,"img",35),f()()(),d(5,"div",36)(6,"div",2)(7,"div",37)(8,"div",38)(9,"h3",39),b(10),f(),d(11,"div"),b(12),f()()(),d(13,"div",40)(14,"ul",41)(15,"li")(16,"span",42),b(17,"Tel\xe9fono:"),f(),d(18,"span",43),b(19),f()(),d(20,"li")(21,"span",42),b(22,"Correo electr\xf3nico:"),f(),d(23,"span",43),b(24),f()(),d(25,"li")(26,"span",42),b(27,"Fecha de nacimiento:"),f(),d(28,"span",43),b(29),f()(),d(30,"li")(31,"span",42),b(32,"Direcci\xf3n:"),f(),d(33,"span",43),b(34),f()(),d(35,"li")(36,"span",42),b(37,"G\xe9nero:"),f(),d(38,"span",43),b(39),f()(),d(40,"li")(41,"span",42),b(42,"Doctor asignado:"),f(),ze(43,Gee,2,2,"span",44)(44,$ee,2,0,"span",44),f()()()()()()),2&e){const t=Re();$(4),me("src",t.profileAvatarUrls,os),$(6),vi("",t.user.name," ",t.user.lastName,""),$(2),qt("DNI: ",t.user.username,""),$(7),Qe(t.user.phone),$(5),Qe(t.user.email),$(5),Qe(t.user.birth),$(5),la("",t.user.address,", ",t.user.city,", ",t.user.postalCode,", ",t.user.country,""),$(5),Qe(t.user.gender),$(4),me("ngIf",null!=t.doctorAsignated),$(),me("ngIf",null==t.doctorAsignated)}}function zee(e,n){if(1&e&&(d(0,"div",31)(1,"div",45)(2,"div",33)(3,"a",34),ke(4,"img",35),f()()(),d(5,"div",36)(6,"div",2)(7,"div",37)(8,"div",38)(9,"h3",39),b(10),f(),d(11,"div"),b(12),f()()(),d(13,"div",40)(14,"ul",41)(15,"li")(16,"span",42),b(17,"Correo electr\xf3nico:"),f(),d(18,"span",43),b(19),f()()()()()()()),2&e){const t=Re();$(4),me("src",t.profileAvatarUrls,os),$(6),vi("",t.user.name," ",t.user.lastName,""),$(2),qt("DNI: ",t.user.username,""),$(7),Qe(t.user.email)}}function qee(e,n){if(1&e&&(d(0,"div")(1,"p"),b(2),f()()),2&e){const t=Re();$(2),vi("",t.user.name," ",t.user.lastName," no ha tenido intervenciones")}}function Yee(e,n){if(1&e&&(d(0,"div",46)(1,"ul",47)(2,"li")(3,"div",48),ke(4,"div",49),f(),d(5,"div",50)(6,"div",51)(7,"a",52),b(8),f(),d(9,"span",53),b(10),_n(11,"date"),f()()()()()()),2&e){const t=n.$implicit;$(7),Tn("routerLink","/documents/",t.id,""),$(),Qe(t.appointment.description),$(2),Qe(Di(11,3,t.interventionDate,"dd-MM-yyyy"))}}function Kee(e,n){if(1&e&&(d(0,"div")(1,"p"),b(2),f()()),2&e){const t=Re();$(2),vi("",t.user.name," ",t.user.lastName," no tiene documentos")}}function Qee(e,n){if(1&e){const t=Sn();d(0,"div",46)(1,"ul",47)(2,"li")(3,"div",48),ke(4,"div",54),f(),d(5,"div",50)(6,"div",51)(7,"span",55),b(8),f(),d(9,"a",56),Fe("click",function(){const s=Qt(t).$implicit;return Xt(Re().download(s.id))}),b(10),f(),d(11,"span",53),b(12),_n(13,"date"),f()()()()()()}if(2&e){const t=n.$implicit;$(8),qt("",t.intervention.appointment.description," - "),$(2),Qe(t.fileName),$(2),Qe(Di(13,3,t.creationDate,"dd-MM-yyyy"))}}function Xee(e,n){if(1&e&&(d(0,"div")(1,"p"),b(2),f()()),2&e){const t=Re();$(2),vi("",t.user.name," ",t.user.lastName," no tiene historial de citas")}}function Zee(e,n){1&e&&(d(0,"span"),b(1,"REALIZADA "),f())}function Jee(e,n){1&e&&ke(0,"img",62)}function ete(e,n){1&e&&(d(0,"span",63),b(1,"NO REALIZADA "),f())}function tte(e,n){1&e&&ke(0,"img",64)}function nte(e,n){if(1&e&&(d(0,"div",46)(1,"ul",47)(2,"li")(3,"div",48),ke(4,"div",57),f(),d(5,"div",58)(6,"div",51)(7,"span",55),b(8),f(),ze(9,Zee,2,0,"span",25)(10,Jee,1,0,"img",59)(11,ete,2,0,"span",60)(12,tte,1,0,"img",61),d(13,"span",53),b(14),_n(15,"date"),_n(16,"slice"),f()()()()()()),2&e){const t=n.$implicit;$(8),qt("",t.description," - "),$(),me("ngIf",t.completed),$(),me("ngIf",t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(2),vi("",Di(15,7,t.bookDate,"dd/MM/yyyy")," - ",hs(16,10,t.fromDate,0,5),"")}}const ite=e=>({itemsPerPage:5,currentPage:e});let rte=(()=>{class e{constructor(t,i,r,s,o,a){this.appointmentService=t,this.documentService=i,this.authService=r,this.interventionService=s,this.userService=o,this.utilService=a,this.isAdmin=!1,this.appointmentsUser=[],this.interventions=[],this.documents=[]}ngOnInit(){this.userService.getMe().subscribe(t=>{this.user=t,this.userService.getProfileAvatar(t.id).subscribe(i=>{const r=URL.createObjectURL(i);this.profileAvatarUrls=r}),this.userService.checkAdmin(this.user.id).subscribe(i=>{this.isAdmin=i}),this.interventionService.getUserInterventions(this.user.id).subscribe(i=>{this.interventions=i}),this.documentService.getAllDocumentsByUserId(this.user.id).subscribe(i=>{this.documents=i}),this.appointmentService.getAllAppointmentsByUser(this.user.id).subscribe(i=>{this.appointmentsUser=i}),this.userService.getDoctorAsignated(this.user.id).subscribe(i=>{this.doctorAsignated=i})})}exportPDF(){this.utilService.exportInterventionsPDF(this.user.id).subscribe(t=>{const i=new Blob([t],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download="Intervenciones_"+qh(Date.now(),"yyyy-MM-dd")+".pdf",r.click()})}download(t){this.documentService.downloadDocument(t).subscribe(i=>{const r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.target="_blank",r.click()})}static#e=this.\u0275fac=function(i){return new(i||e)(X(jo),X(Fw),X(bs),X(wl),X(qi),X(Hh))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-myprofile"]],decls:67,vars:13,consts:[[1,"page-wrapper"],[1,"content"],[1,"row"],[1,"col-sm-7","col-6"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"col-sm-5","col-6","text-end","m-b-30"],["routerLink","/editprofile",1,"btn","btn-outline-primary","btn-rounded"],[1,"fa","fa-plus"],[1,"card-box","profile-header"],[1,"col-md-12"],["class","profile-view",4,"ngIf"],[1,"profile-tabs"],[1,"nav","nav-tabs","nav-tabs-bottom"],[1,"nav-item"],["href","#historyIntervention","data-bs-toggle","tab",1,"nav-link","active"],["href","#documents","data-bs-toggle","tab",1,"nav-link"],["href","#historyAppointment","data-bs-toggle","tab",1,"nav-link"],[1,"tab-content"],["id","historyIntervention",1,"tab-pane","show","active"],[1,"card-box"],[1,"card-title"],[4,"ngIf"],["class","experience-box",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["id","documents",1,"tab-pane"],["id","historyAppointment",1,"tab-pane"],[1,"btn","btn-success",2,"position","fixed","bottom","20px","right","20px",3,"click"],[1,"profile-view"],[1,"profile-img-wrap"],[1,"profile-img"],["href","javascript:void(0);"],["alt","",1,"avatar",3,"src"],[1,"profile-basic"],[1,"col-md-5"],[1,"profile-info-left"],[1,"user-name","m-t-0","mb-0"],[1,"col-md-7"],[1,"personal-info"],[1,"title"],[1,"text"],["class","text",4,"ngIf"],[1,"user-img"],[1,"experience-box"],[1,"experience-list"],[1,"experience-user"],[1,"before-circle","int"],[1,"experience-content"],[1,"timeline-content"],[3,"routerLink"],[1,"time"],[1,"before-circle","doc"],[1,""],[2,"cursor","pointer",3,"click"],[1,"before-circle","appoi"],[1,"experience-content",2,"color","black"],["style","width: 25px;","src","../../../../assets/icons/tick.png","alt","Completed",4,"ngIf"],["style","color: red;",4,"ngIf"],["style","width: 25px;","src","../../../../assets/icons/reloj-de-arena.png","alt","not Completed",4,"ngIf"],["src","../../../../assets/icons/tick.png","alt","Completed",2,"width","25px"],[2,"color","red"],["src","../../../../assets/icons/reloj-de-arena.png","alt","not Completed",2,"width","25px"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),b(7,"Inicio "),f()(),d(8,"li",5),ke(9,"i",7),f(),d(10,"li",8),b(11,"Mi perfil"),f()()(),d(12,"div",9)(13,"a",10),ke(14,"i",11),b(15," Editar perfil"),f()()(),d(16,"div",12)(17,"div",2)(18,"div",13),ze(19,Wee,45,14,"div",14)(20,zee,20,5,"div",14),f()()(),d(21,"div",15)(22,"ul",16)(23,"li",17)(24,"a",18),b(25,"Historial m\xe9dico"),f()(),d(26,"li",17)(27,"a",19),b(28,"Documentos"),f()(),d(29,"li",17)(30,"a",20),b(31,"Historial de citas"),f()()(),d(32,"div",21)(33,"div",22)(34,"div",2)(35,"div",13)(36,"div",23)(37,"h3",24),b(38,"Registro de intervenciones"),f(),ze(39,qee,3,2,"div",25)(40,Yee,12,6,"div",26),_n(41,"paginate"),f(),d(42,"pagination-controls",27),Fe("pageChange",function(o){return r.page=o}),f(),d(43,"p"),b(44," ** Para visualizar m\xe1s detalles sobre la intervenci\xf3n haga click en la intervenci\xf3n deseada "),f()()()(),d(45,"div",28)(46,"div",2)(47,"div",13)(48,"div",23)(49,"h3",24),b(50,"Documentos"),f(),ze(51,Kee,3,2,"div",25)(52,Qee,14,6,"div",26),f(),d(53,"p"),b(54," ** Para visualizar m\xe1s detalles sobre la intervenci\xf3n haga click en la intervenci\xf3n deseada "),f()()()(),d(55,"div",29)(56,"div",2)(57,"div",13)(58,"div",23)(59,"h3",24),b(60,"Registro de citas"),f(),ze(61,Xee,3,2,"div",25)(62,nte,17,14,"div",26),f(),d(63,"p"),b(64," ** Para visualizar m\xe1s detalles sobre la intervenci\xf3n haga click en la intervenci\xf3n deseada "),f()()()()()()(),d(65,"button",30),Fe("click",function(){return r.exportPDF()}),b(66," Descargar intervenciones"),f()()),2&i&&($(19),me("ngIf",!r.isAdmin&&!r.authService.isDoctor()),$(),me("ngIf",r.isAdmin||r.authService.isDoctor()),$(19),me("ngIf",0===r.interventions.length),$(),me("ngForOf",Di(41,8,r.interventions,zr(11,ite,r.page))),$(11),me("ngIf",0===r.documents.length),$(),me("ngForOf",r.documents),$(9),me("ngIf",0===r.appointmentsUser.length),$(),me("ngForOf",r.appointmentsUser))},dependencies:[$i,jn,hi,Sd,Qc,il,Dd],encapsulation:2})}return e})(),ste=(()=>{class e{constructor(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-documents"]],decls:13,vars:0,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["[routerLink","routes.adminDashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Dashboard "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Blank Page"),f()()()()()()())}})}return e})();var Dl=ae(627),Bm=ae.t(Dl,2),Bs=ae(16),ote=ae.t(Bs,2);const ate=["pdfViewerContainer"];function Uw(e,n,t){e[n]=t}function Kh(){return typeof window>"u"}Kh()||Uw(Bm,"verbosity",Dl.VerbosityLevel.INFOS);var Vm=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",e}(Vm||{});let dte=(()=>{class e{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Bm<"u"?`https://unpkg.com/pdfjs-dist@${Dl.version}/cmaps/`:null;_imageResourcesPath=typeof Bm<"u"?`https://unpkg.com/pdfjs-dist@${Dl.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=Vm.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;resizeTimeout=null;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new ut;afterLoadComplete=new ot;pageRendered=new ot;pageInitialized=new ot;textLayerRendered=new ot;onError=new ot;onProgress=new ot;pageChange=new ot(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return Bs.LinkTarget.BLANK;case"none":return Bs.LinkTarget.NONE;case"self":return Bs.LinkTarget.SELF;case"parent":return Bs.LinkTarget.PARENT;case"top":return Bs.LinkTarget.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,Kh())return;let r;const s=Dl.version;r=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`),Uw(Dl.GlobalWorkerOptions,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!Kh()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:Vm.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){di(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(wt(this.destroy$)).subscribe({next:t=>{const i=this._rotation+t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*e.CSS_UNITS;let s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const a=t.getViewport({scale:1,rotation:i});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer._setScale(s,o)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const t=e.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function lte(e,n){const t=new e.EventBus;return function cte(e,n){en(e,"documentload").pipe(wt(n)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),en(e,"pagerendered").pipe(wt(n)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),en(e,"textlayerrendered").pipe(wt(n)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv.dispatchEvent(r)}),en(e,"pagechanging").pipe(wt(n)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),en(e,"pagesinit").pipe(wt(n)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),en(e,"pagesloaded").pipe(wt(n)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),en(e,"scalechange").pipe(wt(n)).subscribe(({scale:t,presetValue:i,source:r})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),en(e,"updateviewarea").pipe(wt(n)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),en(e,"find").pipe(wt(n)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),en(e,"attachmentsloaded").pipe(wt(n)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),en(e,"sidebarviewchanged").pipe(wt(n)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),en(e,"pagemode").pipe(wt(n)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),en(e,"namedaction").pipe(wt(n)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),en(e,"presentationmodechanged").pipe(wt(n)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),en(e,"outlineloaded").pipe(wt(n)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,n),t}(ote,this.destroy$),en(this.eventBus,"pagerendered").pipe(wt(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),en(this.eventBus,"pagesinit").pipe(wt(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),en(this.eventBus,"pagechanging").pipe(wt(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),en(this.eventBus,"textlayerrendered").pipe(wt(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Bs.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Bs.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Vm.DISABLED,findController:this.pdfFindController,l10n:new Bs.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){Uw(Bm,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new Bs.PDFViewer(this.getPDFOptions()):new Bs.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=Dl.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;di(this.loadingTask.promise).pipe(wt(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*e.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,o=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===o||0===i||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/i,s/t);break;case"page-height":a=o/i;break;default:a=s/t}return this._zoom*a/e.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Kh()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Kh()||this.ngZone.runOutsideAngular(()=>{en(window,"resize").pipe(Al(100),qn(()=>this._canAutoResize&&!!this._pdf),wt(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||e)(X(pt),X(Dt))};static \u0275cmp=jt({type:e,selectors:[["pdf-viewer"]],viewQuery:function(i,r){if(1&i&&ko(ate,5),2&i){let s;nn(s=rn())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[vt.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[vt.None,"render-text","renderText"],renderTextMode:[vt.None,"render-text-mode","renderTextMode"],originalSize:[vt.None,"original-size","originalSize"],showAll:[vt.None,"show-all","showAll"],stickToPage:[vt.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[vt.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[vt.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[vt.None,"fit-to-page","fitToPage"],showBorders:[vt.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[li],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(i,r){1&i&&(d(0,"div",0,1),ke(2,"div",2),f())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return e})(),ute=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ot({type:e});static \u0275inj=Tt({})}return e})();function hte(e,n){if(1&e){const t=Sn();d(0,"div",3)(1,"div",11)(2,"div",12)(3,"div",13),ke(4,"pdf-viewer",14),d(5,"div",15)(6,"h5"),ke(7,"i",16),b(8),f()()()()(),d(9,"div",17)(10,"div",12)(11,"div",18)(12,"div",19)(13,"div",20)(14,"div",21)(15,"h3",22),b(16),f(),d(17,"h5"),b(18),f(),d(19,"p"),b(20),f()()()(),d(21,"span"),ke(22,"i",23),b(23),_n(24,"date"),f(),ke(25,"br"),d(26,"div",24)(27,"button",25),Fe("click",function(){return Qt(t),Xt(Re().download())}),b(28),ke(29,"i",26),f()()()()()()}if(2&e){const t=Re();$(4),me("src",t.pdfSrc)("render-text",!0)("original-size",!1),$(4),Qe(t.document.fileName),$(8),Qe(t.appointment.description),$(2),Qe(t.intervention.type),$(2),Qe(t.appointment.additionalNote),$(3),Qe(function SS(e,n,t){const i=e+Rt,r=$e(),s=Zl(r,i);return Yu(r,i)?CS(r,dr(),n,s.transform,t,s):s.transform(t)}(24,9,t.intervention.interventionDate)),$(5),Qe(t.document.fileName)}}function fte(e,n){if(1&e&&(d(0,"div",3)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h3"),b(5," La intervenci\xf3n con informe:"),f(),ke(6,"br")(7,"br"),d(8,"p"),b(9),f(),d(10,"h3"),ke(11,"br"),b(12,"no tiene documentos adjuntos"),f()()()()()),2&e){const t=Re();$(9),qt("",t.intervention.type,",")}}function gte(e,n){if(1&e&&(d(0,"option",33),b(1),f()),2&e){const t=n.$implicit;me("value",t.nameIntervention),$(),Qe(t.nameIntervention)}}function mte(e,n){if(1&e&&(Uc(0),d(1,"optgroup",31),ze(2,gte,2,2,"option",32),f(),jc()),2&e){const t=n.$implicit,i=Re();$(),Za("label",t),$(),me("ngForOf",i.groupedDescriptions[t])}}function _te(e,n){if(1&e&&(d(0,"option",34),b(1),f()),2&e){const t=n.$implicit;Za("ngValue",t.name),$(),qt("Dr. ",t.name,"")}}function yte(e,n){1&e&&(d(0,"div")(1,"p"),b(2,"No hay resultados coincidentes"),f()())}function bte(e,n){if(1&e){const t=Sn();d(0,"td")(1,"div",37)(2,"input",50),Fe("click",function(){Qt(t);const r=Re().$implicit;return Xt(Re(2).changeStatus(r.id))})("ngModelChange",function(r){return Qt(t),Xt(Re().$implicit.completed=r)}),f()()()}if(2&e){const t=Re().$implicit;$(2),me("ngModel",t.completed)}}function wte(e,n){if(1&e&&(d(0,"td",51)(1,"a",52),ke(2,"img",53),b(3),f()()),2&e){const t=Re().$implicit,i=Re(2);$(),Tn("routerLink","/profile/",t.user.id,""),$(),me("src",i.profileAvatarUrls[t.user.id],os),$(),qt(" ",t.user.name,"")}}function Cte(e,n){if(1&e&&(d(0,"td"),b(1),f()),2&e){const t=Re().$implicit;$(),Qe(t.user.lastName)}}function xte(e,n){if(1&e&&(d(0,"td"),b(1),f()),2&e){const t=Re().$implicit;$(),Qe(t.user.username)}}function Ete(e,n){if(1&e&&(d(0,"td"),b(1),f()),2&e){const t=Re().$implicit;$(),Qe(t.description)}}function Ate(e,n){if(1&e&&(d(0,"td"),b(1),_n(2,"date"),f()),2&e){const t=Re().$implicit;$(),Qe(Di(2,1,t.bookDate,"dd/MM/YYYY"))}}function Dte(e,n){if(1&e&&(d(0,"td"),b(1),_n(2,"slice"),f()),2&e){const t=Re().$implicit;$(),Qe(hs(2,1,t.fromDate,0,5))}}function Ste(e,n){if(1&e&&(d(0,"td"),b(1),_n(2,"slice"),f()),2&e){const t=Re().$implicit;$(),Qe(hs(2,1,t.toDate,0,5))}}function Tte(e,n){if(1&e){const t=Sn();d(0,"td",54)(1,"div",55)(2,"a",56),ke(3,"i",57),f(),d(4,"div",58)(5,"a",59),ke(6,"i",60),b(7," Editar cita"),f(),d(8,"a",61),Fe("click",function(){Qt(t);const r=Re().$implicit;return Xt(Re(2).showModalDelete(r.id))}),ke(9,"i",62),b(10," Eliminar cita"),f(),d(11,"a",61),Fe("click",function(){Qt(t);const r=Re().$implicit;return Xt(Re(2).addIntervention(r.id))}),ke(12,"i",63),b(13," A\xf1adir intervenci\xf3n"),f()()()()}if(2&e){const t=Re().$implicit;$(5),Tn("routerLink","/edit-appointment/",t.id,"")}}function Mte(e,n){if(1&e&&(d(0,"tr"),ze(1,bte,3,1,"td",33)(2,wte,4,3,"td",48)(3,Cte,2,1,"td",33)(4,xte,2,1,"td",33)(5,Ete,2,1,"td",33)(6,Ate,3,4,"td",33)(7,Dte,3,5,"td",33)(8,Ste,3,5,"td",33)(9,Tte,14,1,"td",49),f()),2&e){const t=n.$implicit;$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed)}}const Ite=e=>({itemsPerPage:5,currentPage:e});function kte(e,n){if(1&e){const t=Sn();d(0,"div",34)(1,"table",35)(2,"thead")(3,"tr")(4,"th",36)(5,"div",37),ke(6,"input",38),f()(),d(7,"th",39),b(8,"Nombre"),f(),d(9,"th",40),b(10,"Apellidos"),f(),d(11,"th",41),b(12,"DNI"),f(),d(13,"th",42),b(14,"Motivo"),f(),d(15,"th",43),b(16,"D\xeda"),f(),d(17,"th",44),b(18,"Hora inicio"),f(),d(19,"th",45),b(20,"Hora fin"),f(),ke(21,"th"),f()(),d(22,"tbody"),ze(23,yte,3,0,"div",33)(24,Mte,10,9,"tr",46),_n(25,"paginate"),f()(),d(26,"pagination-controls",47),Fe("pageChange",function(r){return Qt(t),Xt(Re().page=r)}),f()()}if(2&e){const t=Re();$(23),me("ngIf",t.noResults),$(),me("ngForOf",Di(25,2,t.appointmentList,zr(5,Ite,t.page)))}}function Ote(e,n){1&e&&(d(0,"div",64)(1,"div",65)(2,"span",66),b(3,"Loading..."),f()(),d(4,"div",67)(5,"span",66),b(6,"Loading..."),f()(),d(7,"div",68)(8,"span",66),b(9,"Loading..."),f()(),d(10,"div",69)(11,"span",66),b(12,"Loading..."),f()(),d(13,"div",70)(14,"span",66),b(15,"Loading..."),f()(),d(16,"div",71)(17,"span",66),b(18,"Loading..."),f()(),d(19,"div",72)(20,"span",66),b(21,"Loading..."),f()(),d(22,"div",73)(23,"span",66),b(24,"Loading..."),f()()())}function Rte(e,n){1&e&&ke(0,"div")}function Pte(e,n){if(1&e&&(d(0,"tr")(1,"td")(2,"div",28),ke(3,"input",29),f()(),d(4,"td",35)(5,"a",36),ke(6,"img",37),b(7),f()(),d(8,"td"),b(9),f(),d(10,"td"),b(11),f(),d(12,"td",38)(13,"div",39)(14,"a",40),ke(15,"i",41),f(),d(16,"div",42)(17,"a",43),ke(18,"i",44),b(19," Dar cita"),f()()()()()),2&e){const t=n.$implicit,i=Re(2);$(5),Tn("routerLink","/add-appointment/",t.id,""),$(),me("src",i.profileAvatarUrls[t.id],os),$(),qt(" ",t.name,""),$(2),Qe(t.lastName),$(2),Qe(t.username),$(6),Tn("routerLink","/add-appointment/",t.id,"")}}const Fte=e=>({itemsPerPage:5,currentPage:e});function Lte(e,n){if(1&e){const t=Sn();d(0,"div",25)(1,"table",26)(2,"thead")(3,"tr")(4,"th",27)(5,"div",28),ke(6,"input",29),f()(),d(7,"th",30),b(8,"Nombre"),f(),d(9,"th",31),b(10,"Apellidos"),f(),d(11,"th",32),b(12,"DNI"),f(),ke(13,"th"),f()(),d(14,"tbody"),ze(15,Pte,20,6,"tr",33),_n(16,"paginate"),f()(),d(17,"pagination-controls",34),Fe("pageChange",function(r){return Qt(t),Xt(Re().page=r)}),f()()}if(2&e){const t=Re();$(15),me("ngForOf",Di(16,1,t.patientsList,zr(4,Fte,t.page)))}}function Bte(e,n){1&e&&(d(0,"div",45)(1,"div",46)(2,"span",47),b(3,"Loading..."),f()(),d(4,"div",48)(5,"span",47),b(6,"Loading..."),f()(),d(7,"div",49)(8,"span",47),b(9,"Loading..."),f()(),d(10,"div",50)(11,"span",47),b(12,"Loading..."),f()(),d(13,"div",51)(14,"span",47),b(15,"Loading..."),f()(),d(16,"div",52)(17,"span",47),b(18,"Loading..."),f()(),d(19,"div",53)(20,"span",47),b(21,"Loading..."),f()(),d(22,"div",54)(23,"span",47),b(24,"Loading..."),f()()())}function Ute(e,n){if(1&e&&(d(0,"option",39),b(1),f()),2&e){const t=n.$implicit;Za("ngValue",t.name),$(),qt("Dr. ",t.name,"")}}function Hte(e,n){if(1&e&&(d(0,"a",30),b(1),f()),2&e){const t=Re(2).$implicit;Tn("routerLink","add-intervention/",t.id,""),$(),Qe(t.description)}}function Gte(e,n){if(1&e&&(d(0,"a",30),b(1),f()),2&e){const t=Re(2).$implicit;Tn("routerLink","/edit-appointment/",t.id,""),$(),Qe(t.description)}}function $te(e,n){if(1&e&&(d(0,"td"),ze(1,Hte,2,2,"a",29)(2,Gte,2,2,"a",29),f()),2&e){const t=Re(2);$(),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor()),$(),me("ngIf",!t.authService.isAdmin()||t.authService.isDoctor())}}function Wte(e,n){if(1&e&&(d(0,"td"),b(1),_n(2,"date"),f()),2&e){const t=Re().$implicit;$(),Qe(Di(2,1,t.bookDate,"dd/MM/YYYY"))}}function zte(e,n){if(1&e&&(d(0,"td"),b(1),_n(2,"slice"),f()),2&e){const t=Re().$implicit;$(),Qe(hs(2,1,t.fromDate,0,5))}}function qte(e,n){if(1&e&&(d(0,"td"),b(1),_n(2,"slice"),f()),2&e){const t=Re().$implicit;$(),Qe(hs(2,1,t.toDate,0,5))}}function Yte(e,n){if(1&e&&(d(0,"div",33)(1,"a",34),ke(2,"i",35),f(),d(3,"div",36)(4,"a",37),ke(5,"i",38),b(6," Editar cita"),f(),d(7,"a",39),ke(8,"i",40),b(9," Eliminar cita"),f()()()),2&e){const t=Re(2).$implicit;$(4),Tn("routerLink","/edit-appointment/",t.id,"")}}function Kte(e,n){if(1&e&&(d(0,"td",31),ze(1,Yte,10,1,"div",32),f()),2&e){const t=Re(2);$(),me("ngIf",t.authService.isAdmin()||t.authService.isDoctor())}}function Qte(e,n){if(1&e&&(d(0,"tr"),ze(1,$te,3,2,"td",27)(2,Wte,3,4,"td",27)(3,zte,3,5,"td",27)(4,qte,3,5,"td",27)(5,Kte,2,1,"td",28),f()),2&e){const t=n.$implicit;$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed),$(),me("ngIf",!t.completed)}}function Zte(e,n){if(1&e&&(d(0,"div"),b(1),f()),2&e){const t=Re();$(),Qe(t.selectedFileName)}}function ene(e,n){if(1&e&&(d(0,"div"),b(1),f()),2&e){const t=Re();$(),Qe(t.selectedFileName)}}function nne(e,n){1&e&&(d(0,"div",20),b(1," El campo de correo electr\xf3nico no puede estar vac\xedo. "),f())}function ine(e,n){1&e&&(d(0,"div",21),b(1," No se encontr\xf3 una cuenta asociada a este correo electr\xf3nico. "),f())}function sne(e,n){1&e&&(d(0,"div",45),b(1," El tel\xe9fono debe tener 9 caracteres. "),f())}function one(e,n){1&e&&(d(0,"div",45),b(1," El DNI debe tener 9 caracteres. "),f())}function ane(e,n){1&e&&(d(0,"div",45),b(1," El formato del correo electr\xf3nico es incorrecto. "),f())}const cne=k0.forRoot([{path:"dashboard",component:qX},{path:"auth",component:GR},{path:"profile",component:rte},{path:"profile/:id",component:CJ},{path:"editprofile/:id",component:AN},{path:"editprofile",component:AN},{path:"patient-list",component:Fee},{path:"add-patient",component:Uee},{path:"edit-patient/:id",component:jee},{path:"documents/user/:idUser",component:ste},{path:"documents/:idIntervention",component:(()=>{class e{constructor(t,i,r,s){this.documentService=t,this.interventionService=i,this.activatedRoute=r,this.appointmentService=s}ngOnInit(){this.interventionId=this.activatedRoute.snapshot.params.idIntervention,this.interventionService.getIntervention(this.interventionId).subscribe(t=>this.intervention=t),this.appointmentService.getAppointmentByInterventionId(this.interventionId).subscribe(t=>this.appointment=t),this.interventionService.getDocumentByIntervention(this.interventionId).subscribe(t=>{if(this.document=t,console.log(t),t.file instanceof Uint8Array)this.pdfSrc=t.file;else if("string"==typeof t.file){const i=atob(t.file),r=new Uint8Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);this.pdfSrc=r}else console.error('El campo "file" no es un array de bytes o una cadena Base64')},t=>{console.error("Error al obtener el documento PDF",t)})}back(){window.history.back()}download(){this.documentService.downloadDocument(this.document.id).subscribe(t=>{const i=document.createElement("a");i.href=window.URL.createObjectURL(t),i.download=this.document.fileName,i.click()})}static#e=this.\u0275fac=function(i){return new(i||e)(X(Fw),X(wl),X(Ji),X(jo))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-documents-of-intervention"]],decls:15,vars:2,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[2,"cursor","pointer",3,"click"],[1,"feather","icon","icon-chevron-right"],[1,"breadcrumb-item","active"],["class","row",4,"ngIf"],[1,"col-lg-8"],[1,"blog","grid-blog"],[1,"blog-image"],[2,"width","100%","height","500px",3,"src","render-text","original-size"],[1,"blog-views"],[1,"feather","icon-eye","me-1"],[1,"col-md-6","col-lg-4"],[1,"blog-content"],[1,"blog-grp-blk"],[1,"blog-img-blk"],[1,"content-blk-blog","ms-2"],[1,"blog-title"],[1,"feather","icon-calendar","me-1"],[1,"d-grid"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-long-arrow-down","ms-2"],[1,"col"],[1,"card"],[1,"card-body"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),Fe("click",function(){return r.back()}),b(8,"Mi perfil "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Documento"),f()()()()(),ze(13,hte,30,11,"div",10)(14,fte,13,1,"div",10),f()()),2&i&&($(13),me("ngIf",null!=r.document),$(),me("ngIf",!r.document))},dependencies:[jn,dte,il],encapsulation:2})}return e})()},{path:"add-appointment/:id",component:(()=>{class e{constructor(t,i,r,s){this.router=t,this.activatedRoute=i,this.userService=r,this.appointmentService=s,this.description="",this.additionalNote="",this.isAdmin=!1,this.doctorName="",this.groupedDescriptions={}}ngOnInit(){this.userId=this.activatedRoute.snapshot.params.id,this.userService.getUser(this.userId).subscribe(t=>{this.user=t}),this.userService.getMe().subscribe(t=>{this.userMe=t,this.userService.checkAdmin(this.userMe.id).subscribe(i=>{this.isAdmin=i}),this.getDoctorList(this.userMe)}),this.appointmentService.getAllDescriptions().subscribe(t=>{this.descriptionList=t,this.groupDescriptions()})}groupDescriptions(){this.descriptionList.forEach(t=>{const i=t.nameDescription;this.groupedDescriptions[i]||(this.groupedDescriptions[i]=[]),this.groupedDescriptions[i].push(t)})}objectKeys(t){return Object.keys(t)}getDoctorList(t){this.userService.getUserList().subscribe(i=>{this.doctorList=i.filter(r=>r.roles.length>=1&&r.roles.includes("DOCTOR")&&r.codEntity==t.codEntity)})}addAppointment(){const t={bookDate:this.bookDate,fromDate:this.fromDate,toDate:this.toDate,description:this.description,additionalNote:this.additionalNote,doctorAsignated:this.doctorAsignated};this.bookDate&&this.fromDate&&this.toDate&&this.description&&this.doctorAsignated?this.appointmentService.checkAppointmentAvailability(this.doctorAsignated.id,this.bookDate,this.fromDate,this.toDate).subscribe(i=>{i?this.appointmentService.bookAppointment(t,this.userId).subscribe(r=>{hn().fire("Cita creada","","success"),this.isAdmin?window.history.back():this.router.navigate(["/dashboard"])},r=>{hn().fire("Algo ha ocurrido, vuelva a intentarlo","","error"),console.error("error"),this.router.navigate(["/error-page"])}):hn().fire("Ya existe una cita en este horario para este doctor","","warning")}):hn().fire("Debe rellenar todos los campos","","warning")}onDescriptionChange(){if(!this.fromDate)return void hn().fire("Seleccione la hora de inicio","","warning");const t=this.fromDate.split(":"),i=new Date;i.setHours(parseInt(t[0],10),parseInt(t[1],10),0,0);let r=this.descriptionList.find(s=>s.nameIntervention===this.description);if(r&&r.timeToIntervention){const s=r.timeToIntervention,o=s.split(":"),a=parseInt(o[0],10),l=parseInt(o[1],10);isNaN(a)||isNaN(l)?console.error("Invalid timeToIntervention format:",s):(i.setHours(i.getHours()+a),i.setMinutes(i.getMinutes()+l))}this.toDate=i.getHours().toString().padStart(2,"0")+":"+i.getMinutes().toString().padStart(2,"0")}onDoctorChange(){this.userService.getUserByName(this.doctorName).subscribe(t=>{this.doctorAsignated=t})}back(){window.history.back()}static#e=this.\u0275fac=function(i){return new(i||e)(X(ui),X(Ji),X(qi),X(jo))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-add-appointment"]],decls:122,vars:17,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["type","text",1,"form-control","floating"],[1,"col-12","col-md-6","col-xl-6"],[1,"col-12","col-md-12","col-xl-6"],[1,"col-12","col-sm-12"],["type","date","name","bookDate","required","",1,"form-control","datetimepicker",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-3"],["type","time","name","fromDate","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","time","name","toDate","required","","readonly","","disabled","",1,"form-control",3,"ngModel"],["name","description","required","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["name","doctorName","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["rows","3","cols","30","name","additionalNote",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form",3,"click"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngValue"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),b(7,"Dar cita"),f()()()()(),d(8,"div",3)(9,"div",4)(10,"div",7)(11,"div",8)(12,"form")(13,"div",3)(14,"div",9)(15,"div",10)(16,"h4"),b(17,"Detalles del paciente"),f()()(),d(18,"div",11)(19,"div",12)(20,"label"),b(21,"Nombre "),d(22,"span",13),b(23,"*"),f()(),d(24,"span",14),b(25),f()()(),d(26,"div",11)(27,"div",12)(28,"label"),b(29,"Apellidos "),d(30,"span",13),b(31,"*"),f()(),d(32,"span",14),b(33),f()()(),d(34,"div",11)(35,"div",12)(36,"label"),b(37,"G\xe9nero "),d(38,"span",13),b(39,"*"),f()(),d(40,"span",14),b(41),f()()(),d(42,"div",15)(43,"div",12)(44,"label"),b(45,"Tel\xe9fono "),d(46,"span",13),b(47,"*"),f()(),d(48,"span",14),b(49),f()()(),d(50,"div",16)(51,"div",12)(52,"label"),b(53,"Correo electr\xf3nico "),d(54,"span",13),b(55,"*"),f()(),d(56,"span",14),b(57),f()()(),d(58,"div",17)(59,"div",12)(60,"label"),b(61,"Direcci\xf3n "),d(62,"span",13),b(63,"*"),f()(),d(64,"span",14),b(65),f()()(),d(66,"div",9)(67,"div",10)(68,"h4"),b(69,"Detalles de la cita"),f()()(),d(70,"div",15)(71,"div",12)(72,"label"),b(73,"D\xeda "),d(74,"span",13),b(75,"*"),f()(),d(76,"input",18),Fe("ngModelChange",function(o){return r.bookDate=o}),f()()(),d(77,"div",19)(78,"div",12)(79,"label"),b(80,"Desde "),d(81,"span",13),b(82,"*"),f()(),d(83,"input",20),Fe("ngModelChange",function(o){return r.fromDate=o}),f()()(),d(84,"div",19)(85,"div",12)(86,"label"),b(87,"Hasta "),d(88,"span",13),b(89,"*"),f()(),ke(90,"input",21),f()(),d(91,"div",15)(92,"div",12)(93,"label"),b(94,"Motivo "),d(95,"span",13),b(96,"*"),f()(),d(97,"select",22),Fe("ngModelChange",function(o){return r.description=o})("ngModelChange",function(){return r.onDescriptionChange()}),d(98,"option",23),b(99,"Seleccione un motivo"),f(),ze(100,mte,3,2,"ng-container",24),f()()(),d(101,"div",16)(102,"div",12)(103,"label"),b(104,"Doctor "),d(105,"span",13),b(106,"*"),f()(),d(107,"select",25),Fe("ngModelChange",function(o){return r.doctorName=o})("ngModelChange",function(){return r.onDoctorChange()}),d(108,"option",23),b(109,"Seleccione un doctor"),f(),ze(110,_te,2,2,"option",26),f()()(),d(111,"div",17)(112,"div",12)(113,"label"),b(114,"Nota adicional"),f(),d(115,"textarea",27),Fe("ngModelChange",function(o){return r.additionalNote=o}),f()()(),d(116,"div",9)(117,"div",28)(118,"button",29),Fe("click",function(){return r.addAppointment()}),b(119,"A\xf1adir"),f(),d(120,"button",30),Fe("click",function(){return r.back()}),b(121,"Cancelar"),f()()()()()()()()()()()),2&i&&($(25),Qe(r.user.name),$(8),Qe(r.user.lastName),$(8),Qe(r.user.gender),$(8),Qe(r.user.phone),$(8),Qe(r.user.email),$(8),la("",r.user.address,", ",r.user.city,", ",r.user.postalCode,", ",r.user.country,""),$(11),me("ngModel",r.bookDate),$(7),me("ngModel",r.fromDate),$(7),me("ngModel",r.toDate),$(7),me("ngModel",r.description),$(3),me("ngForOf",r.objectKeys(r.groupedDescriptions)),$(7),me("ngModel",r.doctorName),$(3),me("ngForOf",r.doctorList),$(5),me("ngModel",r.additionalNote))},dependencies:[$i,xa,cm,dm,Sr,pd,ws,Ca,Vo,Rs,fo],encapsulation:2})}return e})()},{path:"appointment-list",component:(()=>{class e{constructor(t,i,r,s){this.router=t,this.appointmentService=i,this.userService=r,this.utilService=s,this.loading=!1,this.control=new Mh,this.noResults=!1,this.selectedDay="",this.originalAppointmentList=[],this.appointmentList=[],this.profileAvatarUrls=[],this.isCompleted=!1}ngOnInit(){this.showingAllAppointments=!1,this.userService.getMe().subscribe(t=>{this.doctorAsignated=t.id,this.codEntity=t.codEntity,this.getAllAppointmentsByDoctor(this.doctorAsignated,this.codEntity)}),this.observerChangeSearch()}getAllAppointments(){this.loading=!0,this.appointmentService.getAllAppointmentsByCodEntity(this.codEntity).subscribe(t=>{this.originalAppointmentList=t,this.appointmentList=[...t],this.appointmentList.forEach(i=>{this.userService.getProfileAvatar(i.user.id).subscribe(r=>{const s=URL.createObjectURL(r);this.profileAvatarUrls[i.user.id]=s})}),this.loading=!1})}getAllAppointmentsByDoctor(t,i){this.loading=!0,this.appointmentService.getAllAppointments().subscribe(r=>{this.originalAppointmentList=r.filter(s=>(s.user&&s.user.doctorAsignated&&s.user.doctorAsignated.id===t||s.doctorAsignated&&s.doctorAsignated.id===t)&&s.user&&s.user.codEntity===i),this.appointmentList=[...this.originalAppointmentList],this.appointmentList.forEach(s=>{s.user&&s.user.id&&this.userService.getProfileAvatar(s.user.id).subscribe(o=>{const a=URL.createObjectURL(o);this.profileAvatarUrls[s.user.id]=a})}),this.loading=!1})}observerChangeSearch(){this.control.valueChanges.pipe(Al(500),Ri(t=>(this.loading=!0,0===t.trim().length?(this.noResults=!1,this.appointmentService.getAllAppointments()):(this.noResults=!1,this.appointmentService.findAppointmentsByUserDetails(t))))).subscribe(t=>{0===t.length&&(this.noResults=!0),this.appointmentList=t,this.loading=!1})}changeStatus(t){hn().fire({title:"\xbfSeguro/a que se ha completado este evento?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Completar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed?(this.isCompleted=!this.isCompleted,console.log(this.isCompleted),this.appointmentService.updateAppointment(t,this.isCompleted).subscribe(r=>{hn().fire("Cita completada","","success"),this.ngOnInit(),this.ngOnInit()},r=>{hn().fire("La cita no se ha podido actualizar","","error"),this.ngOnInit(),this.ngOnInit()})):i.isDenied&&this.ngOnInit()})}deleteAppointment(t){this.appointmentService.deleteAppointment(t).subscribe(),this.ngOnInit(),console.log("Cita eliminada")}addIntervention(t){this.appointmentService.getAppointment(t).subscribe(i=>{this.router.navigate(["appointment-list/"+i.user.id+"/add-intervention/"+t])})}reload(){window.location.reload()}exportPDF(){this.utilService.exportAppointmentsPDF().subscribe(t=>{const i=new Blob([t],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download="Citas_"+qh(Date.now(),"yyyy-MM-dd")+".pdf",r.click()})}filterAppointmentsByDay(){this.appointmentList=this.selectedDay?this.originalAppointmentList.filter(t=>t.bookDate===this.selectedDay):this.originalAppointmentList}showModalDelete(t){hn().fire({title:"Vas a eliminar la cita",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Eliminar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.deleteAppointment(t),hn().fire("Eliminado","","success"),this.ngOnInit())})}togglePatientView(){this.showingAllAppointments?this.getAllAppointmentsByDoctor(this.doctorAsignated,this.codEntity):this.getAllAppointments(),this.showingAllAppointments=!this.showingAllAppointments}static#e=this.\u0275fac=function(i){return new(i||e)(X(ui),X(jo),X(qi),X(Hh))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-appointment"]],decls:43,vars:6,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["type","text","placeholder","Buscar paciente",1,"form-control",3,"formControl"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],[1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],["for","selectedDay",2,"margin-left","10px"],[2,"margin-left","10px"],["type","date","id","selectedDay",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"btn","btn2","ms-2",3,"click"],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],[1,"me-2",2,"cursor","pointer",3,"click"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["class","table-responsive",4,"ngIf"],["fxLayoutAlign","center",4,"ngIf"],[4,"ngIf"],[1,"table-responsive"],[1,"table","border-0","custom-table","comman-table","datatable","mb-0"],["mat-sort-header","checkbox"],[1,"form-check","check-tables"],["type","checkbox","value","isCompleted",1,"form-check-input"],["mat-sort-header","name"],["mat-sort-header","lastName"],["mat-sort-header","dni"],["mat-sort-header","reason"],["mat-sort-header","bookDate"],["mat-sort-header","fromDate"],["mat-sort-header","toDate"],[4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],["class","profile-image",4,"ngIf"],["class","text-end",4,"ngIf"],["type","checkbox","value","true",1,"form-check-input",3,"ngModel","click","ngModelChange"],[1,"profile-image"],[3,"routerLink"],["width","28","height","28","alt","",1,"rounded-circle","m-r-5",3,"src"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["data-bs-toggle","modal","data-bs-target","#delete_patient",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],[1,"fa-solid","fa-pen-alt","m-r-5"],["fxLayoutAlign","center"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-light"],["role","status",1,"spinner-grow","text-dark"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Inicio "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Lista de citas"),f()()()()(),d(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),b(22,"Lista de citas"),f(),d(23,"div",16)(24,"div",17),ke(25,"input",18),d(26,"a",19),ke(27,"img",20),f()(),d(28,"div",21)(29,"a",22),Fe("click",function(){return r.reload()}),ke(30,"img",23),f()(),d(31,"label",24),b(32,"Seleccionar d\xeda:"),f(),d(33,"div",25)(34,"input",26),Fe("ngModelChange",function(o){return r.selectedDay=o})("change",function(){return r.filterAppointmentsByDay()}),f()(),d(35,"a",27),Fe("click",function(){return r.togglePatientView()}),b(36),f()()()(),d(37,"div",28)(38,"a",29),Fe("click",function(){return r.exportPDF()}),ke(39,"img",30),f()()()(),ze(40,kte,27,7,"div",31)(41,Ote,25,0,"div",32)(42,Rte,1,0,"div",33),f()()()()()()),2&i&&($(25),me("formControl",r.control),$(9),me("ngModel",r.selectedDay),$(2),qt(" ",r.showingAllAppointments?"Mostrar mis pacientes":"Mostrar todos los pacientes"," "),$(4),me("ngIf",!r.loading),$(),me("ngIf",r.loading),$(),me("ngIf",!r.loading))},dependencies:[$i,jn,hi,Sr,P0,ws,Rs,Ih,Lm,Sd,Qc,il,Dd],encapsulation:2})}return e})()},{path:"add-appointment",component:(()=>{class e{constructor(t){this.patientService=t,this.loading=!1,this.patientsList=[],this.profileAvatarUrls=[],this.noResults=!1,this.control=new Mh}ngOnInit(){this.showingAllUsers=!1,this.patientService.getMe().subscribe(t=>{this.doctorAsignated=t.id,this.codEntity=t.codEntity,this.getAllUsersByDoctor(this.doctorAsignated,this.codEntity)}),this.observerChangeSearch()}getAllUsers(){this.loading=!0,this.patientService.getUsersByCodEntity(this.codEntity).subscribe(t=>{this.patientsList=t.filter(i=>1===i.roles.length&&i.roles.includes("USER")),xh(this.patientsList.map(i=>this.patientService.getProfileAvatar(i.id).pipe(Ri(r=>{const s=URL.createObjectURL(r);return this.profileAvatarUrls[i.id]=s,_t(i)})))).subscribe(()=>{this.loading=!1},i=>{console.error("Error:",i),this.loading=!1})})}getAllUsersByDoctor(t,i){this.loading=!0,this.patientService.getUserListByDoctor(t).subscribe(r=>{this.patientsList=r.filter(s=>1===s.roles.length&&s.roles.includes("USER")&&s.codEntity===i),xh(this.patientsList.map(s=>this.patientService.getProfileAvatar(s.id).pipe(Ri(o=>{const a=URL.createObjectURL(o);return this.profileAvatarUrls[s.id]=a,_t(s)})))).subscribe(()=>{this.loading=!1},s=>{console.error("Error:",s),this.loading=!1})})}togglePatientView(){this.showingAllUsers?this.getAllUsersByDoctor(this.doctorAsignated,this.codEntity):this.getAllUsers(),this.showingAllUsers=!this.showingAllUsers}observerChangeSearch(){this.control.valueChanges.pipe(Al(500),Ri(t=>(this.loading=!0,0===t.trim().length?(this.noResults=!1,this.showingAllUsers?this.patientService.getUserList().pipe(dt(i=>i.filter(r=>1===r.roles.length&&r.roles.includes("USER")))):this.patientService.getUserListByDoctor(this.doctorAsignated).pipe(dt(i=>i.filter(r=>1===r.roles.length&&r.roles.includes("USER"))))):(this.noResults=!1,this.patientService.getUsersByNameOrLastNameOrUsername(t))))).subscribe(t=>{0===t.length&&(this.noResults=!0),this.patientsList=t,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||e)(X(qi))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-add-appointment-main"]],decls:33,vars:4,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["type","text","placeholder","Buscar paciente",1,"form-control",3,"formControl"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],[1,"btn","btn2","ms-2",3,"click"],["class","table-responsive",4,"ngIf"],["fxLayoutAlign","center",4,"ngIf"],[1,"table-responsive"],[1,"table","border-0","custom-table","comman-table","datatable","mb-0"],["mat-sort-header","checkbox"],[1,"form-check","check-tables"],["type","checkbox","value","something",1,"form-check-input"],["mat-sort-header","name"],["mat-sort-header","lastName"],["mat-sort-header","dni"],[4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"profile-image"],[3,"routerLink"],["width","28","height","28","alt","",1,"rounded-circle","m-r-5",3,"src"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["fxLayoutAlign","center"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-light"],["role","status",1,"spinner-grow","text-dark"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Inicio "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Citaci\xf3n"),f()()()()(),d(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),b(22,"Lista de pacientes"),f(),d(23,"div",16)(24,"div",17),ke(25,"input",18),d(26,"a",19),ke(27,"img",20),f()(),d(28,"div",21)(29,"a",22),Fe("click",function(){return r.togglePatientView()}),b(30),f()()()()()()(),ze(31,Lte,18,6,"div",23)(32,Bte,25,0,"div",24),f()()()()()()),2&i&&($(25),me("formControl",r.control),$(5),qt(" ",r.showingAllUsers?"Mostrar mis pacientes":"Mostrar todos los pacientes"," "),$(),me("ngIf",!r.loading),$(),me("ngIf",r.loading))},dependencies:[$i,jn,hi,Sr,ws,Ih,Lm,Sd,Dd],encapsulation:2})}return e})()},{path:"edit-appointment/:id",component:(()=>{class e{constructor(t,i,r){this.activatedRoute=t,this.userService=i,this.appointmentService=r,this.description="",this.additionalNote="",this.doctorName=""}ngOnInit(){this.appointmentId=this.activatedRoute.snapshot.params.id,console.log(this.appointmentId),this.appointmentService.getAppointment(this.appointmentId).subscribe(t=>{this.appointment=t,this.description=t.description,this.userService.getUser(this.appointment.user.id).subscribe(i=>{this.user=i})}),this.getDoctorList(),this.onDescriptionChange()}getDoctorList(){this.userService.getUserList().subscribe(t=>{this.doctorList=t.filter(i=>1===i.roles.length&&i.roles.includes("DOCTOR"))})}confirmEdit(){hn().fire({title:"\xbfEsta seguro/a de actualizar los cambios?",showDenyButton:!1,showCancelButton:!0,confirmButtonText:"Actualizar",denyButtonText:"Cancelar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(null==this.bookDate||null==this.fromDate||null==this.toDate?hn().fire("Debe completar todos los campos no rellenados","","warning"):(this.appointment&&(this.bookDate&&(this.appointment.bookDate=this.bookDate),this.fromDate&&(this.appointment.fromDate=this.fromDate),this.toDate&&(this.appointment.toDate=this.toDate),this.description&&(this.appointment.description=this.description),this.additionalNote&&(this.appointment.additionalNote=this.additionalNote),this.doctorAsignated&&(this.appointment.doctorAsignated=this.doctorAsignated),this.appointmentService.updateFullAppointment(this.appointment).subscribe(i=>{console.log(this.appointment),this.ngOnInit(),window.history.back()})),hn().fire("Cita editada","","success")))})}onDescriptionChange(){if(!this.fromDate)return;const t=new Date(1970,0,1,parseInt(this.fromDate.substr(0,2)),parseInt(this.fromDate.substr(3,2)));switch(this.description){case"Mantenimiento y Prevenci\xf3n":case"Otros":t.setMinutes(t.getMinutes()+30);break;case"Problemas Comunes y Tratamientos de Rutina":case"Ortodoncia y Est\xe9tica Dental":case"Procedimientos Quir\xfargicos y Restauradores":case"Problemas Espec\xedficos y Emergencias":t.setMinutes(t.getMinutes()+45)}this.toDate=t.toTimeString().substr(0,5)}onDoctorChange(){this.userService.getUserByName(this.doctorName).subscribe(t=>{this.doctorAsignated=t})}back(){window.history.back()}static#e=this.\u0275fac=function(i){return new(i||e)(X(Ji),X(qi),X(jo))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-edit-appointment"]],decls:140,vars:16,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/appointment-list"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["type","text",1,"form-control","floating"],[1,"col-12","col-md-6","col-xl-6"],[1,"col-12","col-sm-12"],["type","date","name","bookDate","required","",1,"form-control","datetimepicker",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-3"],["type","time","name","fromDate","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","time","name","toDate","required","","readonly","","disabled","",1,"form-control",3,"ngModel"],["name","description","required","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Mantenimiento y Prevenci\xf3n"],["value","Problemas Comunes y Tratamientos de Rutina"],["value","Ortodoncia y Est\xe9tica Dental"],["value","Procedimientos Quir\xfargicos y Restauradores"],["value","Problemas Espec\xedficos y Emergencias"],["value","Otros"],[1,"col-12","col-md-12","col-xl-6"],["name","doctorName","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["rows","3","cols","30","name","additionalNote",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form",3,"click"],[3,"ngValue"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Lista de citas "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Editar cita"),f()()()()(),d(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),b(22,"Detalles del paciente"),f()()(),d(23,"div",14)(24,"div",15)(25,"label"),b(26,"Nombre "),d(27,"span",16),b(28,"*"),f()(),d(29,"span",17),b(30),f()()(),d(31,"div",14)(32,"div",15)(33,"label"),b(34,"Apellidos "),d(35,"span",16),b(36,"*"),f()(),d(37,"span",17),b(38),f()()(),d(39,"div",14)(40,"div",15)(41,"label"),b(42,"G\xe9nero "),d(43,"span",16),b(44,"*"),f()(),d(45,"span",17),b(46),f()()(),d(47,"div",18)(48,"div",15)(49,"label"),b(50,"Tel\xe9fono "),d(51,"span",16),b(52,"*"),f()(),d(53,"span",17),b(54),f()()(),d(55,"div",18)(56,"div",15)(57,"label"),b(58,"Correo electr\xf3nico "),d(59,"span",16),b(60,"*"),f()(),d(61,"span",17),b(62),f()()(),d(63,"div",19)(64,"div",15)(65,"label"),b(66,"Direcci\xf3n "),d(67,"span",16),b(68,"*"),f()(),d(69,"span",17),b(70),f()()(),d(71,"div",12)(72,"div",13)(73,"h4"),b(74,"Detalles de la cita"),f()()(),d(75,"div",18)(76,"div",15)(77,"label"),b(78,"D\xeda "),d(79,"span",16),b(80,"*"),f()(),d(81,"input",20),Fe("ngModelChange",function(o){return r.bookDate=o}),f()()(),d(82,"div",21)(83,"div",15)(84,"label"),b(85,"Desde "),d(86,"span",16),b(87,"*"),f()(),d(88,"input",22),Fe("ngModelChange",function(o){return r.fromDate=o}),f()()(),d(89,"div",21)(90,"div",15)(91,"label"),b(92,"Hasta "),d(93,"span",16),b(94,"*"),f()(),ke(95,"input",23),f()(),d(96,"div",18)(97,"div",15)(98,"label"),b(99,"Motivo "),d(100,"span",16),b(101,"*"),f()(),d(102,"select",24),Fe("ngModelChange",function(o){return r.description=o})("ngModelChange",function(){return r.onDescriptionChange()}),d(103,"option",25),b(104,"Seleccione un motivo"),f(),d(105,"option",26),b(106,"Mantenimiento y Prevenci\xf3n "),f(),d(107,"option",27),b(108,"Problemas Comunes y Tratamientos de Rutina"),f(),d(109,"option",28),b(110,"Ortodoncia y Est\xe9tica Dental "),f(),d(111,"option",29),b(112,"Procedimientos Quir\xfargicos y Restauradores"),f(),d(113,"option",30),b(114,"Problemas Espec\xedficos y Emergencias"),f(),d(115,"option",31),b(116,"Otros"),f()()()(),d(117,"div",32)(118,"div",15)(119,"label"),b(120,"Doctor "),d(121,"span",16),b(122,"*"),f()(),d(123,"select",33),Fe("ngModelChange",function(o){return r.doctorName=o})("ngModelChange",function(){return r.onDoctorChange()}),d(124,"option",25),b(125,"Seleccione un doctor"),f(),ze(126,Ute,2,2,"option",34),f()()(),d(127,"div",19)(128,"div",15)(129,"label"),b(130,"Nota adicional"),f(),d(131,"textarea",35),Fe("ngModelChange",function(o){return r.additionalNote=o}),f()()(),d(132,"div",12)(133,"p"),b(134," * Es necesario seleccionar el d\xeda, el desde y el hasta para completar los cambios"),f(),d(135,"div",36)(136,"button",37),Fe("click",function(){return r.confirmEdit()}),b(137,"Confirmar cambios"),f(),d(138,"button",38),Fe("click",function(){return r.back()}),b(139,"Cancelar"),f()()()()()()()()()()()),2&i&&($(30),Qe(r.user.name),$(8),Qe(r.user.lastName),$(8),Qe(r.user.gender),$(8),Qe(r.user.phone),$(8),Qe(r.user.email),$(8),la("",r.user.address,", ",r.user.city,", ",r.user.postalCode,", ",r.user.country,""),$(11),me("ngModel",r.bookDate),$(7),me("ngModel",r.fromDate),$(7),me("ngModel",r.toDate),$(7),me("ngModel",r.description),$(21),me("ngModel",r.doctorName),$(3),me("ngForOf",r.doctorList),$(5),me("ngModel",r.additionalNote))},dependencies:[$i,hi,xa,cm,dm,Sr,pd,ws,Ca,Vo,Rs,fo],encapsulation:2})}return e})()},{path:"appointment-list/:id",component:(()=>{class e{constructor(t,i,r,s){this.interventionService=t,this.userService=i,this.activatedRoute=r,this.authService=s,this.appointmentList=[],this.profileAvatarUrls=[]}ngOnInit(){this.userId=this.activatedRoute.snapshot.params.id,this.userService.getUser(this.userId).subscribe(t=>{this.user=t}),this.interventionService.getAllAppointmentsByUser(this.userId).subscribe(t=>{this.appointmentList=t})}static#e=this.\u0275fac=function(i){return new(i||e)(X(wl),X(qi),X(Ji),X(bs))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-intervention"]],decls:44,vars:2,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],[1,"table","border-0","custom-table","comman-table","datatable","mb-0"],["mat-sort-header","reason"],["mat-sort-header","bookDate"],["mat-sort-header","fromDate"],["mat-sort-header","toDate"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-end",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"text-end"],["class","dropdown dropdown-action",4,"ngIf"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["data-bs-toggle","modal","data-bs-target","#delete_patient",1,"dropdown-item"],[1,"fa","fa-trash-alt","m-r-5"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),b(7),f()()()()(),d(8,"div",3)(9,"div",4)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3"),b(17,"Lista de citas"),f()()(),d(18,"div",13)(19,"a",14),ke(20,"img",15),f(),d(21,"a",14),ke(22,"img",16),f(),d(23,"a",14),ke(24,"img",17),f(),d(25,"a",18),ke(26,"img",19),f()()()(),d(27,"div",20)(28,"table",21)(29,"thead")(30,"tr")(31,"th",22),b(32,"Motivo"),f(),d(33,"th",23),b(34,"D\xeda"),f(),d(35,"th",24),b(36,"Hora inicio"),f(),d(37,"th",25),b(38,"Hora fin"),f(),ke(39,"th"),f()(),d(40,"tbody"),ze(41,Qte,6,5,"tr",26),f()()()()()()(),d(42,"span"),b(43," **Si necesita anular una cita p\xf3ngase en contacto con nosotros "),f()()()),2&i&&($(7),qt("Citas de ",r.user.name,""),$(34),me("ngForOf",r.appointmentList))},dependencies:[$i,jn,hi,Qc,il],encapsulation:2})}return e})()},{path:"appointment-list/:idUser/add-intervention/:idAppointment",component:(()=>{class e{constructor(t,i,r,s,o){this.userService=t,this.appointmentService=i,this.interventionService=r,this.activatedRoute=s,this.router=o,this.selectedFile=null,this.selectedFileName=""}ngOnInit(){this.appointmentId=this.activatedRoute.snapshot.params.idAppointment,console.log("APO: ",this.appointmentId),this.userId=this.activatedRoute.snapshot.params.idUser,console.log("USE:",this.userId),this.userService.getUser(this.userId).subscribe(t=>{this.user=t}),this.appointmentService.getAppointment(this.appointmentId).subscribe(t=>this.descriptionAppointment=t.description)}onFileSelected(t){this.selectedFile=t.target.files[0],this.selectedFileName=this.selectedFile?.name||""}submit(){const t=new FormData;null!=this.type&&this.selectedFile?(console.log(this.type),t.append("file",this.selectedFile),t.append("type",this.type)):this.type&&!this.selectedFile?(t.append("file",""),t.append("type",this.type)):console.error("Ningun archivo seleccionado"),this.interventionService.addIntervention(this.appointmentId,this.userId,t).subscribe(i=>{hn().fire("Intervenci\xf3n a\xf1adida","","success"),this.back()},i=>{hn().fire("Ha ocurrido un error","","error"),console.error(i),this.back()})}back(){window.history.back()}static#e=this.\u0275fac=function(i){return new(i||e)(X(qi),X(jo),X(wl),X(Ji),X(ui))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-add-intervention"]],decls:106,vars:12,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/appointment-list"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],["enctype","multipart/form-data",3,"ngSubmit"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["type","text",1,"form-control","floating"],[1,"col-12","col-md-6","col-xl-6"],[1,"col-12","col-md-12","col-xl-6"],[1,"col-12","col-sm-12"],["type","text","name","descriptionAppointment","required","","readonly","","disabled","",1,"form-control",3,"ngModel"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],[4,"ngIf"],["type","file","name","file","id","file","accept","application/pdf",1,"hide-input",3,"change"],["for","file",1,"upload"],[1,"col-12","col-md-12","col-xl-12"],["rows","3","cols","30","name","type",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","submit-form","me-2"],["type","submit",1,"btn","btn-primary","cancel-form",3,"click"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Lista de citas "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"A\xf1adir intervenci\xf3n"),f()()()()(),d(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form",12),Fe("ngSubmit",function(){return r.submit()}),d(18,"div",3)(19,"div",13)(20,"div",14)(21,"h4"),b(22,"Detalles del paciente"),f()()(),d(23,"div",15)(24,"div",16)(25,"label"),b(26,"Nombre "),d(27,"span",17),b(28,"*"),f()(),d(29,"span",18),b(30),f()()(),d(31,"div",15)(32,"div",16)(33,"label"),b(34,"Apellidos "),d(35,"span",17),b(36,"*"),f()(),d(37,"span",18),b(38),f()()(),d(39,"div",15)(40,"div",16)(41,"label"),b(42,"G\xe9nero "),d(43,"span",17),b(44,"*"),f()(),d(45,"span",18),b(46),f()()(),d(47,"div",19)(48,"div",16)(49,"label"),b(50,"Tel\xe9fono "),d(51,"span",17),b(52,"*"),f()(),d(53,"span",18),b(54),f()()(),d(55,"div",20)(56,"div",16)(57,"label"),b(58,"Correo electr\xf3nico "),d(59,"span",17),b(60,"*"),f()(),d(61,"span",18),b(62),f()()(),d(63,"div",21)(64,"div",16)(65,"label"),b(66,"Direcci\xf3n "),d(67,"span",17),b(68,"*"),f()(),d(69,"span",18),b(70),f()()(),d(71,"div",13)(72,"div",14)(73,"h4"),b(74,"Detalles de la intervenci\xf3n"),f()()(),d(75,"div",19)(76,"div",16)(77,"label"),b(78,"Motivo de la cita "),d(79,"span",17),b(80,"*"),f()(),ke(81,"input",22),f()(),d(82,"div",19)(83,"div",23)(84,"label",24),b(85,"Fichero adjunto "),d(86,"span",17),b(87,"*"),f()(),d(88,"div",25),ze(89,Zte,2,1,"div",26),d(90,"input",27),Fe("change",function(o){return r.onFileSelected(o)}),f(),d(91,"label",28),b(92,"Elegir fichero"),f()()()(),d(93,"div",29)(94,"div",16)(95,"label"),b(96,"Informe de la intervenci\xf3n "),d(97,"span",17),b(98,"*"),f()(),d(99,"textarea",30),Fe("ngModelChange",function(o){return r.type=o}),f()()(),d(100,"div",13)(101,"div",31)(102,"button",32),b(103,"Guardar"),f(),d(104,"button",33),Fe("click",function(){return r.back()}),b(105,"Cancelar"),f()()()()()()()()()()()),2&i&&($(30),Qe(r.user.name),$(8),Qe(r.user.lastName),$(8),Qe(r.user.gender),$(8),Qe(r.user.phone),$(8),Qe(r.user.email),$(8),la("",r.user.address,", ",r.user.city,", ",r.user.postalCode,", ",r.user.country,""),$(11),me("ngModel",r.descriptionAppointment),$(8),me("ngIf",r.selectedFileName),$(10),me("ngModel",r.type))},dependencies:[jn,hi,xa,Sr,ws,Ca,Vo,Rs,fo],encapsulation:2})}return e})()},{path:"user/:idUser/edit-intervention/:idIntervention",component:(()=>{class e{constructor(t,i,r,s,o){this.userService=t,this.appointmentService=i,this.interventionService=r,this.activatedRoute=s,this.router=o,this.selectedFile=null,this.selectedFileName=""}ngOnInit(){this.userId=this.activatedRoute.snapshot.params.idUser,this.interventionId=this.activatedRoute.snapshot.params.idIntervention,console.log("USE:",this.userId),console.log("INT:",this.interventionId),this.interventionService.getIntervention(this.interventionId).subscribe(t=>{this.intervention=t}),this.userService.getUser(this.userId).subscribe(t=>{this.user=t})}onFileSelected(t){this.selectedFile=t.target.files[0],this.selectedFileName=this.selectedFile?.name||""}update(){const t=new FormData;hn().fire({title:"\xbfEst\xe1 seguro/a de guardar los cambios?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Actualizar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.intervention&&(this.type&&t.append("type",this.type),this.selectedFile&&t.append("file",this.selectedFile)),this.interventionService.updateIntervention(this.interventionId,this.user.id,t).subscribe(r=>{console.log(this.intervention),this.ngOnInit(),this.back()}),hn().fire("Intervenci\xf3n actualizada","","success"))})}back(){window.history.back()}static#e=this.\u0275fac=function(i){return new(i||e)(X(qi),X(jo),X(wl),X(Ji),X(ui))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-edit-intervention"]],decls:99,vars:12,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/appointment-list"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["type","text",1,"form-control","floating"],[1,"col-12","col-md-6","col-xl-6"],[1,"col-12","col-sm-12"],["type","text","name","type",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],[4,"ngIf"],["type","file","name","file","id","file","accept","application/pdf",1,"hide-input",3,"change"],["for","file",1,"upload"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form",3,"click"]],template:function(i,r){1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Lista de citas "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Editar intervenci\xf3n"),f()()()()(),d(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),b(22,"Detalles del paciente"),f()()(),d(23,"div",14)(24,"div",15)(25,"label"),b(26,"Nombre "),d(27,"span",16),b(28,"*"),f()(),d(29,"span",17),b(30),f()()(),d(31,"div",14)(32,"div",15)(33,"label"),b(34,"Apellidos "),d(35,"span",16),b(36,"*"),f()(),d(37,"span",17),b(38),f()()(),d(39,"div",14)(40,"div",15)(41,"label"),b(42,"G\xe9nero "),d(43,"span",16),b(44,"*"),f()(),d(45,"span",17),b(46),f()()(),d(47,"div",18)(48,"div",15)(49,"label"),b(50,"Tel\xe9fono "),d(51,"span",16),b(52,"*"),f()(),d(53,"span",17),b(54),f()()(),d(55,"div",18)(56,"div",15)(57,"label"),b(58,"Correo electr\xf3nico "),d(59,"span",16),b(60,"*"),f()(),d(61,"span",17),b(62),f()()(),d(63,"div",19)(64,"div",15)(65,"label"),b(66,"Direcci\xf3n "),d(67,"span",16),b(68,"*"),f()(),d(69,"span",17),b(70),f()()(),d(71,"div",12)(72,"div",13)(73,"h4"),b(74,"Detalles de la intervenci\xf3n"),f()()(),d(75,"div",18)(76,"div",15)(77,"label"),b(78,"Tipo de intervenci\xf3n"),d(79,"span",16),b(80,"*"),f()(),d(81,"input",20),Fe("ngModelChange",function(o){return r.type=o}),f()()(),d(82,"div",18)(83,"div",21)(84,"label",22),b(85,"Fichero adjunto "),d(86,"span",16),b(87,"*"),f()(),d(88,"div",23),ze(89,ene,2,1,"div",24),d(90,"input",25),Fe("change",function(o){return r.onFileSelected(o)}),f(),d(91,"label",26),b(92,"Elegir fichero"),f()()()(),d(93,"div",12)(94,"div",27)(95,"button",28),Fe("click",function(){return r.update()}),b(96,"Guardar cambios"),f(),d(97,"button",29),Fe("click",function(){return r.back()}),b(98,"Cancelar"),f()()()()()()()()()()()),2&i&&($(30),Qe(r.user.name),$(8),Qe(r.user.lastName),$(8),Qe(r.user.gender),$(8),Qe(r.user.phone),$(8),Qe(r.user.email),$(8),la("",r.user.address,", ",r.user.city,", ",r.user.postalCode,", ",r.user.country,""),$(11),Za("placeholder",r.intervention.type),me("ngModel",r.type),$(8),me("ngIf",r.selectedFileName))},dependencies:[jn,hi,xa,Sr,ws,Ca,Rs,fo],encapsulation:2})}return e})()},{path:"forgot-password",component:(()=>{class e{constructor(t,i){this.emailService=t,this.userService=i,this.emailError=!1,this.userNotFoundError=!1}resetPassword(t){if(!t)return this.emailError=!0,void(this.userNotFoundError=!1);this.emailError=!1,this.userNotFoundError=!1,this.userService.getUserByEmail(t).subscribe(i=>{this.user=i,this.emailService.sendEmailRecovery(t,i.username),this.editPassword(),hn().fire("Se ha enviado un correo electr\xf3nico con sus nuevas credenciales","","info")},i=>{this.userNotFoundError=!0,console.error("Usuario no encontrado")})}editPassword(){this.user&&(this.user.encodedPassword=this.user.username,console.log(this.user.encodedPassword),this.userService.updatePassword(this.user).subscribe(t=>{console.log(this.user),window.history.back()}))}static#e=this.\u0275fac=function(i){return new(i||e)(X(Vw),X(qi))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-forgot-password"]],decls:27,vars:2,consts:[[1,"main-wrapper","login-body"],[1,"container-fluid","px-0"],[1,"row"],[1,"col-lg-6","login-wrap"],[1,"login-sec"],[1,"log-img"],["src","assets/img/login-02.png","alt","Logo",1,"img-fluid"],[1,"col-lg-6","login-wrap-bg"],[1,"login-wrapper"],[1,"loginbox"],[1,"login-right"],[1,"login-right-wrap"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"form-group"],[1,"login-danger"],["type","text",1,"form-control"],["email",""],[1,"form-group","login-btn"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],[1,"alert","alert-danger"],[1,"alert","alert-warning"]],template:function(i,r){if(1&i){const s=Sn();d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ke(6,"img",6),f()()(),d(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"h2"),b(13,"Restablecer contrase\xf1a"),f(),ze(14,nne,2,0,"div",12)(15,ine,2,0,"div",13),d(16,"div")(17,"div",14)(18,"label"),b(19,"Correo electr\xf3nico "),d(20,"span",15),b(21,"*"),f()(),ke(22,"input",16,17),f(),d(24,"div",18)(25,"button",19),Fe("click",function(){Qt(s);const a=sn(23);return Xt(r.resetPassword(a.value))}),b(26,"Restablecer contrase\xf1a"),f()()()()()()()()()()()}2&i&&($(14),me("ngIf",r.emailError),$(),me("ngIf",r.userNotFoundError))},dependencies:[jn],encapsulation:2})}return e})()},{path:"register-doctor",component:(()=>{class e{constructor(t,i,r){this.authService=t,this.router=i,this.userService=r,this.name="",this.lastName="",this.email="",this.username="",this.passwordEncoded="pass",this.gender="",this.phone="",this.birth="",this.address="",this.country="",this.city="",this.postalCode="",this.speciality=""}ngOnInit(){this.userService.getMe().subscribe(t=>{this.user=t,this.codEntity=t.codEntity}),console.log(this.codEntity)}addDoctor(){if(this.authService.isAdmin()||this.authService.isDoctor()){const t={name:this.name,lastName:this.lastName,email:this.email,username:this.username,passwordEncoded:this.username,gender:this.gender,phone:this.phone,birth:this.birth,address:this.address,country:this.country,city:this.city,postalCode:this.postalCode,speciality:this.speciality,codEntity:this.codEntity};console.log(t),Object.values(t).every(i=>""!==i)?this.authService.registerDoctor(t).subscribe(i=>{hn().fire("Doctor dado de alta","","success"),window.history.back()},i=>{hn().fire("Probablemente este doctor ya exista, sino vuelva a intentarlo","","error"),console.error("error"),this.router.navigate(["/error-page"])}):hn().fire("Todos los campos son obligatorios","","warning")}else console.error(this.authService.currentUser())}static#e=this.\u0275fac=function(i){return new(i||e)(X(bs),X(ui),X(qi))};static#t=this.\u0275cmp=jt({type:e,selectors:[["app-register-doctor"]],decls:114,vars:16,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"col-md-12"],[1,"card-box"],[1,"card-title"],["action","#"],[1,"col-md-6"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],["type","radio","name","gender","id","gender_male","value","Masculino","checked","","name","gender","required","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gender_male",1,"form-check-label"],["type","radio","name","gender","id","gender_female","value","Femenino","name","gender","required","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gender_female",1,"form-check-label"],["type","text","name","phone","required","","pattern",".{9}",1,"form-control",3,"ngModel","ngModelChange"],["phoneInput","ngModel"],["class","alert alert-danger",4,"ngIf"],["name","speciality","required","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","General"],["value","Ortodoncia y Est\xe9tica"],["value","Cirug\xedas y Restauraciones"],["value","Emergencias"],["type","text","name","username","required","","pattern",".{9}",1,"form-control",3,"ngModel","ngModelChange"],["dniInput","ngModel"],["type","text","name","email","required","","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["type","date","name","birth","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","city","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","country","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","postalCode","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-end"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"alert","alert-danger"]],template:function(i,r){if(1&i&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),b(8,"Inicio "),f()(),d(9,"li",6),ke(10,"i",8),f(),d(11,"li",9),b(12,"Dar de alta doctor"),f()()()()(),d(13,"div",3)(14,"div",10)(15,"div",11)(16,"h4",12),b(17,"Datos personales"),f(),ke(18,"br"),d(19,"form",13)(20,"div",3)(21,"div",14)(22,"div",15)(23,"label",16),b(24,"Nombre"),f(),d(25,"div",17)(26,"input",18),Fe("ngModelChange",function(o){return r.name=o}),f()()(),d(27,"div",15)(28,"label",16),b(29,"Apellidos"),f(),d(30,"div",17)(31,"input",19),Fe("ngModelChange",function(o){return r.lastName=o}),f()()(),d(32,"div",15)(33,"label",16),b(34,"G\xe9nero"),f(),d(35,"div",17)(36,"div",20)(37,"input",21),Fe("ngModelChange",function(o){return r.gender=o}),f(),d(38,"label",22),b(39," Masculino "),f()(),d(40,"div",20)(41,"input",23),Fe("ngModelChange",function(o){return r.gender=o}),f(),d(42,"label",24),b(43," Femenino "),f()()()(),d(44,"div",15)(45,"label",16),b(46,"Tel\xe9fono"),f(),d(47,"div",17)(48,"input",25,26),Fe("ngModelChange",function(o){return r.phone=o}),f(),ze(50,sne,2,0,"div",27),f()(),d(51,"div",15)(52,"label",16),b(53,"Especialidad"),f(),d(54,"div",17)(55,"select",28),Fe("ngModelChange",function(o){return r.speciality=o}),d(56,"option",29),b(57,"Seleccione una especialidad"),f(),d(58,"option",30),b(59,"General"),f(),d(60,"option",31),b(61,"Ortodoncia y Est\xe9tica"),f(),d(62,"option",32),b(63,"Cirug\xedas y Restauraciones"),f(),d(64,"option",33),b(65,"Emergencias"),f()()()()(),d(66,"div",14)(67,"div",15)(68,"label",16),b(69,"Documento Nacional de Identidad (DNI)"),f(),d(70,"div",17)(71,"input",34,35),Fe("ngModelChange",function(o){return r.username=o}),f(),ze(73,one,2,0,"div",27),f()(),d(74,"div",15)(75,"label",16),b(76,"Correo electr\xf3nico"),f(),d(77,"div",17)(78,"input",36,37),Fe("ngModelChange",function(o){return r.email=o}),f(),ze(80,ane,2,0,"div",27),f()(),d(81,"div",15)(82,"label",16),b(83,"Fecha de nacimiento"),f(),d(84,"div",17)(85,"input",38),Fe("ngModelChange",function(o){return r.birth=o}),f()()()()(),ke(86,"hr")(87,"br"),d(88,"div",3)(89,"div",14)(90,"div",15)(91,"label",16),b(92,"Direcci\xf3n"),f(),d(93,"div",17)(94,"input",39),Fe("ngModelChange",function(o){return r.address=o}),f()()(),d(95,"div",15)(96,"label",16),b(97,"Ciudad"),f(),d(98,"div",17)(99,"input",40),Fe("ngModelChange",function(o){return r.city=o}),f()()()(),d(100,"div",14)(101,"div",15)(102,"label",16),b(103,"Pa\xeds"),f(),d(104,"div",17)(105,"input",41),Fe("ngModelChange",function(o){return r.country=o}),f()()(),d(106,"div",15)(107,"label",16),b(108,"C\xf3digo postal"),f(),d(109,"div",17)(110,"input",42),Fe("ngModelChange",function(o){return r.postalCode=o}),f()()()()(),d(111,"div",43)(112,"button",44),Fe("click",function(){return r.addDoctor()}),b(113,"A\xf1adir doctor"),f()()()()()()()()),2&i){const s=sn(49),o=sn(72),a=sn(79);$(26),me("ngModel",r.name),$(5),me("ngModel",r.lastName),$(6),me("ngModel",r.gender),$(4),me("ngModel",r.gender),$(7),me("ngModel",r.phone),$(2),me("ngIf",s.errors&&(s.dirty||s.touched)),$(5),me("ngModel",r.speciality),$(16),me("ngModel",r.username),$(2),me("ngIf",o.errors&&(o.dirty||o.touched)),$(5),me("ngModel",r.email),$(2),me("ngIf",a.errors&&(a.dirty||a.touched)),$(5),me("ngModel",r.birth),$(9),me("ngModel",r.address),$(5),me("ngModel",r.city),$(6),me("ngModel",r.country),$(5),me("ngModel",r.postalCode)}},dependencies:[jn,hi,xa,cm,dm,Sr,pd,lm,ws,Ca,Vo,um,Rs,fo]})}return e})()},{path:"",component:GR},{path:"**",component:Hee}]);var It=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(It||{});const $o="*";function ON(e){return{type:It.Style,styles:e,offset:null}}class Qh{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RN{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function NN(e){return new Le(3e3,!1)}function Sa(e){switch(e.length){case 0:return new Qh;case 1:return e[0];default:return new RN(e)}}function PN(e,n,t=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(n.forEach(l=>{const c=l.get("offset"),u=c==o,m=u&&a||new Map;l.forEach((F,K)=>{let le=K,ge=F;if("offset"!==K)switch(le=e.normalizePropertyName(le,r),ge){case"!":ge=t.get(K);break;case $o:ge=i.get(K);break;default:ge=e.normalizeStyleValue(K,le,ge,r)}m.set(le,ge)}),u||s.push(m),a=m,o=c}),r.length)throw function Fne(e){return new Le(3502,!1)}();return s}function Hw(e,n,t,i){switch(n){case"start":e.onStart(()=>i(t&&Gw(t,"start",e)));break;case"done":e.onDone(()=>i(t&&Gw(t,"done",e)));break;case"destroy":e.onDestroy(()=>i(t&&Gw(t,"destroy",e)))}}function Gw(e,n,t){const s=$w(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function $w(e,n,t,i,r="",s=0,o){return{element:e,triggerName:n,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Jr(e,n,t){let i=e.get(n);return i||e.set(n,i=t),i}function FN(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const Yne=typeof document>"u"?null:document.documentElement;function Ww(e){const n=e.parentNode||e.host||null;return n===Yne?null:n}let Sl=null,LN=!1;function BN(e,n){for(;n;){if(n===e)return!0;n=Ww(n)}return!1}function VN(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const i=e.querySelector(n);return i?[i]:[]}let zw=(()=>{class e{validateStyleProperty(t){return function Qne(e){Sl||(Sl=function Xne(){return typeof document<"u"?document.body:null}()||{},LN=!!Sl.style&&"WebkitAppearance"in Sl.style);let n=!0;return Sl.style&&!function Kne(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Sl.style,!n&&LN&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Sl.style)),n}(t)}matchesElement(t,i){return!1}containsElement(t,i){return BN(t,i)}getParentElement(t){return Ww(t)}query(t,i,r){return VN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Qh(r,s)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})();class qw{static#e=this.NOOP=new zw}class Yw{}const Jne=1e3,Kw="ng-enter",Um="ng-leave",jm="ng-trigger",Hm=".ng-trigger",jN="ng-animating",Qw=".ng-animating";function Wo(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Xw(parseFloat(n[1]),n[2])}function Xw(e,n){return"s"===n?e*Jne:e}function Gm(e,n,t){return e.hasOwnProperty("duration")?e:function tie(e,n,t){let r,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(NN()),{duration:0,delay:0,easing:""};r=Xw(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Xw(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=e;if(!t){let a=!1,l=n.length;r<0&&(n.push(function pne(){return new Le(3100,!1)}()),a=!0),s<0&&(n.push(function gne(){return new Le(3101,!1)}()),a=!0),a&&n.splice(l,0,NN())}return{duration:r,delay:s,easing:o}}(e,n,t)}function _o(e,n,t){n.forEach((i,r)=>{const s=Jw(r);t&&!t.has(r)&&t.set(r,e.style[s]),e.style[s]=i})}function Tl(e,n){n.forEach((t,i)=>{const r=Jw(i);e.style[r]=""})}function Xh(e){return Array.isArray(e)?1==e.length?e[0]:function dne(e,n=null){return{type:It.Sequence,steps:e,options:n}}(e):e}const Zw=new RegExp("{{\\s*(.+?)\\s*}}","g");function GN(e){let n=[];if("string"==typeof e){let t;for(;t=Zw.exec(e);)n.push(t[1]);Zw.lastIndex=0}return n}function Zh(e,n,t){const i=`${e}`,r=i.replace(Zw,(s,o)=>{let a=n[o];return null==a&&(t.push(function _ne(e){return new Le(3003,!1)}()),a=""),a.toString()});return r==i?e:r}const rie=/-+([a-z0-9])/g;function Jw(e){return e.replace(rie,(...n)=>n[1].toUpperCase())}function es(e,n,t){switch(n.type){case It.Trigger:return e.visitTrigger(n,t);case It.State:return e.visitState(n,t);case It.Transition:return e.visitTransition(n,t);case It.Sequence:return e.visitSequence(n,t);case It.Group:return e.visitGroup(n,t);case It.Animate:return e.visitAnimate(n,t);case It.Keyframes:return e.visitKeyframes(n,t);case It.Style:return e.visitStyle(n,t);case It.Reference:return e.visitReference(n,t);case It.AnimateChild:return e.visitAnimateChild(n,t);case It.AnimateRef:return e.visitAnimateRef(n,t);case It.Query:return e.visitQuery(n,t);case It.Stagger:return e.visitStagger(n,t);default:throw function vne(e){return new Le(3004,!1)}()}}function e1(e,n){return window.getComputedStyle(e)[n]}const aie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $N extends Yw{normalizePropertyName(n,t){return Jw(n)}normalizeStyleValue(n,t,i,r){let s="";const o=i.toString().trim();if(aie.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function yne(e,n){return new Le(3005,!1)}())}return o+s}}const $m="*";const Wm=new Set(["true","1"]),zm=new Set(["false","0"]);function WN(e,n){const t=Wm.has(e)||zm.has(e),i=Wm.has(n)||zm.has(n);return(r,s)=>{let o=e==$m||e==r,a=n==$m||n==s;return!o&&t&&"boolean"==typeof r&&(o=r?Wm.has(e):zm.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?Wm.has(n):zm.has(n)),o&&a}}const uie=new RegExp("s*:selfs*,?","g");function t1(e,n,t,i){return new hie(e).build(n,t,i)}class hie{constructor(n){this._driver=n}build(n,t,i){const r=new gie(t);return this._resetContextStyleTimingState(r),es(this,Xh(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&t.errors.push(function bne(){return new Le(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==It.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==It.Transition){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function wne(){return new Le(3007,!1)}())}),{type:It.Trigger,name:n.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(n,t){const i=this.visitStyle(n.styles,t),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{GN(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function Cne(e,n){return new Le(3008,!1)}(0,s.values()))}return{type:It.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const i=es(this,Xh(n.animation),t),r=function lie(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function cie(e,n,t){if(":"==e[0]){const l=function die(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return n.push(function One(e){return new Le(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function kne(e){return new Le(3015,!1)}()),n;const r=i[1],s=i[2],o=i[3];n.push(WN(r,o)),"<"==s[0]&&(r!=$m||o!=$m)&&n.push(WN(o,r))}(i,t,n)):t.push(e),t}(n.expr,t.errors);return{type:It.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ml(n.options)}}visitSequence(n,t){return{type:It.Sequence,steps:n.steps.map(i=>es(this,i,t)),options:Ml(n.options)}}visitGroup(n,t){const i=t.currentTime;let r=0;const s=n.steps.map(o=>{t.currentTime=i;const a=es(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:It.Group,steps:s,options:Ml(n.options)}}visitAnimate(n,t){const i=function _ie(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return n1(Gm(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=n1(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Gm(t,n);return n1(r.duration,r.delay,r.easing)}(n.timings,t.errors);t.currentAnimateTimings=i;let r,s=n.styles?n.styles:ON({});if(s.type==It.Keyframes)r=this.visitKeyframes(s,t);else{let o=n.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=ON(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:It.Animate,timings:i,style:r,options:null}}visitStyle(n,t){const i=this._makeStyleAst(n,t);return this._validateStyleAst(i,t),i}_makeStyleAst(n,t){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)"string"==typeof a?a===$o?i.push(a):t.errors.push(new Le(3002,!1)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:It.Style,styles:i,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let m=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function Ene(e,n,t,i,r){return new Le(3010,!1)}()),m=!1),s=u.startTime),m&&c.set(l,{startTime:s,endTime:r}),t.options&&function iie(e,n,t){const i=n.params||{},r=GN(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function mne(e){return new Le(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const i={type:It.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ane(){return new Le(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=n.steps.map(Ae=>{const Ee=this._makeStyleAst(Ae,t);let We=null!=Ee.offset?Ee.offset:function mie(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(Ee.styles),Ye=0;return null!=We&&(s++,Ye=Ee.offset=We),l=l||Ye<0||Ye>1,a=a||Ye<c,c=Ye,o.push(Ye),Ee});l&&t.errors.push(function Dne(){return new Le(3012,!1)}()),a&&t.errors.push(function Sne(){return new Le(3200,!1)}());const m=n.steps.length;let F=0;s>0&&s<m?t.errors.push(function Tne(){return new Le(3202,!1)}()):0==s&&(F=1/(m-1));const K=m-1,le=t.currentTime,ge=t.currentAnimateTimings,ye=ge.duration;return u.forEach((Ae,Ee)=>{const We=F>0?Ee==K?1:F*Ee:o[Ee],Ye=We*ye;t.currentTime=le+ge.delay+Ye,ge.duration=Ye,this._validateStyleAst(Ae,t),Ae.offset=We,i.styles.push(Ae)}),i}visitReference(n,t){return{type:It.Reference,animation:es(this,Xh(n.animation),t),options:Ml(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:It.AnimateChild,options:Ml(n.options)}}visitAnimateRef(n,t){return{type:It.AnimateRef,animation:this.visitReference(n.animation,t),options:Ml(n.options)}}visitQuery(n,t){const i=t.currentQuerySelector,r=n.options||{};t.queryCount++,t.currentQuery=n;const[s,o]=function fie(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(uie,"")),e=e.replace(/@\*/g,Hm).replace(/@\w+/g,t=>Hm+"-"+t.slice(1)).replace(/:animating/g,Qw),[e,n]}(n.selector);t.currentQuerySelector=i.length?i+" "+s:s,Jr(t.collectedStyles,t.currentQuerySelector,new Map);const a=es(this,Xh(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:It.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:Ml(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function Mne(){return new Le(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Gm(n.timings,t.errors,!0);return{type:It.Stagger,animation:es(this,Xh(n.animation),t),timings:i,options:null}}}class gie{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ml(e){return e?(e={...e}).params&&(e.params=function pie(e){return e?{...e}:null}(e.params)):e={},e}function n1(e,n,t){return{duration:e,delay:n,easing:t}}function r1(e,n,t,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class qm{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const bie=new RegExp(":enter","g"),Cie=new RegExp(":leave","g");function s1(e,n,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new xie).buildKeyframes(e,n,t,i,r,s,o,a,l,c)}class xie{buildKeyframes(n,t,i,r,s,o,a,l,c,u=[]){c=c||new qm;const m=new o1(n,t,c,r,s,u,[]);m.options=l;const F=l.delay?Wo(l.delay):0;m.currentTimeline.delayNextStep(F),m.currentTimeline.setStyles([o],null,m.errors,l),es(this,i,m);const K=m.timelines.filter(le=>le.containsAnimation());if(K.length&&a.size){let le;for(let ge=K.length-1;ge>=0;ge--){const ye=K[ge];if(ye.element===t){le=ye;break}}le&&!le.allowOnlyTimelineStyles()&&le.setStyles([a],null,m.errors,l)}return K.length?K.map(le=>le.buildKeyframes()):[r1(t,[],[],[],0,F,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(n.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=n}visitAnimateRef(n,t){const i=t.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,i),this.visitReference(n.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,i){for(const r of n){const s=r?.delay;if(s){const o="number"==typeof s?s:Wo(Zh(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(n,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Wo(i.duration):null,a=null!=i.delay?Wo(i.delay):null;return 0!==o&&n.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),es(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const i=t.subContextCount;let r=t;const s=n.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==It.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ym);const o=Wo(s.delay);r.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>es(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const i=[];let r=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?Wo(n.options.delay):0;n.steps.forEach(o=>{const a=t.createSubContext(n.options);s&&a.delayNextStep(s),es(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const i=n.strValue;return Gm(t.params?Zh(i,t.params,t.errors):i,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const i=t.currentAnimateTimings=this._visitTiming(n.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=n.style;s.type==It.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=n}visitQuery(n,t){const i=t.currentTimeline.currentTime,r=n.options||{},s=r.delay?Wo(r.delay):0;s&&(t.previousNode.type===It.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ym);let o=i;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const m=t.createSubContext(n.options,c);s&&m.delayNextStep(s),c===t.element&&(l=m.currentTimeline),es(this,n.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const i=t.parentContext,r=t.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const m=u.currentTime;es(this,n.animation,t),t.previousNode=n,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}}const Ym={};class o1{constructor(n,t,i,r,s,o,a,l){this._driver=n,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ym,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Km(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Wo(i.duration)),null!=i.delay&&(r.delay=Wo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Zh(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const i=n.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return n}createSubContext(n=null,t,i){const r=t||this.element,s=new o1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=Ym,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,i){const r={duration:t??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},s=new Eie(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,i,r,s,o){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(bie,"."+this._enterClassName)).replace(Cie,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Ine(e){return new Le(3014,!1)}()),a}}class Km{constructor(n,t,i,r){this._driver=n,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new Km(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||$o),this._currentKeyframe.set(t,$o);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function Aie(e,n){const t=new Map;let i;return e.forEach(r=>{if("*"===r){i??=n.keys();for(let s of i)t.set(s,$o)}else for(let[s,o]of r)t.set(s,o)}),t}(n,this._globalTimelineStyles);for(let[a,l]of o){const c=Zh(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$o),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,m)=>{"!"===u?n.add(m):u===$o&&t.add(m)}),i||c.set("offset",l/this.duration),r.push(c)});const s=[...n.values()],o=[...t.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return r1(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Eie extends Km{constructor(n,t,i,r,s,o,a=!1){super(n,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=new Map(n[0]);l.set("offset",0),s.push(l);const c=new Map(n[0]);c.set("offset",YN(a)),s.push(c);const u=n.length-1;for(let m=1;m<=u;m++){let F=new Map(n[m]);const K=F.get("offset");F.set("offset",YN((t+K*i)/o)),s.push(F)}i=o,t=0,r="",n=s}return r1(this.element,n,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function YN(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}function KN(e,n,t,i,r,s,o,a,l,c,u,m,F){return{type:0,element:e,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:m,errors:F}}const a1={};class QN{constructor(n,t,i){this._triggerName=n,this.ast=t,this._stateStyles=i}match(n,t,i,r){return function Die(e,n,t,i,r){return e.some(s=>s(n,t,i,r))}(this.ast.matchers,n,t,i,r)}buildStyles(n,t,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(t,i):new Map}build(n,t,i,r,s,o,a,l,c,u){const m=[],F=this.ast.options&&this.ast.options.params||a1,le=this.buildStyles(i,a&&a.params||a1,m),ge=l&&l.params||a1,ye=this.buildStyles(r,ge,m),Ae=new Set,Ee=new Map,We=new Map,Ye="void"===r,Je={params:XN(ge,F),delay:this.ast.options?.delay},rt=u?[]:s1(n,t,this.ast.animation,s,o,le,ye,Je,c,m);let mt=0;return rt.forEach(St=>{mt=Math.max(St.duration+St.delay,mt)}),m.length?KN(t,this._triggerName,i,r,Ye,le,ye,[],[],Ee,We,mt,m):(rt.forEach(St=>{const vn=St.element,Cn=Jr(Ee,vn,new Set);St.preStyleProps.forEach(wi=>Cn.add(wi));const bi=Jr(We,vn,new Set);St.postStyleProps.forEach(wi=>bi.add(wi)),vn!==t&&Ae.add(vn)}),KN(t,this._triggerName,i,r,Ye,le,ye,rt,[...Ae.values()],Ee,We,mt))}}function XN(e,n){const t={...n};return Object.entries(e).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class Sie{constructor(n,t,i){this.styles=n,this.defaultParams=t,this.normalizer=i}buildStyles(n,t){const i=new Map,r=XN(n,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Zh(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class Mie{constructor(n,t,i){this.name=n,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Sie(r.style,r.options&&r.options.params||{},i))}),ZN(this.states,"true","1"),ZN(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new QN(n,r,this.states))}),this.fallbackTransition=function Iie(e,n,t){return new QN(e,{type:It.Transition,animation:{type:It.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,i,r){return this.transitionFactories.find(o=>o.match(n,t,i,r))||null}matchStyles(n,t,i){return this.fallbackTransition.buildStyles(n,t,i)}}function ZN(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const kie=new qm;class Oie{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const i=[],s=t1(this._driver,t,i,[]);if(i.length)throw function Lne(e){return new Le(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,i){const r=n.element,s=PN(this._normalizer,n.keyframes,t,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,i={}){const r=[],s=this._animations.get(n);let o;const a=new Map;if(s?(o=s1(this._driver,t,s,Kw,Um,new Map,new Map,i,kie,r),o.forEach(u=>{const m=Jr(a,u.element,new Map);u.postStyleProps.forEach(F=>m.set(F,null))})):(r.push(function Bne(){return new Le(3300,!1)}()),o=[]),r.length)throw function Vne(e){return new Le(3504,!1)}();a.forEach((u,m)=>{u.forEach((F,K)=>{u.set(K,this._driver.computeStyle(m,K,$o))})});const c=Sa(o.map(u=>{const m=a.get(u.element);return this._buildPlayer(u,new Map,m)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function Une(e){return new Le(3301,!1)}();return t}listen(n,t,i,r){const s=$w(t,"","","");return Hw(this._getPlayer(n),i,s,r),()=>{}}command(n,t,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,t,r[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const JN="ng-animate-queued",l1="ng-animate-disabled",Lie=[],eP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vs="__ng_removed";class c1{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const i=n&&n.hasOwnProperty("value");if(this.value=function Hie(e){return e??null}(i?n.value:n),i){const{value:s,...o}=n;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Jh="void",d1=new c1(Jh);class Vie{constructor(n,t,i){this.id=n,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Es(t,this._hostClassName)}listen(n,t,i,r){if(!this._triggers.has(t))throw function jne(e,n){return new Le(3302,!1)}();if(null==i||0==i.length)throw function Hne(e){return new Le(3303,!1)}();if(!function Gie(e){return"start"==e||"done"==e}(i))throw function Gne(e,n){return new Le(3400,!1)}();const s=Jr(this._elementListeners,n,[]),o={name:t,phase:i,callback:r};s.push(o);const a=Jr(this._engine.statesByElement,n,new Map);return a.has(t)||(Es(n,jm),Es(n,jm+"-"+t),a.set(t,d1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function $ne(e){return new Le(3401,!1)}();return t}trigger(n,t,i,r=!0){const s=this._getTrigger(t),o=new u1(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Es(n,jm),Es(n,jm+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t);const c=new c1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=d1),c.value!==Jh&&l.value===c.value){if(!function zie(e,n){const t=Object.keys(e),i=Object.keys(n);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,c.params)){const ge=[],ye=s.matchStyles(l.value,l.params,ge),Ae=s.matchStyles(c.value,c.params,ge);ge.length?this._engine.reportError(ge):this._engine.afterFlush(()=>{Tl(n,ye),_o(n,Ae)})}return}const F=Jr(this._engine.playersByElement,n,[]);F.forEach(ge=>{ge.namespaceId==this.id&&ge.triggerName==t&&ge.queued&&ge.destroy()});let K=s.matchTransition(l.value,c.value,n,c.params),le=!1;if(!K){if(!r)return;K=s.fallbackTransition,le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:K,fromState:l,toState:c,player:o,isFallbackTransition:le}),le||(Es(n,JN),o.onStart(()=>{Md(n,JN)})),o.onDone(()=>{let ge=this.players.indexOf(o);ge>=0&&this.players.splice(ge,1);const ye=this._engine.playersByElement.get(n);if(ye){let Ae=ye.indexOf(o);Ae>=0&&ye.splice(Ae,1)}}),this.players.push(o),F.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const i=this._engine.driver.query(n,Hm,!0);i.forEach(r=>{if(r[Vs])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,t,i,r){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(n,c,Jh,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,o),i&&Sa(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||d1,u=new c1(Jh),m=new u1(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:c,toState:u,player:m,isFallbackTransition:!0})})}}removeNode(n,t){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let o=n;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,t);else{const s=n[Vs];(!s||s===eP)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,t))}}insertNode(n,t){Es(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=$w(s,i.triggerName,i.fromState.value,i.toState.value);l._data=n,Hw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Uie{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,i,r){this.bodyNode=n,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,t){const i=new Vie(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(n)}else i.push(n);return r.set(t,n),n}register(n,t){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,t)),i}registerTrigger(n,t,i){let r=this._namespaceLookup[n];r&&r.register(t,i)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(n,t,i,r){if(Qm(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(n,t,i,r){if(!Qm(t))return;const s=t[Vs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Es(n,l1)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Md(n,l1))}removeNode(n,t,i){if(Qm(t)){this.scheduler?.notify();const r=n?this._fetchNamespace(n):null;r?r.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==n&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,i,r,s){this.collectedLeaveElements.push(t),t[Vs]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,i,r,s){return Qm(t)?this._fetchNamespace(n).listen(t,i,r,s):()=>{}}_buildInstruction(n,t,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,Hm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Qw,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Sa(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Vs];if(t&&t.setForRemoval){if(n[Vs]=eP,t.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(l1)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Es(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Sa(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function Wne(e){return new Le(3402,!1)}()}_flushAnimations(n,t){const i=new qm,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(tt=>{u.add(tt);const at=this.driver.query(tt,".ng-animate-queued",!0);for(let yt=0;yt<at.length;yt++)u.add(at[yt])});const m=this.bodyNode,F=Array.from(this.statesByElement.keys()),K=iP(F,this.collectedEnterElements),le=new Map;let ge=0;K.forEach((tt,at)=>{const yt=Kw+ge++;le.set(at,yt),tt.forEach(Wt=>Es(Wt,yt))});const ye=[],Ae=new Set,Ee=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const at=this.collectedLeaveElements[tt],yt=at[Vs];yt&&yt.setForRemoval&&(ye.push(at),Ae.add(at),yt.hasAnimation?this.driver.query(at,".ng-star-inserted",!0).forEach(Wt=>Ae.add(Wt)):Ee.add(at))}const We=new Map,Ye=iP(F,Array.from(Ae));Ye.forEach((tt,at)=>{const yt=Um+ge++;We.set(at,yt),tt.forEach(Wt=>Es(Wt,yt))}),n.push(()=>{K.forEach((tt,at)=>{const yt=le.get(at);tt.forEach(Wt=>Md(Wt,yt))}),Ye.forEach((tt,at)=>{const yt=We.get(at);tt.forEach(Wt=>Md(Wt,yt))}),ye.forEach(tt=>{this.processLeaveNode(tt)})});const Je=[],rt=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(yt=>{const Wt=yt.player,si=yt.element;if(Je.push(Wt),this.collectedEnterElements.length){const xi=si[Vs];if(xi&&xi.setForMove){if(xi.previousTriggersValues&&xi.previousTriggersValues.has(yt.triggerName)){const _r=xi.previousTriggersValues.get(yt.triggerName),ar=this.statesByElement.get(yt.element);if(ar&&ar.has(yt.triggerName)){const Od=ar.get(yt.triggerName);Od.value=_r,ar.set(yt.triggerName,Od)}}return void Wt.destroy()}}const kr=!m||!this.driver.containsElement(m,si),Pi=We.get(si),ts=le.get(si),En=this._buildInstruction(yt,i,ts,Pi,kr);if(En.errors&&En.errors.length)return void rt.push(En);if(kr)return Wt.onStart(()=>Tl(si,En.fromStyles)),Wt.onDestroy(()=>_o(si,En.toStyles)),void r.push(Wt);if(yt.isFallbackTransition)return Wt.onStart(()=>Tl(si,En.fromStyles)),Wt.onDestroy(()=>_o(si,En.toStyles)),void r.push(Wt);const Us=[];En.timelines.forEach(xi=>{xi.stretchStartingKeyframe=!0,this.disabledNodes.has(xi.element)||Us.push(xi)}),En.timelines=Us,i.append(si,En.timelines),o.push({instruction:En,player:Wt,element:si}),En.queriedElements.forEach(xi=>Jr(a,xi,[]).push(Wt)),En.preStyleProps.forEach((xi,_r)=>{if(xi.size){let ar=l.get(_r);ar||l.set(_r,ar=new Set),xi.forEach((Od,Rl)=>ar.add(Rl))}}),En.postStyleProps.forEach((xi,_r)=>{let ar=c.get(_r);ar||c.set(_r,ar=new Set),xi.forEach((Od,Rl)=>ar.add(Rl))})});if(rt.length){const tt=[];rt.forEach(at=>{tt.push(function zne(e,n){return new Le(3505,!1)}())}),Je.forEach(at=>at.destroy()),this.reportError(tt)}const mt=new Map,St=new Map;o.forEach(tt=>{const at=tt.element;i.has(at)&&(St.set(at,at),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,mt))}),r.forEach(tt=>{const at=tt.element;this._getPreviousPlayers(at,!1,tt.namespaceId,tt.triggerName,null).forEach(Wt=>{Jr(mt,at,[]).push(Wt),Wt.destroy()})});const vn=ye.filter(tt=>sP(tt,l,c)),Cn=new Map;nP(Cn,this.driver,Ee,c,$o).forEach(tt=>{sP(tt,l,c)&&vn.push(tt)});const wi=new Map;K.forEach((tt,at)=>{nP(wi,this.driver,new Set(tt),l,"!")}),vn.forEach(tt=>{const at=Cn.get(tt),yt=wi.get(tt);Cn.set(tt,new Map([...at?.entries()??[],...yt?.entries()??[]]))});const Ci=[],As=[],Qn={};o.forEach(tt=>{const{element:at,player:yt,instruction:Wt}=tt;if(i.has(at)){if(u.has(at))return yt.onDestroy(()=>_o(at,Wt.toStyles)),yt.disabled=!0,yt.overrideTotalTime(Wt.totalTime),void r.push(yt);let si=Qn;if(St.size>1){let Pi=at;const ts=[];for(;Pi=Pi.parentNode;){const En=St.get(Pi);if(En){si=En;break}ts.push(Pi)}ts.forEach(En=>St.set(En,si))}const kr=this._buildAnimation(yt.namespaceId,Wt,mt,s,wi,Cn);if(yt.setRealPlayer(kr),si===Qn)Ci.push(yt);else{const Pi=this.playersByElement.get(si);Pi&&Pi.length&&(yt.parentPlayer=Sa(Pi)),r.push(yt)}}else Tl(at,Wt.fromStyles),yt.onDestroy(()=>_o(at,Wt.toStyles)),As.push(yt),u.has(at)&&r.push(yt)}),As.forEach(tt=>{const at=s.get(tt.element);if(at&&at.length){const yt=Sa(at);tt.setRealPlayer(yt)}}),r.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<ye.length;tt++){const at=ye[tt],yt=at[Vs];if(Md(at,Um),yt&&yt.hasAnimation)continue;let Wt=[];if(a.size){let kr=a.get(at);kr&&kr.length&&Wt.push(...kr);let Pi=this.driver.query(at,Qw,!0);for(let ts=0;ts<Pi.length;ts++){let En=a.get(Pi[ts]);En&&En.length&&Wt.push(...En)}}const si=Wt.filter(kr=>!kr.destroyed);si.length?$ie(this,at,si):this.processLeaveNode(at)}return ye.length=0,Ci.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const at=this.players.indexOf(tt);this.players.splice(at,1)}),tt.play()}),Ci}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==Jh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(n,t,i){const s=t.element,o=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,m=Jr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(K=>{const le=K.getRealPlayer();le.beforeDestroy&&le.beforeDestroy(),K.destroy(),m.push(K)})}Tl(s,t.fromStyles)}_buildAnimation(n,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,m=new Set,F=t.timelines.map(le=>{const ge=le.element;u.add(ge);const ye=ge[Vs];if(ye&&ye.removedBeforeQueried)return new Qh(le.duration,le.delay);const Ae=ge!==l,Ee=function Wie(e){const n=[];return rP(e,n),n}((i.get(ge)||Lie).map(mt=>mt.getRealPlayer())).filter(mt=>!!mt.element&&mt.element===ge),We=s.get(ge),Ye=o.get(ge),Je=PN(this._normalizer,le.keyframes,We,Ye),rt=this._buildPlayer(le,Je,Ee);if(le.subTimeline&&r&&m.add(ge),Ae){const mt=new u1(n,a,ge);mt.setRealPlayer(rt),c.push(mt)}return rt});c.forEach(le=>{Jr(this.playersByQueriedElement,le.element,[]).push(le),le.onDone(()=>function jie(e,n,t){let i=e.get(n);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&e.delete(n)}return i}(this.playersByQueriedElement,le.element,le))}),u.forEach(le=>Es(le,jN));const K=Sa(F);return K.onDestroy(()=>{u.forEach(le=>Md(le,jN)),_o(l,t.toStyles)}),m.forEach(le=>{Jr(r,le,[]).push(K)}),K}_buildPlayer(n,t,i){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,i):new Qh(n.duration,n.delay)}}class u1{constructor(n,t,i){this.namespaceId=n,this.triggerName=t,this.element=i,this._player=new Qh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Hw(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Jr(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function Qm(e){return e&&1===e.nodeType}function tP(e,n){const t=e.style.display;return e.style.display=n??"none",t}function nP(e,n,t,i,r){const s=[];t.forEach(l=>s.push(tP(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(m=>{const F=n.computeStyle(c,m,r);u.set(m,F),(!F||0==F.length)&&(c[Vs]=Bie,o.push(c))}),e.set(c,u)});let a=0;return t.forEach(l=>tP(l,s[a++])),o}function iP(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const r=new Set(n),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return n.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Es(e,n){e.classList?.add(n)}function Md(e,n){e.classList?.remove(n)}function $ie(e,n,t){Sa(t).onDone(()=>e.processLeaveNode(n))}function rP(e,n){for(let t=0;t<e.length;t++){const i=e[t];i instanceof RN?rP(i.players,n):n.push(i)}}function sP(e,n,t){const i=t.get(e);if(!i)return!1;let r=n.get(e);return r?i.forEach(s=>r.add(s)):n.set(e,i),t.delete(e),!0}class ef{constructor(n,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Uie(n.body,t,i,r),this._timelineEngine=new Oie(n.body,t,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(n,t,i,r,s){const o=n+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=t1(this._driver,s,l,[]);if(l.length)throw function Pne(e,n){return new Le(3404,!1)}();a=function Tie(e,n,t){return new Mie(e,n,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,i,r){this._transitionEngine.insertNode(n,t,i,r)}onRemove(n,t,i){this._transitionEngine.removeNode(n,t,i)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,i,r){if("@"==i.charAt(0)){const[s,o]=FN(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(n,t,i,r)}listen(n,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=FN(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(n,t,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class tf{static#e=this.initialStylesByElement=new WeakMap;constructor(n,t,i){this._element=n,this._startStyles=t,this._endStyles=i,this._state=0;let r=tf.initialStylesByElement.get(n);r||tf.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&_o(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_o(this._element,this._initialStyles),this._endStyles&&(_o(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tf.initialStylesByElement.delete(this._element),this._startStyles&&(Tl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tl(this._element,this._endStyles),this._endStyles=null),_o(this._element,this._initialStyles),this._state=3)}}function h1(e){let n=null;return e.forEach((t,i)=>{(function Yie(e){return"display"===e||"position"===e})(i)&&(n=n||new Map,n.set(i,t))}),n}class oP{constructor(n,t,i,r){this.element=n,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(n,t,i){return n.animate(this._convertKeyframesToObject(t),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:e1(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class aP{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return BN(n,t)}getParentElement(n){return Ww(n)}query(n,t,i){return VN(n,t,i)}computeStyle(n,t,i){return e1(n,t)}animate(n,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(K=>K instanceof oP);(function sie(e,n){return 0===e||0===n})(i,r)&&u.forEach(K=>{K.currentSnapshot.forEach((le,ge)=>c.set(ge,le))});let m=function nie(e){return e.length?e[0]instanceof Map?e:e.map(n=>new Map(Object.entries(n))):[]}(t).map(K=>new Map(K));m=function oie(e,n,t){if(t.size&&n.length){let i=n[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<n.length;s++){let o=n[s];r.forEach(a=>o.set(a,e1(e,a)))}}return n}(n,m,c);const F=function qie(e,n){let t=null,i=null;return Array.isArray(n)&&n.length?(t=h1(n[0]),n.length>1&&(i=h1(n[n.length-1]))):n instanceof Map&&(t=h1(n)),t||i?new tf(e,t,i):null}(n,m);return new oP(n,m,l,F)}}const lP="@.disabled";class cP{constructor(n,t,i,r){this.namespaceId=n,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,i,r=!0){this.delegate.insertBefore(n,t,i),this.engine.onInsert(this.namespaceId,t,n,r)}removeChild(n,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,i,r){this.delegate.setAttribute(n,t,i,r)}removeAttribute(n,t,i){this.delegate.removeAttribute(n,t,i)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,i,r){this.delegate.setStyle(n,t,i,r)}removeStyle(n,t,i){this.delegate.removeStyle(n,t,i)}setProperty(n,t,i){"@"==t.charAt(0)&&t==lP?this.disableAnimations(n,!!i):this.delegate.setProperty(n,t,i)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,i){return this.delegate.listen(n,t,i)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class Kie extends cP{constructor(n,t,i,r,s){super(t,i,r,s),this.factory=n,this.namespaceId=t}setProperty(n,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lP?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,t.slice(1),i):this.delegate.setProperty(n,t,i)}listen(n,t,i){if("@"==t.charAt(0)){const r=function Qie(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Xie(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,t,i)}}class Zie{constructor(n,t,i){this.delegate=n,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(n,t){const r=this.delegate.createRenderer(n,t);if(!n||!t?.data?.animation){const c=this._rendererCache;let u=c.get(r);return u||(u=new cP("",r,this.engine,()=>c.delete(r)),c.set(r,u)),u}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,n);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,n,c.name,c)};return t.data.animation.forEach(a),new Kie(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,t,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const dP=[{provide:Yw,useFactory:function ere(){return new $N}},{provide:ef,useClass:(()=>{class e extends ef{constructor(t,i,r){super(t,i,r,Ke(Mv,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mn),Ge(qw),Ge(Yw))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac})}return e})()},{provide:Ap,useFactory:function tre(e,n,t){return new Zie(e,n,t)},deps:[Ub,ef,Dt]}],f1=[{provide:qw,useFactory:()=>new aP},{provide:np,useValue:"BrowserAnimations"},...dP],uP=[{provide:qw,useClass:zw},{provide:np,useValue:"NoopAnimations"},...dP];let p1,nre=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?uP:f1}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({providers:f1,imports:[mM]})}return e})();try{p1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{p1=!1}let nf,Zm=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ha(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!p1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Xi))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jm(e){return function ire(){if(null==nf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nf=!0}))}finally{nf=nf||!1}return nf}()?e:!!e.capture}const gP=new Set;let kl,Sre=(()=>{class e{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Mre}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Tre(e,n){if(!gP.has(e))try{kl||(kl=document.createElement("style"),n&&(kl.nonce=n),kl.setAttribute("type","text/css"),document.head.appendChild(kl)),kl.sheet&&(kl.sheet.insertRule(`@media ${e} {body{ }}`,0),gP.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Zm),Ge(lv,8))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mre(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let Ire=(()=>{class e{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ut}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return mP(lN(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Ng(mP(lN(t)).map(o=>this._registerQuery(o).observable));return s=ed(s.pipe(zi(1)),s.pipe(function vk(e){return qn((n,t)=>e<=t)}(1),Al(0))),s.pipe(dt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ut(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(n0(i),dt(({matches:o})=>({query:t,matches:o})),wt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Sre),Ge(Dt))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mP(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}const bP="cdk-high-contrast-black-on-white",wP="cdk-high-contrast-white-on-black",m1="cdk-high-contrast-active";let Gre=(()=>{class e{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ke(Ire).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(m1,bP,wP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(m1,bP):2===i&&t.add(m1,wP)}}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Zm),Ge(Mn))};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Wre=new Xe("mat-sanity-checks",{providedIn:"root",factory:function $re(){return!0}});let kd=(()=>{class e{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function are(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Gre),Ge(Wre,8),Ge(Mn))};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[Bw,Bw]})}return e})();const EP=Jm({passive:!0,capture:!0});class Yre{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const t=function ore(e){return e.composedPath?e.composedPath()[0]:e.target}(n);t&&this._events.get(n.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(n))})}}addHandler(n,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,EP)})}removeHandler(n,t,i){const r=this._events.get(n);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,EP)))}}class t_{static#e=this._eventManager=new Yre;constructor(n,t,i,r){this._target=n,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=kw(i))}fadeInRipple(n,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...AP,...i.animation},o=i.radius||function Qre(e,n,t){const i=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(i*i+r*r)}(n,t,r),a=n-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const m=window.getComputedStyle(u),K=m.transitionDuration,le="none"===m.transitionProperty||"0s"===K||"0s, 0s"===K||0===r.width&&0===r.height,ge=new qre(this,u,i,le);u.style.transform="scale3d(1, 1, 1)",ge.state=0,i.persistent||(this._mostRecentTransientRipple=ge);return!le&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ae=()=>this._finishRippleTransition(ge),Ee=()=>this._destroyRipple(ge);u.addEventListener("transitionend",Ae),u.addEventListener("transitioncancel",Ee)}),this._activeRipples.set(ge,null),(le||!c)&&this._finishRippleTransition(ge),ge}fadeOutRipple(n){if(2===n.state||3===n.state)return;const t=n.element,i={...AP,...n.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=kw(n);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,SP.forEach(i=>{t_._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{TP.forEach(t=>{this._triggerElement.addEventListener(t,this,DP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const t=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=1,!i&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==t&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel)),n.element.remove()}_onMousedown(n){const t=function Ure(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!function jre(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(SP.forEach(t=>t_._eventManager.removeHandler(t,n,this)),this._pointerUpEventsRegistered&&TP.forEach(t=>n.removeEventListener(t,this,DP)))}}let Xre=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[kd,kd]})}return e})(),Zre=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[kd]})}return e})(),IP=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tse=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({providers:[IP]})}return e})(),nse=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[kd,kd]})}return e})(),Ose=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e});static#n=this.\u0275inj=Tt({imports:[tse,Ob,kd,Xre,Zre,nse]})}return e})(),GP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Tt({imports:[Dw]}),e})(),eae=(()=>{class e{constructor(t,i){fa(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:e,providers:t.serverLoaded?[{provide:Ls,useValue:{...Sw,...t}},{provide:Tw,useValue:i,multi:!0},{provide:Ed,useValue:!0}]:[{provide:Ls,useValue:{...Sw,...t}},{provide:Tw,useValue:i,multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)(Ge(Ed),Ge(Xi))},e.\u0275mod=Ot({type:e}),e.\u0275inj=Tt({imports:[IN,gN,GP,IN,gN,GP]}),e})(),tae=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ot({type:e,bootstrap:[mQ]});static#n=this.\u0275inj=Tt({imports:[mM,kz,H7,G7,G6,cne,nre,QK,Ose,ute,eae,xX]})}return e})();SG().bootstrapModule(tae).catch(e=>console.error(e))},627:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(156).default,ae;globalThis,ae=()=>(()=>{"use strict";var __webpack_modules__=[,(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.VerbosityLevel=I.Util=I.UnknownErrorException=I.UnexpectedResponseException=I.UNSUPPORTED_FEATURES=I.TextRenderingMode=I.StreamType=I.RenderingIntentFlag=I.PermissionFlag=I.PasswordResponses=I.PasswordException=I.PageActionEventType=I.OPS=I.MissingPDFException=I.LINE_FACTOR=I.LINE_DESCENT_FACTOR=I.InvalidPDFException=I.ImageKind=I.IDENTITY_MATRIX=I.FormatError=I.FontType=I.FeatureTest=I.FONT_IDENTITY_MATRIX=I.DocumentActionEventType=I.CMapCompressionType=I.BaseException=I.AnnotationType=I.AnnotationStateModelType=I.AnnotationReviewState=I.AnnotationReplyType=I.AnnotationMode=I.AnnotationMarkedState=I.AnnotationFlag=I.AnnotationFieldFlag=I.AnnotationEditorType=I.AnnotationEditorPrefix=I.AnnotationEditorParamsType=I.AnnotationBorderStyleType=I.AnnotationActionEventType=I.AbortException=void 0,I.arrayByteLength=He,I.arraysToBytes=function we(Ve){const De=Ve.length;if(1===De&&Ve[0]instanceof Uint8Array)return Ve[0];let Se=0;for(let Nt=0;Nt<De;Nt++)Se+=He(Ve[Nt]);let nt=0;const At=new Uint8Array(Se);for(let Nt=0;Nt<De;Nt++){let Ct=Ve[Nt];Ct instanceof Uint8Array||(Ct="string"==typeof Ct?Ne(Ct):new Uint8Array(Ct));const yr=Ct.byteLength;At.set(Ct,nt),nt+=yr}return At},I.assert=function B(Ve,De){Ve||z(De)},I.bytesToString=function xe(Ve){("object"!=typeof Ve||null===Ve||void 0===Ve.length)&&z("Invalid argument for bytesToString");const De=Ve.length;if(De<8192)return String.fromCharCode.apply(null,Ve);const nt=[];for(let At=0;At<De;At+=8192){const Nt=Math.min(At+8192,De),Ct=Ve.subarray(At,Nt);nt.push(String.fromCharCode.apply(null,Ct))}return nt.join("")},I.createPromiseCapability=function Xn(){const Ve=Object.create(null);let De=!1;return Object.defineProperty(Ve,"settled",{get:()=>De}),Ve.promise=new Promise(function(Se,nt){Ve.resolve=function(At){De=!0,Se(At)},Ve.reject=function(At){De=!0,nt(At)}}),Ve},I.createValidAbsoluteUrl=function R(Ve,De=null,Se=null){if(!Ve)return null;try{if(Se&&"string"==typeof Ve){if(Se.addDefaultProtocol&&Ve.startsWith("www.")){const At=Ve.match(/\./g);At&&At.length>=2&&(Ve=`http://${Ve}`)}if(Se.tryConvertEncoding)try{Ve=Yi(Ve)}catch{}}const nt=De?new URL(Ve,De):new URL(Ve);if(function p(Ve){if(!Ve)return!1;switch(Ve.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(nt))return nt}catch{}return null},I.escapeString=function kn(Ve){return Ve.replace(/([()\\\n\r])/g,De=>"\n"===De?"\\n":"\r"===De?"\\r":`\\${De}`)},I.getModificationDate=function pi(Ve=new Date){return[Ve.getUTCFullYear().toString(),(Ve.getUTCMonth()+1).toString().padStart(2,"0"),Ve.getUTCDate().toString().padStart(2,"0"),Ve.getUTCHours().toString().padStart(2,"0"),Ve.getUTCMinutes().toString().padStart(2,"0"),Ve.getUTCSeconds().toString().padStart(2,"0")].join("")},I.getVerbosityLevel=function O(){return J},I.info=function _(Ve){J>=Oe.INFOS&&console.log(`Info: ${Ve}`)},I.isArrayBuffer=function Or(Ve){return"object"==typeof Ve&&null!==Ve&&void 0!==Ve.byteLength},I.isArrayEqual=function zo(Ve,De){if(Ve.length!==De.length)return!1;for(let Se=0,nt=Ve.length;Se<nt;Se++)if(Ve[Se]!==De[Se])return!1;return!0},I.isAscii=function un(Ve){return/^[\x00-\x7F]*$/.test(Ve)},I.objectFromMap=function Te(Ve){const De=Object.create(null);for(const[Se,nt]of Ve)De[Se]=nt;return De},I.objectSize=function qe(Ve){return Object.keys(Ve).length},I.setVerbosityLevel=function Z(Ve){Number.isInteger(Ve)&&(J=Ve)},I.shadow=W,I.string32=function Ie(Ve){return String.fromCharCode(Ve>>24&255,Ve>>16&255,Ve>>8&255,255&Ve)},I.stringToBytes=Ne,I.stringToPDFString=function dn(Ve){if(Ve[0]>="\xef"){let Se;if("\xfe"===Ve[0]&&"\xff"===Ve[1]?Se="utf-16be":"\xff"===Ve[0]&&"\xfe"===Ve[1]?Se="utf-16le":"\xef"===Ve[0]&&"\xbb"===Ve[1]&&"\xbf"===Ve[2]&&(Se="utf-8"),Se)try{const nt=new TextDecoder(Se,{fatal:!0}),At=Ne(Ve);return nt.decode(At)}catch(nt){S(`stringToPDFString: "${nt}".`)}}const De=[];for(let Se=0,nt=Ve.length;Se<nt;Se++){const At=Jt[Ve.charCodeAt(Se)];De.push(At?String.fromCharCode(At):Ve.charAt(Se))}return De.join("")},I.stringToUTF16BEString=function Yt(Ve){const De=["\xfe\xff"];for(let Se=0,nt=Ve.length;Se<nt;Se++){const At=Ve.charCodeAt(Se);De.push(String.fromCharCode(At>>8&255),String.fromCharCode(255&At))}return De.join("")},I.stringToUTF8String=Yi,I.unreachable=z,I.utf8StringToString=function vr(Ve){return unescape(encodeURIComponent(Ve))},I.warn=S,ae(2),I.IDENTITY_MATRIX=[1,0,0,1,0,0],I.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],I.LINE_FACTOR=1.35,I.LINE_DESCENT_FACTOR=.35,I.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},I.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},I.AnnotationEditorPrefix="pdfjs_internal_editor_",I.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},I.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},I.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},I.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},I.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},I.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},I.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},I.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},I.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},I.AnnotationReplyType={GROUP:"Group",REPLY:"R"},I.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},I.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},I.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},I.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},I.PageActionEventType={O:"PageOpen",C:"PageClose"},I.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},I.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const Oe={ERRORS:0,WARNINGS:1,INFOS:5};I.VerbosityLevel=Oe,I.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},I.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},I.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let J=Oe.WARNINGS;function S(Ve){J>=Oe.WARNINGS&&console.log(`Warning: ${Ve}`)}function z(Ve){throw new Error(Ve)}function W(Ve,De,Se){return Object.defineProperty(Ve,De,{value:Se,enumerable:!0,configurable:!0,writable:!1}),Se}const ne=function(){function De(Se,nt){this.constructor===De&&z("Cannot initialize BaseException."),this.message=Se,this.name=nt}return De.prototype=new Error,De.constructor=De,De}();function Ne(Ve){"string"!=typeof Ve&&z("Invalid argument for stringToBytes");const De=Ve.length,Se=new Uint8Array(De);for(let nt=0;nt<De;++nt)Se[nt]=255&Ve.charCodeAt(nt);return Se}function He(Ve){return void 0!==Ve.length?Ve.length:void 0!==Ve.byteLength?Ve.byteLength:void z("Invalid argument for arrayByteLength")}I.BaseException=ne,I.PasswordException=class se extends ne{constructor(De,Se){super(De,"PasswordException"),this.code=Se}},I.UnknownErrorException=class he extends ne{constructor(De,Se){super(De,"UnknownErrorException"),this.details=Se}},I.InvalidPDFException=class Y extends ne{constructor(De){super(De,"InvalidPDFException")}},I.MissingPDFException=class re extends ne{constructor(De){super(De,"MissingPDFException")}},I.UnexpectedResponseException=class ue extends ne{constructor(De,Se){super(De,"UnexpectedResponseException"),this.status=Se}},I.FormatError=class pe extends ne{constructor(De){super(De,"FormatError")}},I.AbortException=class Ce extends ne{constructor(De){super(De,"AbortException")}},I.FeatureTest=class et{static get isLittleEndian(){return W(this,"isLittleEndian",function lt(){const Ve=new Uint8Array(4);return Ve[0]=1,1===new Uint32Array(Ve.buffer,0,1)[0]}())}static get isEvalSupported(){return W(this,"isEvalSupported",function ct(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return W(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const bt=[...Array(256).keys()].map(Ve=>Ve.toString(16).padStart(2,"0"));class ft{static makeHexColor(De,Se,nt){return`#${bt[De]}${bt[Se]}${bt[nt]}`}static scaleMinMax(De,Se){let nt;De[0]?(De[0]<0&&(nt=Se[0],Se[0]=Se[1],Se[1]=nt),Se[0]*=De[0],Se[1]*=De[0],De[3]<0&&(nt=Se[2],Se[2]=Se[3],Se[3]=nt),Se[2]*=De[3],Se[3]*=De[3]):(nt=Se[0],Se[0]=Se[2],Se[2]=nt,nt=Se[1],Se[1]=Se[3],Se[3]=nt,De[1]<0&&(nt=Se[2],Se[2]=Se[3],Se[3]=nt),Se[2]*=De[1],Se[3]*=De[1],De[2]<0&&(nt=Se[0],Se[0]=Se[1],Se[1]=nt),Se[0]*=De[2],Se[1]*=De[2]),Se[0]+=De[4],Se[1]+=De[4],Se[2]+=De[5],Se[3]+=De[5]}static transform(De,Se){return[De[0]*Se[0]+De[2]*Se[1],De[1]*Se[0]+De[3]*Se[1],De[0]*Se[2]+De[2]*Se[3],De[1]*Se[2]+De[3]*Se[3],De[0]*Se[4]+De[2]*Se[5]+De[4],De[1]*Se[4]+De[3]*Se[5]+De[5]]}static applyTransform(De,Se){return[De[0]*Se[0]+De[1]*Se[2]+Se[4],De[0]*Se[1]+De[1]*Se[3]+Se[5]]}static applyInverseTransform(De,Se){const nt=Se[0]*Se[3]-Se[1]*Se[2];return[(De[0]*Se[3]-De[1]*Se[2]+Se[2]*Se[5]-Se[4]*Se[3])/nt,(-De[0]*Se[1]+De[1]*Se[0]+Se[4]*Se[1]-Se[5]*Se[0])/nt]}static getAxialAlignedBoundingBox(De,Se){const nt=ft.applyTransform(De,Se),At=ft.applyTransform(De.slice(2,4),Se),Nt=ft.applyTransform([De[0],De[3]],Se),Ct=ft.applyTransform([De[2],De[1]],Se);return[Math.min(nt[0],At[0],Nt[0],Ct[0]),Math.min(nt[1],At[1],Nt[1],Ct[1]),Math.max(nt[0],At[0],Nt[0],Ct[0]),Math.max(nt[1],At[1],Nt[1],Ct[1])]}static inverseTransform(De){const Se=De[0]*De[3]-De[1]*De[2];return[De[3]/Se,-De[1]/Se,-De[2]/Se,De[0]/Se,(De[2]*De[5]-De[4]*De[3])/Se,(De[4]*De[1]-De[5]*De[0])/Se]}static apply3dTransform(De,Se){return[De[0]*Se[0]+De[1]*Se[1]+De[2]*Se[2],De[3]*Se[0]+De[4]*Se[1]+De[5]*Se[2],De[6]*Se[0]+De[7]*Se[1]+De[8]*Se[2]]}static singularValueDecompose2dScale(De){const Se=[De[0],De[2],De[1],De[3]],nt=De[0]*Se[0]+De[1]*Se[2],Ct=De[2]*Se[1]+De[3]*Se[3],yr=(nt+Ct)/2,zn=Math.sqrt((nt+Ct)**2-4*(nt*Ct-(De[2]*Se[0]+De[3]*Se[2])*(De[0]*Se[1]+De[1]*Se[3])))/2,Zn=yr-zn||1;return[Math.sqrt(yr+zn||1),Math.sqrt(Zn)]}static normalizeRect(De){const Se=De.slice(0);return De[0]>De[2]&&(Se[0]=De[2],Se[2]=De[0]),De[1]>De[3]&&(Se[1]=De[3],Se[3]=De[1]),Se}static intersect(De,Se){const nt=Math.max(Math.min(De[0],De[2]),Math.min(Se[0],Se[2])),At=Math.min(Math.max(De[0],De[2]),Math.max(Se[0],Se[2]));if(nt>At)return null;const Nt=Math.max(Math.min(De[1],De[3]),Math.min(Se[1],Se[3])),Ct=Math.min(Math.max(De[1],De[3]),Math.max(Se[1],Se[3]));return Nt>Ct?null:[nt,Nt,At,Ct]}static bezierBoundingBox(De,Se,nt,At,Nt,Ct,yr,zn){const Ut=[],Zn=[[],[]];let Rr,Bt,Ki,ut,lr,Zt,Jn,An;for(let Pl=0;Pl<2;++Pl)if(0===Pl?(Bt=6*De-12*nt+6*Nt,Rr=-3*De+9*nt-9*Nt+3*yr,Ki=3*nt-3*De):(Bt=6*Se-12*At+6*Ct,Rr=-3*Se+9*At-9*Ct+3*zn,Ki=3*At-3*Se),Math.abs(Rr)<1e-12){if(Math.abs(Bt)<1e-12)continue;ut=-Ki/Bt,0<ut&&ut<1&&Ut.push(ut)}else Jn=Bt*Bt-4*Ki*Rr,An=Math.sqrt(Jn),!(Jn<0)&&(lr=(-Bt+An)/(2*Rr),0<lr&&lr<1&&Ut.push(lr),Zt=(-Bt-An)/(2*Rr),0<Zt&&Zt<1&&Ut.push(Zt));let gi,on=Ut.length;const dt=on;for(;on--;)ut=Ut[on],gi=1-ut,Zn[0][on]=gi*gi*gi*De+3*gi*gi*ut*nt+3*gi*ut*ut*Nt+ut*ut*ut*yr,Zn[1][on]=gi*gi*gi*Se+3*gi*gi*ut*At+3*gi*ut*ut*Ct+ut*ut*ut*zn;return Zn[0][dt]=De,Zn[1][dt]=Se,Zn[0][dt+1]=yr,Zn[1][dt+1]=zn,Zn[0].length=Zn[1].length=dt+2,[Math.min(...Zn[0]),Math.min(...Zn[1]),Math.max(...Zn[0]),Math.max(...Zn[1])]}}I.Util=ft;const Jt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Yi(Ve){return decodeURIComponent(escape(Ve))}},(Pe,I,ae)=>{ae(3)},(Pe,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.isNodeJS=void 0;const ae=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);I.isNodeJS=ae},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Pe,NodeCMapReaderFactory:I,NodeStandardFontDataFactory:ae}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=Pe,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=I,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=ae}function setPDFNetworkStreamFactory(Pe){createPDFNetworkStream=Pe}function getDocument(Pe){const I=new PDFDocumentLoadingTask;let ae;if("string"==typeof Pe||Pe instanceof URL)ae={url:Pe};else if((0,_util.isArrayBuffer)(Pe))ae={data:Pe};else if(Pe instanceof PDFDataRangeTransport)ae={range:Pe};else{if("object"!=typeof Pe)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Pe.url&&!Pe.data&&!Pe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");ae=Pe}const k=Object.create(null);let q=null,ve=null;for(const be in ae){const Q=ae[be];switch(be){case"url":if(typeof window<"u")try{k[be]=new URL(Q,window.location).href;continue}catch(v){(0,_util.warn)(`Cannot create valid URL: "${v}".`)}else if("string"==typeof Q||Q instanceof URL){k[be]=Q.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":q=Q;continue;case"worker":ve=Q;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Q instanceof Buffer)k[be]=new Uint8Array(Q);else{if(Q instanceof Uint8Array)break;if("string"==typeof Q)k[be]=(0,_util.stringToBytes)(Q);else if("object"!=typeof Q||null===Q||isNaN(Q.length)){if(!(0,_util.isArrayBuffer)(Q))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");k[be]=new Uint8Array(Q)}else k[be]=new Uint8Array(Q)}continue}k[be]=Q}if(k.CMapReaderFactory=k.CMapReaderFactory||DefaultCMapReaderFactory,k.StandardFontDataFactory=k.StandardFontDataFactory||DefaultStandardFontDataFactory,k.ignoreErrors=!0!==k.stopAtErrors,k.fontExtraProperties=!0===k.fontExtraProperties,k.pdfBug=!0===k.pdfBug,k.enableXfa=!0===k.enableXfa,(!Number.isInteger(k.rangeChunkSize)||k.rangeChunkSize<1)&&(k.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof k.docBaseUrl||(0,_display_utils.isDataScheme)(k.docBaseUrl))&&(k.docBaseUrl=null),(!Number.isInteger(k.maxImageSize)||k.maxImageSize<-1)&&(k.maxImageSize=-1),"string"!=typeof k.cMapUrl&&(k.cMapUrl=null),"string"!=typeof k.standardFontDataUrl&&(k.standardFontDataUrl=null),"boolean"!=typeof k.useWorkerFetch&&(k.useWorkerFetch=k.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&k.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof k.isEvalSupported&&(k.isEvalSupported=!0),"boolean"!=typeof k.disableFontFace&&(k.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof k.useSystemFonts&&(k.useSystemFonts=!_is_node.isNodeJS&&!k.disableFontFace),("object"!=typeof k.ownerDocument||null===k.ownerDocument)&&(k.ownerDocument=globalThis.document),"boolean"!=typeof k.disableRange&&(k.disableRange=!1),"boolean"!=typeof k.disableStream&&(k.disableStream=!1),"boolean"!=typeof k.disableAutoFetch&&(k.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(k.verbosity),!ve){const be={verbosity:k.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};ve=be.port?PDFWorker.fromPort(be):new PDFWorker(be),I._worker=ve}const ce=I.docId;return ve.promise.then(function(){if(I.destroyed)throw new Error("Loading aborted");const be=_fetchDocument(ve,k,q,ce),Q=new Promise(function(v){let T;q?T=new _transport_stream.PDFDataTransportStream({length:k.length,initialData:k.initialData,progressiveDone:k.progressiveDone,contentDispositionFilename:k.contentDispositionFilename,disableRange:k.disableRange,disableStream:k.disableStream},q):k.data||(T=createPDFNetworkStream({url:k.url,length:k.length,httpHeaders:k.httpHeaders,withCredentials:k.withCredentials,rangeChunkSize:k.rangeChunkSize,disableRange:k.disableRange,disableStream:k.disableStream})),v(T)});return Promise.all([be,Q]).then(function([v,T]){if(I.destroyed)throw new Error("Loading aborted");const C=new _message_handler.MessageHandler(ce,v,ve.port),A=new WorkerTransport(C,I,T,k);I._transport=A,C.send("Ready",null)})}).catch(I._capability.reject),I}function _fetchDocument(Pe,I,ae,k){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Pe,I,ae,k){if(Pe.destroyed)throw new Error("Worker was destroyed");ae&&(I.length=ae.length,I.initialData=ae.initialData,I.progressiveDone=ae.progressiveDone,I.contentDispositionFilename=ae.contentDispositionFilename);const q=yield Pe.messageHandler.sendWithPromise("GetDocRequest",{docId:k,apiVersion:"2.16.105",source:{data:I.data,url:I.url,password:I.password,disableAutoFetch:I.disableAutoFetch,rangeChunkSize:I.rangeChunkSize,length:I.length},maxImageSize:I.maxImageSize,disableFontFace:I.disableFontFace,docBaseUrl:I.docBaseUrl,ignoreErrors:I.ignoreErrors,isEvalSupported:I.isEvalSupported,fontExtraProperties:I.fontExtraProperties,enableXfa:I.enableXfa,useSystemFonts:I.useSystemFonts,cMapUrl:I.useWorkerFetch?I.cMapUrl:null,standardFontDataUrl:I.useWorkerFetch?I.standardFontDataUrl:null});if(I.data&&(I.data=null),Pe.destroyed)throw new Error("Worker was destroyed");return q})).apply(this,arguments)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var I=this;return _asyncToGenerator(function*(){I.destroyed=!0,yield I._transport?.destroy(),I._transport=null,I._worker&&(I._worker.destroy(),I._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(I,ae,k=!1,q=null){this.length=I,this.initialData=ae,this.progressiveDone=k,this.contentDispositionFilename=q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(I){this._rangeListeners.push(I)}addProgressListener(I){this._progressListeners.push(I)}addProgressiveReadListener(I){this._progressiveReadListeners.push(I)}addProgressiveDoneListener(I){this._progressiveDoneListeners.push(I)}onDataRange(I,ae){for(const k of this._rangeListeners)k(I,ae)}onDataProgress(I,ae){this._readyCapability.promise.then(()=>{for(const k of this._progressListeners)k(I,ae)})}onDataProgressiveRead(I){this._readyCapability.promise.then(()=>{for(const ae of this._progressiveReadListeners)ae(I)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const I of this._progressiveDoneListeners)I()})}transportReady(){this._readyCapability.resolve()}requestDataRange(I,ae){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(I,ae){var q,k=this;this._pdfInfo=I,this._transport=ae,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(q=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),k.stats||{streamTypes:{},fontTypes:{}}}),function(){return q.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(I){return this._transport.getPage(I)}getPageIndex(I){return this._transport.getPageIndex(I)}getDestinations(){return this._transport.getDestinations()}getDestination(I){return this._transport.getDestination(I)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(I=!1){return this._transport.startCleanup(I||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(I,ae,k,q,ve=!1){this._pageIndex=I,this._pageInfo=ae,this._ownerDocument=q,this._transport=k,this._stats=ve?new _display_utils.StatTimer:null,this._pdfBug=ve,this.commonObjs=k.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:I,rotation:ae=this.rotate,offsetX:k=0,offsetY:q=0,dontFlip:ve=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:I,rotation:ae,offsetX:k,offsetY:q,dontFlip:ve})}getAnnotations({intent:I="display"}={}){const ae=this._transport.getRenderingIntent(I);let k=this._annotationPromises.get(ae.cacheKey);return k||(k=this._transport.getAnnotations(this._pageIndex,ae.renderingIntent),this._annotationPromises.set(ae.cacheKey,k),k=k.then(q=>{for(const ve of q)void 0!==ve.titleObj&&Object.defineProperty(ve,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),ve.titleObj.str)}),void 0!==ve.contentsObj&&Object.defineProperty(ve,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),ve.contentsObj.str)});return q})),k}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var I=this;return _asyncToGenerator(function*(){return I._transport._htmlForXfa?.children[I._pageIndex]||null})()}render({canvasContext:I,viewport:ae,intent:k="display",annotationMode:q=_util.AnnotationMode.ENABLE,transform:ve=null,imageLayer:ce=null,canvasFactory:be=null,background:Q=null,optionalContentConfigPromise:v=null,annotationCanvasMap:T=null,pageColors:C=null,printAnnotationStorage:A=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&q===_util.AnnotationMode.ENABLE&&(q=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&q===_util.AnnotationMode.ENABLE&&(q=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const U=this._transport.getRenderingIntent(k,q,A);this.pendingCleanup=!1,v||(v=this._transport.getOptionalContentConfig());let D=this._intentStates.get(U.cacheKey);D||(D=Object.create(null),this._intentStates.set(U.cacheKey,D)),D.streamReaderCancelTimeout&&(clearTimeout(D.streamReaderCancelTimeout),D.streamReaderCancelTimeout=null);const E=be||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),w=!!(U.renderingIntent&_util.RenderingIntentFlag.PRINT);D.displayReadyCapability||(D.displayReadyCapability=(0,_util.createPromiseCapability)(),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(U));const V=M=>{D.renderTasks.delete(L),(this.cleanupAfterRender||w)&&(this.pendingCleanup=!0),this._tryCleanup(),M?(L.capability.reject(M),this._abortOperatorList({intentState:D,reason:M instanceof Error?M:new Error(M)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},L=new InternalRenderTask({callback:V,params:{canvasContext:I,viewport:ae,transform:ve,imageLayer:ce,background:Q},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:T,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:E,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:C});(D.renderTasks||=new Set).add(L);const P=L.task;return Promise.all([D.displayReadyCapability.promise,v]).then(([M,g])=>{this.pendingCleanup?V():(this._stats&&this._stats.time("Rendering"),L.initializeGraphics({transparency:M,optionalContentConfig:g}),L.operatorListChanged())}).catch(V),P}getOperatorList({intent:I="display",annotationMode:ae=_util.AnnotationMode.ENABLE,printAnnotationStorage:k=null}={}){const ve=this._transport.getRenderingIntent(I,ae,k,!0);let be,ce=this._intentStates.get(ve.cacheKey);return ce||(ce=Object.create(null),this._intentStates.set(ve.cacheKey,ce)),ce.opListReadCapability||(be=Object.create(null),be.operatorListChanged=function q(){ce.operatorList.lastChunk&&(ce.opListReadCapability.resolve(ce.operatorList),ce.renderTasks.delete(be))},ce.opListReadCapability=(0,_util.createPromiseCapability)(),(ce.renderTasks||=new Set).add(be),ce.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ve)),ce.opListReadCapability.promise}streamTextContent({disableCombineTextItems:I=!1,includeMarkedContent:ae=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==I,includeMarkedContent:!0===ae},{highWaterMark:100,size:q=>q.items.length})}getTextContent(I={}){if(this._transport._htmlForXfa)return this.getXfa().then(k=>_xfa_text.XfaText.textContent(k));const ae=this.streamTextContent(I);return new Promise(function(k,q){const ce=ae.getReader(),be={items:[],styles:Object.create(null)};!function ve(){ce.read().then(function({value:Q,done:v}){v?k(be):(Object.assign(be.styles,Q.styles),be.items.push(...Q.items),ve())},q)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const I=[];for(const ae of this._intentStates.values())if(this._abortOperatorList({intentState:ae,reason:new Error("Page was destroyed."),force:!0}),!ae.opListReadCapability)for(const k of ae.renderTasks)I.push(k.completed),k.cancel();this.objs.clear();for(const ae of this._bitmaps)ae.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(I)}cleanup(I=!1){return this.pendingCleanup=!0,this._tryCleanup(I)}_tryCleanup(I=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:ae,operatorList:k}of this._intentStates.values())if(ae.size>0||!k.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,I&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const ae of this._bitmaps)ae.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(I,ae){const k=this._intentStates.get(ae);k&&(this._stats&&this._stats.timeEnd("Page Request"),k.displayReadyCapability&&k.displayReadyCapability.resolve(I))}_renderPageChunk(I,ae){for(let k=0,q=I.length;k<q;k++)ae.operatorList.fnArray.push(I.fnArray[k]),ae.operatorList.argsArray.push(I.argsArray[k]);ae.operatorList.lastChunk=I.lastChunk,ae.operatorList.separateAnnots=I.separateAnnots;for(const k of ae.renderTasks)k.operatorListChanged();I.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:I,cacheKey:ae,annotationStorageMap:k}){const ve=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:I,cacheKey:ae,annotationStorage:k}).getReader(),ce=this._intentStates.get(ae);ce.streamReader=ve;const be=()=>{ve.read().then(({value:Q,done:v})=>{v?ce.streamReader=null:this._transport.destroyed||(this._renderPageChunk(Q,ce),be())},Q=>{if(ce.streamReader=null,!this._transport.destroyed){if(ce.operatorList){ce.operatorList.lastChunk=!0;for(const v of ce.renderTasks)v.operatorListChanged();this._tryCleanup()}if(ce.displayReadyCapability)ce.displayReadyCapability.reject(Q);else{if(!ce.opListReadCapability)throw Q;ce.opListReadCapability.reject(Q)}}})};be()}_abortOperatorList({intentState:I,reason:ae,force:k=!1}){if(I.streamReader){if(!k){if(I.renderTasks.size>0)return;if(ae instanceof _display_utils.RenderingCancelledException)return void(I.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:I,reason:ae,force:!0}),I.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(I.streamReader.cancel(new _util.AbortException(ae.message)).catch(()=>{}),I.streamReader=null,!this._transport.destroyed){for(const[q,ve]of this._intentStates)if(ve===I){this._intentStates.delete(q);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(I,ae){const k={data:structuredClone(I,ae)};this._deferred.then(()=>{for(const q of this._listeners)q.call(this,k)})}addEventListener(I,ae){this._listeners.push(ae)}removeEventListener(I,ae){const k=this._listeners.indexOf(ae);this._listeners.splice(k,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Pe=document?.currentScript?.src;Pe&&(PDFWorkerUtil.fallbackWorkerSrc=Pe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Pe,I){let ae;try{if(ae=new URL(Pe),!ae.origin||"null"===ae.origin)return!1}catch{return!1}const k=new URL(I,ae);return ae.origin===k.origin},PDFWorkerUtil.createCDNWrapper=function(Pe){return URL.createObjectURL(new Blob([`importScripts("${Pe}");`]))};class PDFWorker{static#workerPorts=new WeakMap;constructor({name:Pe=null,port:I=null,verbosity:ae=(0,_util.getVerbosityLevel)()}={}){if(I&&PDFWorker.#workerPorts.has(I))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Pe,this.destroyed=!1,this.verbosity=ae,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,I)return PDFWorker.#workerPorts.set(I,this),void this._initializeFromPort(I);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Pe){this._port=Pe,this._messageHandler=new _message_handler.MessageHandler("main","worker",Pe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Pe}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Pe)||(Pe=PDFWorkerUtil.createCDNWrapper(new URL(Pe,window.location).href));const I=new Worker(Pe),ae=new _message_handler.MessageHandler("main","worker",I),k=()=>{I.removeEventListener("error",q),ae.destroy(),I.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},q=()=>{this._webWorker||k()};I.addEventListener("error",q),ae.on("test",ce=>{I.removeEventListener("error",q),this.destroyed?k():ce?(this._messageHandler=ae,this._port=I,this._webWorker=I,this._readyCapability.resolve(),ae.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ae.destroy(),I.terminate())}),ae.on("ready",ce=>{if(I.removeEventListener("error",q),this.destroyed)k();else try{ve()}catch{this._setupFakeWorker()}});const ve=()=>{const ce=new Uint8Array;ae.send("test",ce,[ce.buffer])};return void ve()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(Pe=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const I=new LoopbackPort;this._port=I;const ae="fake"+PDFWorkerUtil.fakeWorkerId++,k=new _message_handler.MessageHandler(ae+"_worker",ae,I);Pe.setup(k,I);const q=new _message_handler.MessageHandler(ae,ae+"_worker",I);this._messageHandler=q,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})}).catch(Pe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Pe.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Pe){if(!Pe?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(Pe.port)?this.#workerPorts.get(Pe.port):new PDFWorker(Pe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Pe(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#i=null;constructor(I,ae,k,q){this.messageHandler=I,this.loadingTask=ae,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:ae.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:q.ownerDocument,styleElement:q.styleElement}),this._params=q,q.useWorkerFetch||(this.CMapReaderFactory=new q.CMapReaderFactory({baseUrl:q.cMapUrl,isCompressed:q.cMapPacked}),this.StandardFontDataFactory=new q.StandardFontDataFactory({baseUrl:q.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=k,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(I,ae=_util.AnnotationMode.ENABLE,k=null,q=!1){let ve=_util.RenderingIntentFlag.DISPLAY,ce=null;switch(I){case"any":ve=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ve=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${I}`)}switch(ae){case _util.AnnotationMode.DISABLE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ve+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ce=(ve&_util.RenderingIntentFlag.PRINT&&k instanceof _annotation_storage.PrintAnnotationStorage?k:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ae}`)}return q&&(ve+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ve,cacheKey:`${ve}_${_annotation_storage.AnnotationStorage.getHash(ce)}`,annotationStorageMap:ce}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const I=[];for(const k of this.#t.values())I.push(k._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ae=this.messageHandler.sendWithPromise("Terminate",null);return I.push(ae),Promise.all(I).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:I,loadingTask:ae}=this;I.on("GetReader",(k,q)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ve=>{this._lastProgress={loaded:ve.loaded,total:ve.total}},q.onPull=()=>{this._fullReader.read().then(function({value:ve,done:ce}){ce?q.close():((0,_util.assert)((0,_util.isArrayBuffer)(ve),"GetReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(ve),1,[ve]))}).catch(ve=>{q.error(ve)})},q.onCancel=ve=>{this._fullReader.cancel(ve),q.ready.catch(ce=>{if(!this.destroyed)throw ce})}}),I.on("ReaderHeadersReady",k=>{const q=(0,_util.createPromiseCapability)(),ve=this._fullReader;return ve.headersReady.then(()=>{(!ve.isStreamingSupported||!ve.isRangeSupported)&&(this._lastProgress&&ae.onProgress?.(this._lastProgress),ve.onProgress=ce=>{ae.onProgress?.({loaded:ce.loaded,total:ce.total})}),q.resolve({isStreamingSupported:ve.isStreamingSupported,isRangeSupported:ve.isRangeSupported,contentLength:ve.contentLength})},q.reject),q.promise}),I.on("GetRangeReader",(k,q)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ve=this._networkStream.getRangeReader(k.begin,k.end);ve?(q.onPull=()=>{ve.read().then(function({value:ce,done:be}){be?q.close():((0,_util.assert)((0,_util.isArrayBuffer)(ce),"GetRangeReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(ce),1,[ce]))}).catch(ce=>{q.error(ce)})},q.onCancel=ce=>{ve.cancel(ce),q.ready.catch(be=>{if(!this.destroyed)throw be})}):q.close()}),I.on("GetDoc",({pdfInfo:k})=>{this._numPages=k.numPages,this._htmlForXfa=k.htmlForXfa,delete k.htmlForXfa,ae._capability.resolve(new PDFDocumentProxy(k,this))}),I.on("DocException",function(k){let q;switch(k.name){case"PasswordException":q=new _util.PasswordException(k.message,k.code);break;case"InvalidPDFException":q=new _util.InvalidPDFException(k.message);break;case"MissingPDFException":q=new _util.MissingPDFException(k.message);break;case"UnexpectedResponseException":q=new _util.UnexpectedResponseException(k.message,k.status);break;case"UnknownErrorException":q=new _util.UnknownErrorException(k.message,k.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ae._capability.reject(q)}),I.on("PasswordRequest",k=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),ae.onPassword){const q=ve=>{ve instanceof Error?this._passwordCapability.reject(ve):this._passwordCapability.resolve({password:ve})};try{ae.onPassword(q,k.code)}catch(ve){this._passwordCapability.reject(ve)}}else this._passwordCapability.reject(new _util.PasswordException(k.message,k.code));return this._passwordCapability.promise}),I.on("DataLoaded",k=>{ae.onProgress?.({loaded:k.length,total:k.length}),this.downloadInfoCapability.resolve(k)}),I.on("StartRenderPage",k=>{this.destroyed||this.#t.get(k.pageIndex)._startRenderPage(k.transparency,k.cacheKey)}),I.on("commonobj",([k,q,ve])=>{if(!this.destroyed&&!this.commonObjs.has(k))switch(q){case"Font":const ce=this._params;if("error"in ve){const v=ve.error;(0,_util.warn)(`Error during font loading: ${v}`),this.commonObjs.resolve(k,v);break}let be=null;ce.pdfBug&&globalThis.FontInspector?.enabled&&(be={registerFont(v,T){globalThis.FontInspector.fontAdded(v,T)}});const Q=new _font_loader.FontFaceObject(ve,{isEvalSupported:ce.isEvalSupported,disableFontFace:ce.disableFontFace,ignoreErrors:ce.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:be});this.fontLoader.bind(Q).catch(v=>I.sendWithPromise("FontFallback",{id:k})).finally(()=>{!ce.fontExtraProperties&&Q.data&&(Q.data=null),this.commonObjs.resolve(k,Q)});break;case"FontPath":case"Image":this.commonObjs.resolve(k,ve);break;default:throw new Error(`Got unknown common object type ${q}`)}}),I.on("obj",([k,q,ve,ce])=>{if(this.destroyed)return;const be=this.#t.get(q);if(!be.objs.has(k))switch(ve){case"Image":be.objs.resolve(k,ce);const Q=8e6;if(ce){let v;if(ce.bitmap){const{bitmap:T,width:C,height:A}=ce;v=C*A*4,be._bitmaps.add(T)}else v=ce.data?.length||0;v>Q&&(be.cleanupAfterRender=!0)}break;case"Pattern":be.objs.resolve(k,ce);break;default:throw new Error(`Got unknown object type ${ve}`)}}),I.on("DocProgress",k=>{this.destroyed||ae.onProgress?.({loaded:k.loaded,total:k.total})}),I.on("DocStats",k=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(k.streamTypes),fontTypes:Object.freeze(k.fontTypes)}))}),I.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),I.on("FetchBuiltInCMap",k=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(k):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),I.on("FetchStandardFontData",k=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(k):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:I}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(I)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(I){if(!Number.isInteger(I)||I<=0||I>this._numPages)return Promise.reject(new Error("Invalid page request."));const ae=I-1,k=this.#n.get(ae);if(k)return k;const q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ae}).then(ve=>{if(this.destroyed)throw new Error("Transport destroyed");const ce=new PDFPageProxy(ae,ve,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(ae,ce),ce});return this.#n.set(ae,q),q}getPageIndex(I){return"object"!=typeof I||null===I||!Number.isInteger(I.num)||I.num<0||!Number.isInteger(I.gen)||I.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:I.num,gen:I.gen})}getAnnotations(I,ae){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:I,intent:ae})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(I){return"string"!=typeof I?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:I})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(I){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:I})}getStructTree(I){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:I})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(I=>new _optional_content_config.OptionalContentConfig(I))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#i||=this.messageHandler.sendWithPromise("GetMetadata",null).then(I=>({info:I[0],metadata:I[1]?new _metadata.Metadata(I[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(I=!1){var ae=this;return _asyncToGenerator(function*(){if(yield ae.messageHandler.sendWithPromise("Cleanup",null),!ae.destroyed){for(const k of ae.#t.values())if(!k.cleanup())throw new Error(`startCleanup: Page ${k.pageNumber} is currently rendering.`);ae.commonObjs.clear(),I||ae.fontLoader.clear(),ae.#i=null,ae._getFieldObjectsPromise=null,ae._hasJSActionsPromise=null}})()}get loadingParams(){const I=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:I.disableAutoFetch,enableXfa:I.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(I){return this.#e[I]||(this.#e[I]={capability:(0,_util.createPromiseCapability)(),data:null})}get(I,ae=null){if(ae){const q=this.#t(I);return q.capability.promise.then(()=>ae(q.data)),null}const k=this.#e[I];if(!k?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${I}.`);return k.data}has(I){return this.#e[I]?.capability.settled||!1}resolve(I,ae=null){const k=this.#t(I);k.data=ae,k.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(I){this.#e=I,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){const{separateAnnots:I}=this.#e.operatorList;if(!I)return!1;const{annotationCanvasMap:ae}=this.#e;return I.form||I.canvas&&ae?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:I,params:ae,objs:k,commonObjs:q,annotationCanvasMap:ve,operatorList:ce,pageIndex:be,canvasFactory:Q,useRequestAnimationFrame:v=!1,pdfBug:T=!1,pageColors:C=null}){this.callback=I,this.params=ae,this.objs=k,this.commonObjs=q,this.annotationCanvasMap=ve,this.operatorListIdx=null,this.operatorList=ce,this._pageIndex=be,this.canvasFactory=Q,this._pdfBug=T,this.pageColors=C,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===v&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ae.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:I=!1,optionalContentConfig:ae}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:k,viewport:q,transform:ve,imageLayer:ce,background:be}=this.params;this.gfx=new _canvas.CanvasGraphics(k,this.commonObjs,this.objs,this.canvasFactory,ce,ae,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ve,viewport:q,transparency:I,background:be}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(I=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(I||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var I=this;return _asyncToGenerator(function*(){I.cancelled||(I.operatorListIdx=I.gfx.executeOperatorList(I.operatorList,I.operatorListIdx,I._continueBound,I.stepper),I.operatorListIdx===I.operatorList.argsArray.length&&(I.running=!1,I.operatorList.lastChunk&&(I.gfx.endDrawing(),I._canvas&&InternalRenderTask.#e.delete(I._canvas),I.callback())))})()}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PrintAnnotationStorage=I.AnnotationStorage=void 0;var k=ae(1),q=ae(6),ve=ae(10);class ce{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(v,T){const C=this._storage.get(v);return void 0===C?T:Object.assign(T,C)}getRawValue(v){return this._storage.get(v)}remove(v){if(this._storage.delete(v),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const T of this._storage.values())if(T instanceof q.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(v,T){const C=this._storage.get(v);let A=!1;if(void 0!==C)for(const[U,D]of Object.entries(T))C[U]!==D&&(A=!0,C[U]=D);else A=!0,this._storage.set(v,T);A&&this.#e(),T instanceof q.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(T.constructor._type)}has(v){return this._storage.has(v)}getAll(){return this._storage.size>0?(0,k.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new be(this)}get serializable(){if(0===this._storage.size)return null;const v=new Map;for(const[T,C]of this._storage){const A=C instanceof q.AnnotationEditor?C.serialize():C;A&&v.set(T,A)}return v}static getHash(v){if(!v)return"";const T=new ve.MurmurHash3_64;for(const[C,A]of v)T.update(`${C}:${JSON.stringify(A)}`);return T.hexdigest()}}I.AnnotationStorage=ce;class be extends ce{#e=null;constructor(v){super(),this.#e=structuredClone(v.serializable)}get print(){(0,k.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}I.PrintAnnotationStorage=be},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationEditor=void 0;var k=ae(7),q=ae(1);class ve{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#i=!1;#s=!1;#c=ve._zIndex++;static _colorManager=new k.ColorManager;static _zIndex=1;constructor(be){this.constructor===ve&&(0,q.unreachable)("Cannot initialize AnnotationEditor."),this.parent=be.parent,this.id=be.id,this.width=this.height=null,this.pageIndex=be.parent.pageIndex,this.name=be.name,this.div=null;const[Q,v]=this.parent.viewportBaseDimensions;this.x=be.x/Q,this.y=be.y/v,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,q.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(be){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(be){!this.isAttachedToDOM||be.relatedTarget?.closest(`#${this.id}`)||(be.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(be){const Q=this.parent.div.getBoundingClientRect();this.startX=be.clientX-Q.x,this.startY=be.clientY-Q.y,be.dataTransfer.setData("text/plain",this.id),be.dataTransfer.effectAllowed="move"}setAt(be,Q,v,T){const[C,A]=this.parent.viewportBaseDimensions;[v,T]=this.screenToPageTranslation(v,T),this.x=(be+v)/C,this.y=(Q+T)/A,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(be,Q){const[v,T]=this.parent.viewportBaseDimensions;[be,Q]=this.screenToPageTranslation(be,Q),this.x+=be/v,this.y+=Q/T,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(be,Q){const{rotation:v}=this.parent.viewport;switch(v){case 90:return[Q,-be];case 180:return[-be,-Q];case 270:return[-Q,be];default:return[be,Q]}}setDims(be,Q){const[v,T]=this.parent.viewportBaseDimensions;this.div.style.width=100*be/v+"%",this.div.style.height=100*Q/T+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[be,Q]=this.getInitialTranslation();return this.translate(be,Q),(0,k.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(be){const Q=k.KeyboardManager.platform.isMac;0!==be.button||be.ctrlKey&&Q?be.preventDefault():(be.ctrlKey&&!Q||be.shiftKey||be.metaKey&&Q?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0)}getRect(be,Q){const[v,T]=this.parent.viewportBaseDimensions,[C,A]=this.parent.pageDimensions,U=C*be/v,D=A*Q/T,E=this.x*C,w=this.y*A,V=this.width*C,L=this.height*A;switch(this.rotation){case 0:return[E+U,A-w-D-L,E+U+V,A-w-D];case 90:return[E+D,A-w+U,E+D+L,A-w+U+V];case 180:return[E-U-V,A-w+D,E-U,A-w+D+L];case 270:return[E-D-L,A-w-U-V,E-D,A-w-U];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(be,Q){const[v,T,C,A]=be,U=C-v,D=A-T;switch(this.rotation){case 0:return[v,Q-A,U,D];case 90:return[v,Q-T,D,U];case 180:return[C,Q-T,U,D];case 270:return[C,Q-A,D,U];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,q.unreachable)("An editor must be serializable")}static deserialize(be,Q){const v=new this.prototype.constructor({parent:Q,id:Q.getNextId()});v.rotation=be.rotation;const[T,C]=Q.pageDimensions,[A,U,D,E]=v.getRectInCurrentCoords(be.rect,C);return v.x=A/T,v.y=U/C,v.width=D/T,v.height=E/C,v}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(be,Q){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#i}set isEditing(be){this.#i=be,be?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}I.AnnotationEditor=ve},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.KeyboardManager=I.CommandManager=I.ColorManager=I.AnnotationEditorUIManager=void 0,I.bindEvents=function ve(U,D,E){for(const w of E)D.addEventListener(w,U[w].bind(U))},I.opacityToHex=function ce(U){return Math.round(Math.min(255,Math.max(1,255*U))).toString(16).padStart(2,"0")};var k=ae(1),q=ae(8);class be{#e=0;getId(){return`${k.AnnotationEditorPrefix}${this.#e++}`}}class Q{#e=[];#t=!1;#n;#i=-1;constructor(D=128){this.#n=D}add({cmd:D,undo:E,mustExec:w,type:V=NaN,overwriteIfSameType:L=!1,keepUndo:P=!1}){if(w&&D(),this.#t)return;const M={cmd:D,undo:E,type:V};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(M);if(L&&this.#e[this.#i].type===V)return P&&(M.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=M);const g=this.#i+1;g===this.#n?this.#e.splice(0,1):(this.#i=g,g<this.#e.length&&this.#e.splice(g)),this.#e.push(M)}undo(){-1!==this.#i&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}I.CommandManager=Q;class v{constructor(D){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const E=v.platform.isMac;for(const[w,V]of D)for(const L of w){const P=L.startsWith("mac+");E&&P?(this.callbacks.set(L.slice(4),V),this.allKeys.add(L.split("+").at(-1))):!E&&!P&&(this.callbacks.set(L,V),this.allKeys.add(L.split("+").at(-1)))}}static get platform(){const D=typeof navigator<"u"?navigator.platform:"";return(0,k.shadow)(this,"platform",{isWin:D.includes("Win"),isMac:D.includes("Mac")})}#e(D){D.altKey&&this.buffer.push("alt"),D.ctrlKey&&this.buffer.push("ctrl"),D.metaKey&&this.buffer.push("meta"),D.shiftKey&&this.buffer.push("shift"),this.buffer.push(D.key);const E=this.buffer.join("+");return this.buffer.length=0,E}exec(D,E){if(!this.allKeys.has(E.key))return;const w=this.callbacks.get(this.#e(E));w&&(w.bind(D)(),E.stopPropagation(),E.preventDefault())}}I.KeyboardManager=v;class T{#e=null;copy(D){D&&(Array.isArray(D)?this.#e=D.map(E=>E.serialize()):this.#e=[D.serialize()],this.#e=this.#e.filter(E=>!!E),0===this.#e.length&&(this.#e=null))}paste(){return this.#e}isEmpty(){return null===this.#e}destroy(){this.#e=null}}class C{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const D=new Map([["CanvasText",null],["Canvas",null]]);return(0,q.getColorValues)(D),(0,k.shadow)(this,"_colors",D)}convert(D){const E=(0,q.getRGB)(D);if(!window.matchMedia("(forced-colors: active)").matches)return E;for(const[w,V]of this._colors)if(V.every((L,P)=>L===E[P]))return C._colorsMapping.get(w);return E}getHexCode(D){const E=this._colors.get(D);return E?k.Util.makeHexColor(...E):D}}I.ColorManager=C;class A{#e=null;#t=new Map;#n=new Map;#i=new T;#s=new Q;#c=0;#a=null;#r=null;#h=new be;#d=!1;#l=k.AnnotationEditorType.NONE;#o=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=null;static _keyboardManager=new v([[["ctrl+a","mac+meta+a"],A.prototype.selectAll],[["ctrl+c","mac+meta+c"],A.prototype.copy],[["ctrl+v","mac+meta+v"],A.prototype.paste],[["ctrl+x","mac+meta+x"],A.prototype.cut],[["ctrl+z","mac+meta+z"],A.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],A.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],A.prototype.delete],[["Escape","mac+Escape"],A.prototype.unselectAll]]);constructor(D,E){this.#_=D,this.#r=E,this.#r._on("editingaction",this.#f),this.#r._on("pagechanging",this.#v)}destroy(){this.#b(),this.#r._off("editingaction",this.#f),this.#r._off("pagechanging",this.#v);for(const D of this.#n.values())D.destroy();this.#n.clear(),this.#t.clear(),this.#e=null,this.#o.clear(),this.#i.destroy(),this.#s.destroy()}onPageChanging({pageNumber:D}){this.#c=D-1}focusMainContainer(){this.#_.focus()}#C(){this.#_.addEventListener("keydown",this.#p)}#b(){this.#_.removeEventListener("keydown",this.#p)}keydown(D){this.getActive()?.shouldGetKeyboardEvents()||A._keyboardManager.exec(this,D)}onEditingAction(D){["undo","redo","cut","copy","paste","delete","selectAll"].includes(D.name)&&this[D.name]()}#u(D){Object.entries(D).some(([w,V])=>this.#m[w]!==V)&&this.#r.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,D)})}#x(D){this.#r.dispatch("annotationeditorparamschanged",{source:this,details:D})}setEditingState(D){D?(this.#C(),this.#u({isEditing:this.#l!==k.AnnotationEditorType.NONE,isEmpty:this.#y(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#i.isEmpty()})):(this.#b(),this.#u({isEditing:!1}))}registerEditorTypes(D){this.#a=D;for(const E of this.#a)this.#x(E.defaultPropertiesToUpdate)}getId(){return this.#h.getId()}addLayer(D){this.#n.set(D.pageIndex,D),this.#d?D.enable():D.disable()}removeLayer(D){this.#n.delete(D.pageIndex)}updateMode(D){if(this.#l=D,D===k.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#S();for(const E of this.#n.values())E.updateMode(D)}}updateToolbar(D){D!==this.#l&&this.#r.dispatch("switchannotationeditormode",{source:this,mode:D})}updateParams(D,E){for(const w of this.#o)w.updateParams(D,E);for(const w of this.#a)w.updateDefaultParams(D,E)}#S(){if(!this.#d){this.#d=!0;for(const D of this.#n.values())D.enable()}}#g(){if(this.unselectAll(),this.#d){this.#d=!1;for(const D of this.#n.values())D.disable()}}getEditors(D){const E=[];for(const w of this.#t.values())w.pageIndex===D&&E.push(w);return E}getEditor(D){return this.#t.get(D)}addEditor(D){this.#t.set(D.id,D)}removeEditor(D){this.#t.delete(D.id),this.unselect(D)}#E(D){const E=this.#n.get(D.pageIndex);E?E.addOrRebuild(D):this.addEditor(D)}setActiveEditor(D){this.#e!==D&&(this.#e=D,D&&this.#x(D.propertiesToUpdate))}toggleSelected(D){if(this.#o.has(D))return this.#o.delete(D),D.unselect(),void this.#u({hasSelectedEditor:this.hasSelection});this.#o.add(D),D.select(),this.#x(D.propertiesToUpdate),this.#u({hasSelectedEditor:!0})}setSelected(D){for(const E of this.#o)E!==D&&E.unselect();this.#o.clear(),this.#o.add(D),D.select(),this.#x(D.propertiesToUpdate),this.#u({hasSelectedEditor:!0})}isSelected(D){return this.#o.has(D)}unselect(D){D.unselect(),this.#o.delete(D),this.#u({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#o.size}undo(){this.#s.undo(),this.#u({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#y()})}redo(){this.#s.redo(),this.#u({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#y()})}addCommands(D){this.#s.add(D),this.#u({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#y()})}#y(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const D of this.#t.values())return D.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const D=[...this.#o];this.addCommands({cmd:()=>{for(const V of D)V.remove()},undo:()=>{for(const V of D)this.#E(V)},mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){const D=[];for(const E of this.#o)E.isEmpty()||D.push(E);if(0===D.length)return;this.#i.copy(D),this.#u({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#i.isEmpty())return;this.unselectAll();const D=this.#n.get(this.#c),E=this.#i.paste().map(L=>D.deserialize(L));this.addCommands({cmd:()=>{for(const L of E)this.#E(L);this.#w(E)},undo:()=>{for(const L of E)L.remove()},mustExec:!0})}#w(D){this.#o.clear();for(const E of D)E.isEmpty()||(this.#o.add(E),E.select());this.#u({hasSelectedEditor:!0})}selectAll(){for(const D of this.#o)D.commit();this.#w(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(0!==this.#w.size){for(const D of this.#o)D.unselect();this.#o.clear(),this.#u({hasSelectedEditor:!1})}}isActive(D){return this.#e===D}getActive(){return this.#e}getMode(){return this.#l}}I.AnnotationEditorUIManager=A},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StatTimer=I.RenderingCancelledException=I.PixelsPerInch=I.PageViewport=I.PDFDateString=I.DOMStandardFontDataFactory=I.DOMSVGFactory=I.DOMCanvasFactory=I.DOMCMapReaderFactory=I.AnnotationPrefix=void 0,I.deprecated=function N(te){console.log("Deprecated API usage: "+te)},I.getColorValues=function Oe(te){const oe=document.createElement("span");oe.style.visibility="hidden",document.body.append(oe);for(const J of te.keys()){oe.style.color=J;const Z=window.getComputedStyle(oe).color;te.set(J,de(Z))}oe.remove()},I.getCurrentTransform=function Me(te){const{a:oe,b:J,c:Z,d:O,e:_,f:S}=te.getTransform();return[oe,J,Z,O,_,S]},I.getCurrentTransformInverse=function G(te){const{a:oe,b:J,c:Z,d:O,e:_,f:S}=te.getTransform().invertSelf();return[oe,J,Z,O,_,S]},I.getFilenameFromUrl=function L(te){const oe=te.indexOf("#"),J=te.indexOf("?"),Z=Math.min(oe>0?oe:te.length,J>0?J:te.length);return te.substring(te.lastIndexOf("/",Z)+1,Z)},I.getPdfFilenameFromUrl=function P(te,oe="document.pdf"){if("string"!=typeof te)return oe;if(w(te))return(0,q.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),oe;const Z=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,O=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(te);let _=Z.exec(O[1])||Z.exec(O[2])||Z.exec(O[3]);if(_&&(_=_[0],_.includes("%")))try{_=Z.exec(decodeURIComponent(_))[0]}catch{}return _||oe},I.getRGB=de,I.getXfaPageViewport=function fe(te,{scale:oe=1,rotation:J=0}){const{width:Z,height:O}=te.attributes.style,_=[0,0,parseInt(Z),parseInt(O)];return new D({viewBox:_,scale:oe,rotation:J})},I.isDataScheme=w,I.isPdfFile=function V(te){return"string"==typeof te&&/\.pdf$/i.test(te)},I.isValidFetchUrl=g,I.loadScript=function y(te,oe=!1){return new Promise((J,Z)=>{const O=document.createElement("script");O.src=te,O.onload=function(_){oe&&O.remove(),J(_)},O.onerror=function(){Z(new Error(`Cannot load script at: ${O.src}`))},(document.head||document.documentElement).append(O)})};var k=ae(9),q=ae(1);function v(te){return T.apply(this,arguments)}function T(){return(T=_asyncToGenerator(function*(te,oe=!1){if(g(te,document.baseURI)){const J=yield fetch(te);if(!J.ok)throw new Error(J.statusText);return oe?new Uint8Array(yield J.arrayBuffer()):(0,q.stringToBytes)(yield J.text())}return new Promise((J,Z)=>{const O=new XMLHttpRequest;O.open("GET",te,!0),oe&&(O.responseType="arraybuffer"),O.onreadystatechange=()=>{if(O.readyState===XMLHttpRequest.DONE){if(200===O.status||0===O.status){let _;if(oe&&O.response?_=new Uint8Array(O.response):!oe&&O.responseText&&(_=(0,q.stringToBytes)(O.responseText)),_)return void J(_)}Z(new Error(O.statusText))}},O.send(null)})})).apply(this,arguments)}I.AnnotationPrefix="pdfjs_internal_id_",I.PixelsPerInch=class be{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},I.DOMCanvasFactory=class Q extends k.BaseCanvasFactory{constructor({ownerDocument:oe=globalThis.document}={}){super(),this._document=oe}_createCanvas(oe,J){const Z=this._document.createElement("canvas");return Z.width=oe,Z.height=J,Z}},I.DOMCMapReaderFactory=class C extends k.BaseCMapReaderFactory{_fetchData(oe,J){return v(oe,this.isCompressed).then(Z=>({cMapData:Z,compressionType:J}))}},I.DOMStandardFontDataFactory=class A extends k.BaseStandardFontDataFactory{_fetchData(oe){return v(oe,!0)}},I.DOMSVGFactory=class U extends k.BaseSVGFactory{_createSVG(oe){return document.createElementNS("http://www.w3.org/2000/svg",oe)}};class D{constructor({viewBox:oe,scale:J,rotation:Z,offsetX:O=0,offsetY:_=0,dontFlip:S=!1}){this.viewBox=oe,this.scale=J,this.rotation=Z,this.offsetX=O,this.offsetY=_;const z=(oe[2]+oe[0])/2,B=(oe[3]+oe[1])/2;let p,R,W,ne,se,he,Y,re;switch((Z%=360)<0&&(Z+=360),Z){case 180:p=-1,R=0,W=0,ne=1;break;case 90:p=0,R=1,W=1,ne=0;break;case 270:p=0,R=-1,W=-1,ne=0;break;case 0:p=1,R=0,W=0,ne=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}S&&(W=-W,ne=-ne),0===p?(se=Math.abs(B-oe[1])*J+O,he=Math.abs(z-oe[0])*J+_,Y=Math.abs(oe[3]-oe[1])*J,re=Math.abs(oe[2]-oe[0])*J):(se=Math.abs(z-oe[0])*J+O,he=Math.abs(B-oe[1])*J+_,Y=Math.abs(oe[2]-oe[0])*J,re=Math.abs(oe[3]-oe[1])*J),this.transform=[p*J,R*J,W*J,ne*J,se-p*J*z-W*J*B,he-R*J*z-ne*J*B],this.width=Y,this.height=re}clone({scale:oe=this.scale,rotation:J=this.rotation,offsetX:Z=this.offsetX,offsetY:O=this.offsetY,dontFlip:_=!1}={}){return new D({viewBox:this.viewBox.slice(),scale:oe,rotation:J,offsetX:Z,offsetY:O,dontFlip:_})}convertToViewportPoint(oe,J){return q.Util.applyTransform([oe,J],this.transform)}convertToViewportRectangle(oe){const J=q.Util.applyTransform([oe[0],oe[1]],this.transform),Z=q.Util.applyTransform([oe[2],oe[3]],this.transform);return[J[0],J[1],Z[0],Z[1]]}convertToPdfPoint(oe,J){return q.Util.applyInverseTransform([oe,J],this.transform)}}function w(te){const oe=te.length;let J=0;for(;J<oe&&""===te[J].trim();)J++;return"data:"===te.substring(J,J+5).toLowerCase()}function g(te,oe){try{const{protocol:J}=oe?new URL(te,oe):new URL(te);return"http:"===J||"https:"===J}catch{return!1}}let ee;function de(te){if(te.startsWith("#")){const oe=parseInt(te.slice(1),16);return[(16711680&oe)>>16,(65280&oe)>>8,255&oe]}return te.startsWith("rgb(")?te.slice(4,-1).split(",").map(oe=>parseInt(oe)):te.startsWith("rgba(")?te.slice(5,-1).split(",").map(oe=>parseInt(oe)).slice(0,3):((0,q.warn)(`Not a valid color format: "${te}"`),[0,0,0])}I.PageViewport=D,I.RenderingCancelledException=class E extends q.BaseException{constructor(oe,J){super(oe,"RenderingCancelledException"),this.type=J}},I.StatTimer=class M{constructor(){this.started=Object.create(null),this.times=[]}time(oe){oe in this.started&&(0,q.warn)(`Timer is already running for ${oe}`),this.started[oe]=Date.now()}timeEnd(oe){oe in this.started||(0,q.warn)(`Timer has not been started for ${oe}`),this.times.push({name:oe,start:this.started[oe],end:Date.now()}),delete this.started[oe]}toString(){const oe=[];let J=0;for(const Z of this.times){const O=Z.name;O.length>J&&(J=O.length)}for(const Z of this.times){const O=Z.end-Z.start;oe.push(`${Z.name.padEnd(J)} ${O}ms\n`)}return oe.join("")}},I.PDFDateString=class ie{static toDateObject(oe){if(!oe||"string"!=typeof oe)return null;ee||(ee=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const J=ee.exec(oe);if(!J)return null;const Z=parseInt(J[1],10);let O=parseInt(J[2],10);O=O>=1&&O<=12?O-1:0;let _=parseInt(J[3],10);_=_>=1&&_<=31?_:1;let S=parseInt(J[4],10);S=S>=0&&S<=23?S:0;let z=parseInt(J[5],10);z=z>=0&&z<=59?z:0;let B=parseInt(J[6],10);B=B>=0&&B<=59?B:0;const p=J[7]||"Z";let R=parseInt(J[8],10);R=R>=0&&R<=23?R:0;let W=parseInt(J[9],10)||0;return W=W>=0&&W<=59?W:0,"-"===p?(S+=R,z+=W):"+"===p&&(S-=R,z-=W),new Date(Date.UTC(Z,O,_,S,z,B))}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.BaseStandardFontDataFactory=I.BaseSVGFactory=I.BaseCanvasFactory=I.BaseCMapReaderFactory=void 0;var k=ae(1);class q{constructor(){this.constructor===q&&(0,k.unreachable)("Cannot initialize BaseCanvasFactory.")}create(v,T){if(v<=0||T<=0)throw new Error("Invalid canvas size");const C=this._createCanvas(v,T);return{canvas:C,context:C.getContext("2d")}}reset(v,T,C){if(!v.canvas)throw new Error("Canvas is not specified");if(T<=0||C<=0)throw new Error("Invalid canvas size");v.canvas.width=T,v.canvas.height=C}destroy(v){if(!v.canvas)throw new Error("Canvas is not specified");v.canvas.width=0,v.canvas.height=0,v.canvas=null,v.context=null}_createCanvas(v,T){(0,k.unreachable)("Abstract method `_createCanvas` called.")}}I.BaseCanvasFactory=q;class ve{constructor({baseUrl:v=null,isCompressed:T=!1}){this.constructor===ve&&(0,k.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=v,this.isCompressed=T}fetch({name:v}){var T=this;return _asyncToGenerator(function*(){if(!T.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!v)throw new Error("CMap name must be specified.");const C=T.baseUrl+v+(T.isCompressed?".bcmap":"");return T._fetchData(C,T.isCompressed?k.CMapCompressionType.BINARY:k.CMapCompressionType.NONE).catch(U=>{throw new Error(`Unable to load ${T.isCompressed?"binary ":""}CMap at: ${C}`)})})()}_fetchData(v,T){(0,k.unreachable)("Abstract method `_fetchData` called.")}}I.BaseCMapReaderFactory=ve;class ce{constructor({baseUrl:v=null}){this.constructor===ce&&(0,k.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=v}fetch({filename:v}){var T=this;return _asyncToGenerator(function*(){if(!T.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!v)throw new Error("Font filename must be specified.");const C=`${T.baseUrl}${v}`;return T._fetchData(C).catch(A=>{throw new Error(`Unable to load font data at: ${C}`)})})()}_fetchData(v){(0,k.unreachable)("Abstract method `_fetchData` called.")}}I.BaseStandardFontDataFactory=ce;class be{constructor(){this.constructor===be&&(0,k.unreachable)("Cannot initialize BaseSVGFactory.")}create(v,T,C=!1){if(v<=0||T<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),C||(A.setAttribute("width",`${v}px`),A.setAttribute("height",`${T}px`)),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox",`0 0 ${v} ${T}`),A}createElement(v){if("string"!=typeof v)throw new Error("Invalid SVG element type");return this._createSVG(v)}_createSVG(v){(0,k.unreachable)("Abstract method `_createSVG` called.")}}I.BaseSVGFactory=be},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MurmurHash3_64=void 0;var k=ae(1);const q=3285377520,ve=4294901760,ce=65535;I.MurmurHash3_64=class be{constructor(v){this.h1=v?4294967295&v:q,this.h2=v?4294967295&v:q}update(v){let T,C;if("string"==typeof v){T=new Uint8Array(2*v.length),C=0;for(let N=0,ee=v.length;N<ee;N++){const ie=v.charCodeAt(N);ie<=255?T[C++]=ie:(T[C++]=ie>>>8,T[C++]=255&ie)}}else{if(!(0,k.isArrayBuffer)(v))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");T=v.slice(),C=T.byteLength}const A=C>>2,U=C-4*A,D=new Uint32Array(T.buffer,0,A);let E=0,w=0,V=this.h1,L=this.h2;const P=3432918353,M=461845907,g=P&ce,y=M&ce;for(let N=0;N<A;N++)1&N?(E=D[N],E=E*P&ve|E*g&ce,E=E<<15|E>>>17,E=E*M&ve|E*y&ce,V^=E,V=V<<13|V>>>19,V=5*V+3864292196):(w=D[N],w=w*P&ve|w*g&ce,w=w<<15|w>>>17,w=w*M&ve|w*y&ce,L^=w,L=L<<13|L>>>19,L=5*L+3864292196);switch(E=0,U){case 3:E^=T[4*A+2]<<16;case 2:E^=T[4*A+1]<<8;case 1:E^=T[4*A],E=E*P&ve|E*g&ce,E=E<<15|E>>>17,E=E*M&ve|E*y&ce,1&A?V^=E:L^=E}this.h1=V,this.h2=L}hexdigest(){let v=this.h1,T=this.h2;v^=T>>>1,v=3981806797*v&ve|36045*v&ce,T=4283543511*T&ve|(2950163797*(T<<16|v>>>16)&ve)>>>16,v^=T>>>1,v=444984403*v&ve|60499*v&ce,T=3301882366*T&ve|(3120437893*(T<<16|v>>>16)&ve)>>>16,v^=T>>>1;const C=(v>>>0).toString(16),A=(T>>>0).toString(16);return C.padStart(8,"0")+A.padStart(8,"0")}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FontLoader=I.FontFaceObject=void 0;var k=ae(1);class q{constructor({docId:Q,onUnsupportedFeature:v,ownerDocument:T=globalThis.document,styleElement:C=null}){this.constructor===q&&(0,k.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Q,this._onUnsupportedFeature=v,this._document=T,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Q){this.nativeFontFaces.push(Q),this._document.fonts.add(Q)}insertRule(Q){let v=this.styleElement;v||(v=this.styleElement=this._document.createElement("style"),v.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(v));const T=v.sheet;T.insertRule(Q,T.cssRules.length)}clear(){for(const Q of this.nativeFontFaces)this._document.fonts.delete(Q);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(Q){var v=this;return _asyncToGenerator(function*(){if(Q.attached||Q.missingFile)return;if(Q.attached=!0,v.isFontLoadingAPISupported){const C=Q.createNativeFontFace();if(C){v.addNativeFontFace(C);try{yield C.loaded}catch(A){throw v._onUnsupportedFeature({featureId:k.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,k.warn)(`Failed to load font '${C.family}': '${A}'.`),Q.disableFontFace=!0,A}}return}const T=Q.createFontFaceRule();if(T){if(v.insertRule(T),v.isSyncFontLoadingSupported)return;yield new Promise(C=>{const A=v._queueLoadingCallback(C);v._prepareFontLoadEvent([T],[Q],A)})}})()}_queueLoadingCallback(Q){(0,k.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,k.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,k.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,k.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Q,v,T){(0,k.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ve;I.FontLoader=ve,I.FontLoader=ve=class extends q{constructor(Q){super(Q),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Q=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(Q=!0),(0,k.shadow)(this,"isSyncFontLoadingSupported",Q)}_queueLoadingCallback(Q){const T=this.loadingContext,C={id:"pdfjs-font-loading-"+T.nextRequestId++,done:!1,complete:function v(){for((0,k.assert)(!C.done,"completeRequest() cannot be called twice."),C.done=!0;T.requests.length>0&&T.requests[0].done;){const A=T.requests.shift();setTimeout(A.callback,0)}},callback:Q};return T.requests.push(C),C}get _loadTestFont(){return(0,k.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(Q,v,T){function C(Me,G){return Me.charCodeAt(G)<<24|Me.charCodeAt(G+1)<<16|Me.charCodeAt(G+2)<<8|255&Me.charCodeAt(G+3)}function A(Me,G,te,oe){return Me.substring(0,G)+oe+Me.substring(G+te)}let U,D;const E=this._document.createElement("canvas");E.width=1,E.height=1;const w=E.getContext("2d");let V=0;const P=`lt${Date.now()}${this.loadTestFontId++}`;let M=this._loadTestFont;M=A(M,976,P.length,P);const N=1482184792;let ee=C(M,16);for(U=0,D=P.length-3;U<D;U+=4)ee=ee-N+C(P,U)|0;U<P.length&&(ee=ee-N+C(P+"XXX",U)|0),M=A(M,16,4,(0,k.string32)(ee));const ie=`url(data:font/opentype;base64,${btoa(M)});`;this.insertRule(`@font-face {font-family:"${P}";src:${ie}}`);const de=[];for(const Me of v)de.push(Me.loadedName);de.push(P);const Oe=this._document.createElement("div");Oe.style.visibility="hidden",Oe.style.width=Oe.style.height="10px",Oe.style.position="absolute",Oe.style.top=Oe.style.left="0px";for(const Me of de){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=Me,Oe.append(G)}this._document.body.append(Oe),function L(Me,G){if(V++,V>30)return(0,k.warn)("Load test font never loaded."),void G();w.font="30px "+Me,w.fillText(".",0,20),w.getImageData(0,0,1,1).data[3]>0?G():setTimeout(L.bind(null,Me,G))}(P,()=>{Oe.remove(),T.complete()})}},I.FontFaceObject=class ce{constructor(Q,{isEvalSupported:v=!0,disableFontFace:T=!1,ignoreErrors:C=!1,onUnsupportedFeature:A,fontRegistry:U=null}){this.compiledGlyphs=Object.create(null);for(const D in Q)this[D]=Q[D];this.isEvalSupported=!1!==v,this.disableFontFace=!0===T,this.ignoreErrors=!0===C,this._onUnsupportedFeature=A,this.fontRegistry=U}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Q;if(this.cssFontInfo){const v={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(v.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Q=new FontFace(this.cssFontInfo.fontFamily,this.data,v)}else Q=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),Q}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Q=(0,k.bytesToString)(this.data),v=`url(data:${this.mimetype};base64,${btoa(Q)});`;let T;if(this.cssFontInfo){let C=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(C+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),T=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${C}src:${v}}`}else T=`@font-face {font-family:"${this.loadedName}";src:${v}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,v),T}getPathGenerator(Q,v){if(void 0!==this.compiledGlyphs[v])return this.compiledGlyphs[v];let T;try{T=Q.get(this.loadedName+"_path_"+v)}catch(C){if(!this.ignoreErrors)throw C;return this._onUnsupportedFeature({featureId:k.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,k.warn)(`getPathGenerator - ignoring character: "${C}".`),this.compiledGlyphs[v]=function(A,U){}}if(this.isEvalSupported&&k.FeatureTest.isEvalSupported){const C=[];for(const A of T){const U=void 0!==A.args?A.args.join(","):"";C.push("c.",A.cmd,"(",U,");\n")}return this.compiledGlyphs[v]=new Function("c","size",C.join(""))}return this.compiledGlyphs[v]=function(C,A){for(const U of T)"scale"===U.cmd&&(U.args=[A,-A]),C[U.cmd].apply(C,U.args)}}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CanvasGraphics=void 0;var k=ae(8),q=ae(1),ve=ae(13),ce=ae(14),be=ae(3);const T=4096,U=be.isNodeJS&&typeof Path2D>"u"?-1:1e3,D=16;class w{constructor(_){this.canvasFactory=_,this.cache=Object.create(null)}getCanvas(_,S,z){let B;return void 0!==this.cache[_]?(B=this.cache[_],this.canvasFactory.reset(B,S,z)):(B=this.canvasFactory.create(S,z),this.cache[_]=B),B}delete(_){delete this.cache[_]}clear(){for(const _ in this.cache)this.canvasFactory.destroy(this.cache[_]),delete this.cache[_]}}function V(O,_,S,z,B,p,R,W,ne,se){const[he,Y,re,ue,pe,Ce]=(0,k.getCurrentTransform)(O);if(0===Y&&0===re){const we=Math.round(R*he+pe),qe=Math.round(W*ue+Ce),lt=Math.abs(Math.round((R+ne)*he+pe)-we)||1,et=Math.abs(Math.round((W+se)*ue+Ce)-qe)||1;return O.setTransform(Math.sign(he),0,0,Math.sign(ue),we,qe),O.drawImage(_,S,z,B,p,0,0,lt,et),O.setTransform(he,Y,re,ue,pe,Ce),[lt,et]}if(0===he&&0===ue){const we=Math.round(W*re+pe),qe=Math.round(R*Y+Ce),lt=Math.abs(Math.round((W+se)*re+pe)-we)||1,et=Math.abs(Math.round((R+ne)*Y+Ce)-qe)||1;return O.setTransform(0,Math.sign(Y),Math.sign(re),0,we,qe),O.drawImage(_,S,z,B,p,0,0,et,lt),O.setTransform(he,Y,re,ue,pe,Ce),[et,lt]}return O.drawImage(_,S,z,B,p,R,W,ne,se),[Math.hypot(he,Y)*ne,Math.hypot(re,ue)*se]}class P{constructor(_,S){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=q.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=q.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=q.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,_,S])}clone(){const _=Object.create(this);return _.clipBox=this.clipBox.slice(),_}setCurrentPoint(_,S){this.x=_,this.y=S}updatePathMinMax(_,S,z){[S,z]=q.Util.applyTransform([S,z],_),this.minX=Math.min(this.minX,S),this.minY=Math.min(this.minY,z),this.maxX=Math.max(this.maxX,S),this.maxY=Math.max(this.maxY,z)}updateRectMinMax(_,S){const z=q.Util.applyTransform(S,_),B=q.Util.applyTransform(S.slice(2),_);this.minX=Math.min(this.minX,z[0],B[0]),this.minY=Math.min(this.minY,z[1],B[1]),this.maxX=Math.max(this.maxX,z[0],B[0]),this.maxY=Math.max(this.maxY,z[1],B[1])}updateScalingPathMinMax(_,S){q.Util.scaleMinMax(_,S),this.minX=Math.min(this.minX,S[0]),this.maxX=Math.max(this.maxX,S[1]),this.minY=Math.min(this.minY,S[2]),this.maxY=Math.max(this.maxY,S[3])}updateCurvePathMinMax(_,S,z,B,p,R,W,ne,se,he){const Y=q.Util.bezierBoundingBox(S,z,B,p,R,W,ne,se);if(he)return he[0]=Math.min(he[0],Y[0],Y[2]),he[1]=Math.max(he[1],Y[0],Y[2]),he[2]=Math.min(he[2],Y[1],Y[3]),void(he[3]=Math.max(he[3],Y[1],Y[3]));this.updateRectMinMax(_,Y)}getPathBoundingBox(_=ve.PathType.FILL,S=null){const z=[this.minX,this.minY,this.maxX,this.maxY];if(_===ve.PathType.STROKE){S||(0,q.unreachable)("Stroke bounding box must include transform.");const B=q.Util.singularValueDecompose2dScale(S),p=B[0]*this.lineWidth/2,R=B[1]*this.lineWidth/2;z[0]-=p,z[1]-=R,z[2]+=p,z[3]+=R}return z}updateClipFromPath(){const _=q.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_){this.clipBox=_,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_=ve.PathType.FILL,S=null){return q.Util.intersect(this.clipBox,this.getPathBoundingBox(_,S))}}function M(O,_,S=null){if(typeof ImageData<"u"&&_ instanceof ImageData)return void O.putImageData(_,0,0);const z=_.height,B=_.width,p=z%D,R=(z-p)/D,W=0===p?R:R+1,ne=O.createImageData(B,D);let he,se=0;const Y=_.data,re=ne.data;let ue,pe,Ce,xe,Ne,He,we,Ie;if(S)switch(S.length){case 1:Ne=S[0],He=S[0],we=S[0],Ie=S[0];break;case 4:Ne=S[0],He=S[1],we=S[2],Ie=S[3]}if(_.kind===q.ImageKind.GRAYSCALE_1BPP){const qe=Y.byteLength,Te=new Uint32Array(re.buffer,0,re.byteLength>>2),lt=Te.length,ct=B+7>>3;let et=4294967295,bt=q.FeatureTest.isLittleEndian?4278190080:255;for(Ie&&255===Ie[0]&&0===Ie[255]&&([et,bt]=[bt,et]),ue=0;ue<W;ue++){for(Ce=ue<R?D:p,he=0,pe=0;pe<Ce;pe++){const ft=qe-se;let Jt=0;const dn=ft>ct?B:8*ft-7,kn=-8&dn;let un=0,Yt=0;for(;Jt<kn;Jt+=8)Yt=Y[se++],Te[he++]=128&Yt?et:bt,Te[he++]=64&Yt?et:bt,Te[he++]=32&Yt?et:bt,Te[he++]=16&Yt?et:bt,Te[he++]=8&Yt?et:bt,Te[he++]=4&Yt?et:bt,Te[he++]=2&Yt?et:bt,Te[he++]=1&Yt?et:bt;for(;Jt<dn;Jt++)0===un&&(Yt=Y[se++],un=128),Te[he++]=Yt&un?et:bt,un>>=1}for(;he<lt;)Te[he++]=0;O.putImageData(ne,0,ue*D)}}else if(_.kind===q.ImageKind.RGBA_32BPP){const qe=!!(Ne||He||we);for(pe=0,xe=B*D*4,ue=0;ue<R;ue++){if(re.set(Y.subarray(se,se+xe)),se+=xe,qe)for(let Te=0;Te<xe;Te+=4)Ne&&(re[Te+0]=Ne[re[Te+0]]),He&&(re[Te+1]=He[re[Te+1]]),we&&(re[Te+2]=we[re[Te+2]]);O.putImageData(ne,0,pe),pe+=D}if(ue<W){if(xe=B*p*4,re.set(Y.subarray(se,se+xe)),qe)for(let Te=0;Te<xe;Te+=4)Ne&&(re[Te+0]=Ne[re[Te+0]]),He&&(re[Te+1]=He[re[Te+1]]),we&&(re[Te+2]=we[re[Te+2]]);O.putImageData(ne,0,pe)}}else{if(_.kind!==q.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${_.kind}`);{const qe=!!(Ne||He||we);for(Ce=D,xe=B*Ce,ue=0;ue<W;ue++){for(ue>=R&&(Ce=p,xe=B*Ce),he=0,pe=xe;pe--;)re[he++]=Y[se++],re[he++]=Y[se++],re[he++]=Y[se++],re[he++]=255;if(qe)for(let Te=0;Te<he;Te+=4)Ne&&(re[Te+0]=Ne[re[Te+0]]),He&&(re[Te+1]=He[re[Te+1]]),we&&(re[Te+2]=we[re[Te+2]]);O.putImageData(ne,0,ue*D)}}}}function g(O,_){if(_.bitmap)return void O.drawImage(_.bitmap,0,0);const S=_.height,z=_.width,B=S%D,p=(S-B)/D,R=0===B?p:p+1,W=O.createImageData(z,D);let ne=0;const se=_.data,he=W.data;for(let Y=0;Y<R;Y++){const re=Y<p?D:B;({srcPos:ne}=(0,ce.applyMaskImageData)({src:se,srcPos:ne,dest:he,width:z,height:re})),O.putImageData(W,0,Y*D)}}function y(O,_){const S=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let z=0,B=S.length;z<B;z++){const p=S[z];void 0!==O[p]&&(_[p]=O[p])}void 0!==O.setLineDash&&(_.setLineDash(O.getLineDash()),_.lineDashOffset=O.lineDashOffset)}function N(O,_){O.strokeStyle=O.fillStyle=_||"#000000",O.fillRule="nonzero",O.globalAlpha=1,O.lineWidth=1,O.lineCap="butt",O.lineJoin="miter",O.miterLimit=10,O.globalCompositeOperation="source-over",O.font="10px sans-serif",void 0!==O.setLineDash&&(O.setLineDash([]),O.lineDashOffset=0)}function ee(O,_,S,z){const B=O.length;for(let p=3;p<B;p+=4){const R=O[p];if(0===R)O[p-3]=_,O[p-2]=S,O[p-1]=z;else if(R<255){const W=255-R;O[p-3]=O[p-3]*R+_*W>>8,O[p-2]=O[p-2]*R+S*W>>8,O[p-1]=O[p-1]*R+z*W>>8}}}function ie(O,_,S){const z=O.length;for(let p=3;p<z;p+=4)_[p]=_[p]*(S?S[O[p]]:O[p])*.00392156862745098|0}function fe(O,_,S){const z=O.length;for(let B=3;B<z;B+=4){const p=77*O[B-3]+152*O[B-2]+28*O[B-1];_[B]=S?_[B]*S[p>>8]>>8:_[B]*p>>16}}function Me(O,_){const S=q.Util.singularValueDecompose2dScale(O);S[0]=Math.fround(S[0]),S[1]=Math.fround(S[1]);const z=Math.fround((globalThis.devicePixelRatio||1)*k.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==_?_:S[0]<=z||S[1]<=z}const G=["butt","round","square"],te=["miter","round","bevel"],oe={},J={};class Z{constructor(_,S,z,B,p,R,W,ne){this.ctx=_,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=S,this.objs=z,this.canvasFactory=B,this.imageLayer=p,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=R,this.cachedCanvases=new w(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=W,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=ne?.background||null,this.foregroundColor=ne?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_,S=null){return"string"==typeof _?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):S}beginDrawing({transform:_,viewport:S,transparency:z=!1,background:B=null}){const p=this.ctx.canvas.width,R=this.ctx.canvas.height,W=B||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const ne=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const se=this.backgroundColor=this.ctx.fillStyle;let he=!0,Y=W;if(this.ctx.fillStyle=W,Y=this.ctx.fillStyle,he="string"==typeof Y&&/^#[0-9A-Fa-f]{6}$/.test(Y),"#000000"===ne&&"#ffffff"===se||ne===se||!he)this.foregroundColor=this.backgroundColor=null;else{const[re,ue,pe]=(0,k.getRGB)(Y),Ce=Ne=>(Ne/=255)<=.03928?Ne/12.92:((Ne+.055)/1.055)**2.4,xe=Math.round(.2126*Ce(re)+.7152*Ce(ue)+.0722*Ce(pe));this.selectColor=(Ne,He,we)=>{const Ie=.2126*Ce(Ne)+.7152*Ce(He)+.0722*Ce(we);return Math.round(Ie)===xe?se:ne}}}if(this.ctx.fillStyle=this.backgroundColor||W,this.ctx.fillRect(0,0,p,R),this.ctx.restore(),z){const ne=this.cachedCanvases.getCanvas("transparent",p,R);this.compositeCtx=this.ctx,this.transparentCanvas=ne.canvas,this.ctx=ne.context,this.ctx.save(),this.ctx.transform(...(0,k.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),N(this.ctx,this.foregroundColor),_&&(this.ctx.transform(..._),this.outputScaleX=_[0],this.outputScaleY=_[0]),this.ctx.transform(...S.transform),this.viewportScale=S.scale,this.baseTransform=(0,k.getCurrentTransform)(this.ctx),this.imageLayer&&((0,k.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(_,S,z,B){const p=_.argsArray,R=_.fnArray;let W=S||0;const ne=p.length;if(ne===W)return W;const se=ne-W>10&&"function"==typeof z,he=se?Date.now()+15:0;let Y=0;const re=this.commonObjs,ue=this.objs;let pe;for(;;){if(void 0!==B&&W===B.nextBreakPoint)return B.breakIt(W,z),W;if(pe=R[W],pe!==q.OPS.dependency)this[pe].apply(this,p[W]);else for(const Ce of p[W]){const xe=Ce.startsWith("g_")?re:ue;if(!xe.has(Ce))return xe.get(Ce,z),W}if(W++,W===ne)return W;if(se&&++Y>10){if(Date.now()>he)return z(),W;Y=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const _ of this._cachedBitmapsMap.values()){for(const S of _.values())typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement&&(S.width=S.height=0);_.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(_,S){const z=_.width,B=_.height;let he,Y,p=Math.max(Math.hypot(S[0],S[1]),1),R=Math.max(Math.hypot(S[2],S[3]),1),W=z,ne=B,se="prescale1";for(;p>2&&W>1||R>2&&ne>1;){let re=W,ue=ne;p>2&&W>1&&(re=Math.ceil(W/2),p/=W/re),R>2&&ne>1&&(ue=Math.ceil(ne/2),R/=ne/ue),he=this.cachedCanvases.getCanvas(se,re,ue),Y=he.context,Y.clearRect(0,0,re,ue),Y.drawImage(_,0,0,W,ne,0,0,re,ue),_=he.canvas,W=re,ne=ue,se="prescale1"===se?"prescale2":"prescale1"}return{img:_,paintWidth:W,paintHeight:ne}}_createMaskCanvas(_){const S=this.ctx,{width:z,height:B}=_,p=this.current.fillColor,R=this.current.patternFill,W=(0,k.getCurrentTransform)(S);let ne,se,he,Y;if((_.bitmap||_.data)&&_.count>1){const lt=_.bitmap||_.data.buffer,ct=W.slice(0,4);se=JSON.stringify(R?ct:[ct,p]),ne=this._cachedBitmapsMap.get(lt),ne||(ne=new Map,this._cachedBitmapsMap.set(lt,ne));const et=ne.get(se);if(et&&!R)return{canvas:et,offsetX:Math.round(Math.min(W[0],W[2])+W[4]),offsetY:Math.round(Math.min(W[1],W[3])+W[5])};he=et}he||(Y=this.cachedCanvases.getCanvas("maskCanvas",z,B),g(Y.context,_));let re=q.Util.transform(W,[1/z,0,0,-1/B,0,0]);re=q.Util.transform(re,[1,0,0,1,0,-B]);const ue=q.Util.applyTransform([0,0],re),pe=q.Util.applyTransform([z,B],re),Ce=q.Util.normalizeRect([ue[0],ue[1],pe[0],pe[1]]),xe=Math.round(Ce[2]-Ce[0])||1,Ne=Math.round(Ce[3]-Ce[1])||1,He=this.cachedCanvases.getCanvas("fillCanvas",xe,Ne),we=He.context,Ie=Math.min(ue[0],pe[0]),qe=Math.min(ue[1],pe[1]);we.translate(-Ie,-qe),we.transform(...re),he||(he=this._scaleImage(Y.canvas,(0,k.getCurrentTransformInverse)(we)),he=he.img,ne&&R&&ne.set(se,he)),we.imageSmoothingEnabled=Me((0,k.getCurrentTransform)(we),_.interpolate),V(we,he,0,0,he.width,he.height,0,0,z,B),we.globalCompositeOperation="source-in";const Te=q.Util.transform((0,k.getCurrentTransformInverse)(we),[1,0,0,1,-Ie,-qe]);return we.fillStyle=R?p.getPattern(S,this,Te,ve.PathType.FILL):p,we.fillRect(0,0,z,B),ne&&!R&&(this.cachedCanvases.delete("fillCanvas"),ne.set(se,He.canvas)),{canvas:He.canvas,offsetX:Math.round(Ie),offsetY:Math.round(qe)}}setLineWidth(_){_!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=_,this.ctx.lineWidth=_}setLineCap(_){this.ctx.lineCap=G[_]}setLineJoin(_){this.ctx.lineJoin=te[_]}setMiterLimit(_){this.ctx.miterLimit=_}setDash(_,S){const z=this.ctx;void 0!==z.setLineDash&&(z.setLineDash(_),z.lineDashOffset=S)}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let S=0,z=_.length;S<z;S++){const B=_[S],R=B[1];switch(B[0]){case"LW":this.setLineWidth(R);break;case"LC":this.setLineCap(R);break;case"LJ":this.setLineJoin(R);break;case"ML":this.setMiterLimit(R);break;case"D":this.setDash(R[0],R[1]);break;case"RI":this.setRenderingIntent(R);break;case"FL":this.setFlatness(R);break;case"Font":this.setFont(R[0],R[1]);break;case"CA":this.current.strokeAlpha=B[1];break;case"ca":this.current.fillAlpha=B[1],this.ctx.globalAlpha=B[1];break;case"BM":this.ctx.globalCompositeOperation=R;break;case"SMask":this.current.activeSMask=R?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=R}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const _=this.inSMaskMode;this.current.activeSMask&&!_?this.beginSMaskMode():!this.current.activeSMask&&_&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const B=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=B.context;const p=this.ctx;p.setTransform(...(0,k.getCurrentTransform)(this.suspendedCtx)),y(this.suspendedCtx,p),function E(O,_){if(O._removeMirroring)throw new Error("Context is already forwarding operations.");O.__originalSave=O.save,O.__originalRestore=O.restore,O.__originalRotate=O.rotate,O.__originalScale=O.scale,O.__originalTranslate=O.translate,O.__originalTransform=O.transform,O.__originalSetTransform=O.setTransform,O.__originalResetTransform=O.resetTransform,O.__originalClip=O.clip,O.__originalMoveTo=O.moveTo,O.__originalLineTo=O.lineTo,O.__originalBezierCurveTo=O.bezierCurveTo,O.__originalRect=O.rect,O.__originalClosePath=O.closePath,O.__originalBeginPath=O.beginPath,O._removeMirroring=()=>{O.save=O.__originalSave,O.restore=O.__originalRestore,O.rotate=O.__originalRotate,O.scale=O.__originalScale,O.translate=O.__originalTranslate,O.transform=O.__originalTransform,O.setTransform=O.__originalSetTransform,O.resetTransform=O.__originalResetTransform,O.clip=O.__originalClip,O.moveTo=O.__originalMoveTo,O.lineTo=O.__originalLineTo,O.bezierCurveTo=O.__originalBezierCurveTo,O.rect=O.__originalRect,O.closePath=O.__originalClosePath,O.beginPath=O.__originalBeginPath,delete O._removeMirroring},O.save=function(){_.save(),this.__originalSave()},O.restore=function(){_.restore(),this.__originalRestore()},O.translate=function(z,B){_.translate(z,B),this.__originalTranslate(z,B)},O.scale=function(z,B){_.scale(z,B),this.__originalScale(z,B)},O.transform=function(z,B,p,R,W,ne){_.transform(z,B,p,R,W,ne),this.__originalTransform(z,B,p,R,W,ne)},O.setTransform=function(z,B,p,R,W,ne){_.setTransform(z,B,p,R,W,ne),this.__originalSetTransform(z,B,p,R,W,ne)},O.resetTransform=function(){_.resetTransform(),this.__originalResetTransform()},O.rotate=function(z){_.rotate(z),this.__originalRotate(z)},O.clip=function(z){_.clip(z),this.__originalClip(z)},O.moveTo=function(S,z){_.moveTo(S,z),this.__originalMoveTo(S,z)},O.lineTo=function(S,z){_.lineTo(S,z),this.__originalLineTo(S,z)},O.bezierCurveTo=function(S,z,B,p,R,W){_.bezierCurveTo(S,z,B,p,R,W),this.__originalBezierCurveTo(S,z,B,p,R,W)},O.rect=function(S,z,B,p){_.rect(S,z,B,p),this.__originalRect(S,z,B,p)},O.closePath=function(){_.closePath(),this.__originalClosePath()},O.beginPath=function(){_.beginPath(),this.__originalBeginPath()}}(p,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_){this.current.activeSMask&&(_?(_[0]=Math.floor(_[0]),_[1]=Math.floor(_[1]),_[2]=Math.ceil(_[2]),_[3]=Math.ceil(_[3])):_=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Oe(O,_,S,z){const B=z[0],p=z[1],R=z[2]-B,W=z[3]-p;0===R||0===W||(function de(O,_,S,z,B,p,R,W,ne,se,he){const Y=!!p,re=Y?p[0]:0,ue=Y?p[1]:0,pe=Y?p[2]:0;let Ce;Ce="Luminosity"===B?fe:ie;const Ne=Math.min(z,Math.ceil(1048576/S));for(let He=0;He<z;He+=Ne){const we=Math.min(Ne,z-He),Ie=O.getImageData(W-se,He+(ne-he),S,we),qe=_.getImageData(W,He+ne,S,we);Y&&ee(Ie.data,re,ue,pe),Ce(Ie.data,qe.data,R),_.putImageData(qe,W,He+ne)}}(_.context,S,R,W,_.subtype,_.backdrop,_.transferMap,B,p,_.offsetX,_.offsetY),O.save(),O.globalAlpha=1,O.globalCompositeOperation="source-over",O.setTransform(1,0,0,1,0,0),O.drawImage(S.canvas,0,0),O.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,_),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const _=this.current;this.stateStack.push(_),this.current=_.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(_,S,z,B,p,R){this.ctx.transform(_,S,z,B,p,R),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(_,S,z){const B=this.ctx,p=this.current;let ne,se,R=p.x,W=p.y;const he=(0,k.getCurrentTransform)(B),Y=0===he[0]&&0===he[3]||0===he[1]&&0===he[2],re=Y?z.slice(0):null;for(let ue=0,pe=0,Ce=_.length;ue<Ce;ue++)switch(0|_[ue]){case q.OPS.rectangle:R=S[pe++],W=S[pe++];const xe=S[pe++],Ne=S[pe++],He=R+xe,we=W+Ne;B.moveTo(R,W),0===xe||0===Ne?B.lineTo(He,we):(B.lineTo(He,W),B.lineTo(He,we),B.lineTo(R,we)),Y||p.updateRectMinMax(he,[R,W,He,we]),B.closePath();break;case q.OPS.moveTo:R=S[pe++],W=S[pe++],B.moveTo(R,W),Y||p.updatePathMinMax(he,R,W);break;case q.OPS.lineTo:R=S[pe++],W=S[pe++],B.lineTo(R,W),Y||p.updatePathMinMax(he,R,W);break;case q.OPS.curveTo:ne=R,se=W,R=S[pe+4],W=S[pe+5],B.bezierCurveTo(S[pe],S[pe+1],S[pe+2],S[pe+3],R,W),p.updateCurvePathMinMax(he,ne,se,S[pe],S[pe+1],S[pe+2],S[pe+3],R,W,re),pe+=6;break;case q.OPS.curveTo2:ne=R,se=W,B.bezierCurveTo(R,W,S[pe],S[pe+1],S[pe+2],S[pe+3]),p.updateCurvePathMinMax(he,ne,se,R,W,S[pe],S[pe+1],S[pe+2],S[pe+3],re),R=S[pe+2],W=S[pe+3],pe+=4;break;case q.OPS.curveTo3:ne=R,se=W,R=S[pe+2],W=S[pe+3],B.bezierCurveTo(S[pe],S[pe+1],R,W,R,W),p.updateCurvePathMinMax(he,ne,se,S[pe],S[pe+1],R,W,R,W,re),pe+=4;break;case q.OPS.closePath:B.closePath()}Y&&p.updateScalingPathMinMax(he,re),p.setCurrentPoint(R,W)}closePath(){this.ctx.closePath()}stroke(_){_=!(typeof _<"u")||_;const S=this.ctx,z=this.current.strokeColor;S.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof z&&z?.getPattern?(S.save(),S.strokeStyle=z.getPattern(S,this,(0,k.getCurrentTransformInverse)(S),ve.PathType.STROKE),this.rescaleAndStroke(!1),S.restore()):this.rescaleAndStroke(!0)),_&&this.consumePath(this.current.getClippedPathBoundingBox()),S.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_){_=!(typeof _<"u")||_;const S=this.ctx,z=this.current.fillColor;let p=!1;this.current.patternFill&&(S.save(),S.fillStyle=z.getPattern(S,this,(0,k.getCurrentTransformInverse)(S),ve.PathType.FILL),p=!0);const R=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==R&&(this.pendingEOFill?(S.fill("evenodd"),this.pendingEOFill=!1):S.fill()),p&&S.restore(),_&&this.consumePath(R)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oe}eoClip(){this.pendingClip=J}beginText(){this.current.textMatrix=q.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const _=this.pendingTextPaths,S=this.ctx;if(void 0!==_){S.save(),S.beginPath();for(const z of _)S.setTransform(...z.transform),S.translate(z.x,z.y),z.addToPath(S,z.fontSize);S.restore(),S.clip(),S.beginPath(),delete this.pendingTextPaths}else S.beginPath()}setCharSpacing(_){this.current.charSpacing=_}setWordSpacing(_){this.current.wordSpacing=_}setHScale(_){this.current.textHScale=_/100}setLeading(_){this.current.leading=-_}setFont(_,S){const z=this.commonObjs.get(_),B=this.current;if(!z)throw new Error(`Can't find font for ${_}`);if(B.fontMatrix=z.fontMatrix||q.FONT_IDENTITY_MATRIX,(0===B.fontMatrix[0]||0===B.fontMatrix[3])&&(0,q.warn)("Invalid font matrix for font "+_),S<0?(S=-S,B.fontDirection=-1):B.fontDirection=1,this.current.font=z,this.current.fontSize=S,z.isType3Font)return;let R="normal";z.black?R="900":z.bold&&(R="bold");const W=z.italic?"italic":"normal",ne=`"${z.loadedName||"sans-serif"}", ${z.fallbackName}`;let se=S;S<16?se=16:S>100&&(se=100),this.current.fontSizeScale=S/se,this.ctx.font=`${W} ${R} ${se}px ${ne}`}setTextRenderingMode(_){this.current.textRenderingMode=_}setTextRise(_){this.current.textRise=_}moveText(_,S){this.current.x=this.current.lineX+=_,this.current.y=this.current.lineY+=S}setLeadingMoveText(_,S){this.setLeading(-S),this.moveText(_,S)}setTextMatrix(_,S,z,B,p,R){this.current.textMatrix=[_,S,z,B,p,R],this.current.textMatrixScale=Math.hypot(_,S),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_,S,z,B){const p=this.ctx,R=this.current,W=R.font,ne=R.textRenderingMode,se=R.fontSize/R.fontSizeScale,he=ne&q.TextRenderingMode.FILL_STROKE_MASK,Y=!!(ne&q.TextRenderingMode.ADD_TO_PATH_FLAG),re=R.patternFill&&!W.missingFile;let ue;(W.disableFontFace||Y||re)&&(ue=W.getPathGenerator(this.commonObjs,_)),W.disableFontFace||re?(p.save(),p.translate(S,z),p.beginPath(),ue(p,se),B&&p.setTransform(...B),(he===q.TextRenderingMode.FILL||he===q.TextRenderingMode.FILL_STROKE)&&p.fill(),(he===q.TextRenderingMode.STROKE||he===q.TextRenderingMode.FILL_STROKE)&&p.stroke(),p.restore()):((he===q.TextRenderingMode.FILL||he===q.TextRenderingMode.FILL_STROKE)&&p.fillText(_,S,z),(he===q.TextRenderingMode.STROKE||he===q.TextRenderingMode.FILL_STROKE)&&p.strokeText(_,S,z)),Y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,k.getCurrentTransform)(p),x:S,y:z,fontSize:se,addToPath:ue})}get isFontSubpixelAAEnabled(){const{context:_}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);_.scale(1.5,1),_.fillText("I",0,10);const S=_.getImageData(0,0,10,10).data;let z=!1;for(let B=3;B<S.length;B+=4)if(S[B]>0&&S[B]<255){z=!0;break}return(0,q.shadow)(this,"isFontSubpixelAAEnabled",z)}showText(_){const S=this.current,z=S.font;if(z.isType3Font)return this.showType3Text(_);const B=S.fontSize;if(0===B)return;const p=this.ctx,R=S.fontSizeScale,W=S.charSpacing,ne=S.wordSpacing,se=S.fontDirection,he=S.textHScale*se,Y=_.length,re=z.vertical,ue=re?1:-1,pe=z.defaultVMetrics,Ce=B*S.fontMatrix[0],xe=S.textRenderingMode===q.TextRenderingMode.FILL&&!z.disableFontFace&&!S.patternFill;let Ne;if(p.save(),p.transform(...S.textMatrix),p.translate(S.x,S.y+S.textRise),p.scale(he,se>0?-1:1),S.patternFill){p.save();const Te=S.fillColor.getPattern(p,this,(0,k.getCurrentTransformInverse)(p),ve.PathType.FILL);Ne=(0,k.getCurrentTransform)(p),p.restore(),p.fillStyle=Te}let He=S.lineWidth;const we=S.textMatrixScale;if(0===we||0===He){const Te=S.textRenderingMode&q.TextRenderingMode.FILL_STROKE_MASK;(Te===q.TextRenderingMode.STROKE||Te===q.TextRenderingMode.FILL_STROKE)&&(He=this.getSinglePixelWidth())}else He/=we;1!==R&&(p.scale(R,R),He/=R),p.lineWidth=He;let qe,Ie=0;for(qe=0;qe<Y;++qe){const Te=_[qe];if("number"==typeof Te){Ie+=ue*Te*B/1e3;continue}let lt=!1;const ct=(Te.isSpace?ne:0)+W,et=Te.fontChar,bt=Te.accent;let ft,Jt,kn,dn=Te.width;if(re){const un=Te.vmetric||pe,Yt=-(Te.vmetric?un[1]:.5*dn)*Ce;dn=un?-un[0]:dn,ft=Yt/R,Jt=(Ie+un[2]*Ce)/R}else ft=Ie/R,Jt=0;if(z.remeasure&&dn>0){const un=1e3*p.measureText(et).width/B*R;if(dn<un&&this.isFontSubpixelAAEnabled){const Yt=dn/un;lt=!0,p.save(),p.scale(Yt,1),ft/=Yt}else dn!==un&&(ft+=(dn-un)/2e3*B/R)}this.contentVisible&&(Te.isInFont||z.missingFile)&&(xe&&!bt?p.fillText(et,ft,Jt):(this.paintChar(et,ft,Jt,Ne),bt&&this.paintChar(bt.fontChar,ft+B*bt.offset.x/R,Jt-B*bt.offset.y/R,Ne))),kn=re?dn*Ce-ct*se:dn*Ce+ct*se,Ie+=kn,lt&&p.restore()}re?S.y-=Ie:S.x+=Ie*he,p.restore(),this.compose()}showType3Text(_){const S=this.ctx,z=this.current,B=z.font,p=z.fontSize,R=z.fontDirection,W=B.vertical?1:-1,ne=z.charSpacing,se=z.wordSpacing,he=z.textHScale*R,Y=z.fontMatrix||q.FONT_IDENTITY_MATRIX,re=_.length;let pe,Ce,xe,Ne;if(z.textRenderingMode!==q.TextRenderingMode.INVISIBLE&&0!==p){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,S.save(),S.transform(...z.textMatrix),S.translate(z.x,z.y),S.scale(he,R),pe=0;pe<re;++pe){if(Ce=_[pe],"number"==typeof Ce){Ne=W*Ce*p/1e3,this.ctx.translate(Ne,0),z.x+=Ne*he;continue}const He=(Ce.isSpace?se:0)+ne,we=B.charProcOperatorList[Ce.operatorListId];we?(this.contentVisible&&(this.processingType3=Ce,this.save(),S.scale(p,p),S.transform(...Y),this.executeOperatorList(we),this.restore()),xe=q.Util.applyTransform([Ce.width,0],Y)[0]*p+He,S.translate(xe,0),z.x+=xe*he):(0,q.warn)(`Type3 character "${Ce.operatorListId}" is not available.`)}S.restore(),this.processingType3=null}}setCharWidth(_,S){}setCharWidthAndBounds(_,S,z,B,p,R){this.ctx.rect(z,B,p-z,R-B),this.ctx.clip(),this.endPath()}getColorN_Pattern(_){let S;if("TilingPattern"===_[0]){const z=_[1],B=this.baseTransform||(0,k.getCurrentTransform)(this.ctx);S=new ve.TilingPattern(_,z,this.ctx,{createCanvasGraphics:R=>new Z(R,this.commonObjs,this.objs,this.canvasFactory)},B)}else S=this._getPattern(_[1],_[2]);return S}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_,S,z){const B=this.selectColor?.(_,S,z)||q.Util.makeHexColor(_,S,z);this.ctx.strokeStyle=B,this.current.strokeColor=B}setFillRGBColor(_,S,z){const B=this.selectColor?.(_,S,z)||q.Util.makeHexColor(_,S,z);this.ctx.fillStyle=B,this.current.fillColor=B,this.current.patternFill=!1}_getPattern(_,S=null){let z;return this.cachedPatterns.has(_)?z=this.cachedPatterns.get(_):(z=(0,ve.getShadingPattern)(this.objs.get(_)),this.cachedPatterns.set(_,z)),S&&(z.matrix=S),z}shadingFill(_){if(!this.contentVisible)return;const S=this.ctx;this.save();const z=this._getPattern(_);S.fillStyle=z.getPattern(S,this,(0,k.getCurrentTransformInverse)(S),ve.PathType.SHADING);const B=(0,k.getCurrentTransformInverse)(S);if(B){const p=S.canvas,R=p.width,W=p.height,ne=q.Util.applyTransform([0,0],B),se=q.Util.applyTransform([0,W],B),he=q.Util.applyTransform([R,0],B),Y=q.Util.applyTransform([R,W],B),re=Math.min(ne[0],se[0],he[0],Y[0]),ue=Math.min(ne[1],se[1],he[1],Y[1]),pe=Math.max(ne[0],se[0],he[0],Y[0]),Ce=Math.max(ne[1],se[1],he[1],Y[1]);this.ctx.fillRect(re,ue,pe-re,Ce-ue)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,q.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,q.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_,S){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_)&&6===_.length&&this.transform(..._),this.baseTransform=(0,k.getCurrentTransform)(this.ctx),S)&&(this.ctx.rect(S[0],S[1],S[2]-S[0],S[3]-S[1]),this.current.updateRectMinMax((0,k.getCurrentTransform)(this.ctx),S),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const S=this.ctx;_.isolated||(0,q.info)("TODO: Support non-isolated groups."),_.knockout&&(0,q.warn)("Knockout groups not supported.");const z=(0,k.getCurrentTransform)(S);if(_.matrix&&S.transform(..._.matrix),!_.bbox)throw new Error("Bounding box is required.");let B=q.Util.getAxialAlignedBoundingBox(_.bbox,(0,k.getCurrentTransform)(S));B=q.Util.intersect(B,[0,0,S.canvas.width,S.canvas.height])||[0,0,0,0];const R=Math.floor(B[0]),W=Math.floor(B[1]);let ne=Math.max(Math.ceil(B[2])-R,1),se=Math.max(Math.ceil(B[3])-W,1),he=1,Y=1;ne>T&&(he=ne/T,ne=T),se>T&&(Y=se/T,se=T),this.current.startNewPathAndClipBox([0,0,ne,se]);let re="groupAt"+this.groupLevel;_.smask&&(re+="_smask_"+this.smaskCounter++%2);const ue=this.cachedCanvases.getCanvas(re,ne,se),pe=ue.context;pe.scale(1/he,1/Y),pe.translate(-R,-W),pe.transform(...z),_.smask?this.smaskStack.push({canvas:ue.canvas,context:pe,offsetX:R,offsetY:W,scaleX:he,scaleY:Y,subtype:_.smask.subtype,backdrop:_.smask.backdrop,transferMap:_.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(R,W),S.scale(he,Y),S.save()),y(S,pe),this.ctx=pe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(S),this.groupLevel++}endGroup(_){if(!this.contentVisible)return;this.groupLevel--;const S=this.ctx,z=this.groupStack.pop();if(this.ctx=z,this.ctx.imageSmoothingEnabled=!1,_.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const B=(0,k.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...B);const p=q.Util.getAxialAlignedBoundingBox([0,0,S.canvas.width,S.canvas.height],B);this.ctx.drawImage(S.canvas,0,0),this.ctx.restore(),this.compose(p)}}beginAnnotation(_,S,z,B,p){if(this.#e(),N(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(S)&&4===S.length){const R=S[2]-S[0],W=S[3]-S[1];if(p&&this.annotationCanvasMap){(z=z.slice())[4]-=S[0],z[5]-=S[1],(S=S.slice())[0]=S[1]=0,S[2]=R,S[3]=W;const[ne,se]=q.Util.singularValueDecompose2dScale((0,k.getCurrentTransform)(this.ctx)),{viewportScale:he}=this,Y=Math.ceil(R*this.outputScaleX*he),re=Math.ceil(W*this.outputScaleY*he);this.annotationCanvas=this.canvasFactory.create(Y,re);const{canvas:ue,context:pe}=this.annotationCanvas;this.annotationCanvasMap.set(_,ue),this.annotationCanvas.savedCtx=this.ctx,this.ctx=pe,this.ctx.setTransform(ne,0,0,-se,0,W*se),N(this.ctx,this.foregroundColor)}else N(this.ctx,this.foregroundColor),this.ctx.rect(S[0],S[1],R,W),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...z),this.transform(...B)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(_){if(!this.contentVisible)return;const S=_.count;(_=this.getObject(_.data,_)).count=S;const z=this.ctx,B=this.processingType3;if(B&&(void 0===B.compiled&&(B.compiled=function L(O){const{width:_,height:S}=O;if(_>U||S>U)return null;const B=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=_+1;let W,ne,se,R=new Uint8Array(p*(S+1));const he=_+7&-8;let Y=new Uint8Array(he*S),re=0;for(const Ne of O.data){let He=128;for(;He>0;)Y[re++]=Ne&He?0:255,He>>=1}let ue=0;for(re=0,0!==Y[re]&&(R[0]=1,++ue),ne=1;ne<_;ne++)Y[re]!==Y[re+1]&&(R[ne]=Y[re]?2:1,++ue),re++;for(0!==Y[re]&&(R[ne]=2,++ue),W=1;W<S;W++){re=W*he,se=W*p,Y[re-he]!==Y[re]&&(R[se]=Y[re]?1:8,++ue);let Ne=(Y[re]?4:0)+(Y[re-he]?8:0);for(ne=1;ne<_;ne++)Ne=(Ne>>2)+(Y[re+1]?4:0)+(Y[re-he+1]?8:0),B[Ne]&&(R[se+ne]=B[Ne],++ue),re++;if(Y[re-he]!==Y[re]&&(R[se+ne]=Y[re]?2:4,++ue),ue>1e3)return null}for(re=he*(S-1),se=W*p,0!==Y[re]&&(R[se]=8,++ue),ne=1;ne<_;ne++)Y[re]!==Y[re+1]&&(R[se+ne]=Y[re]?4:8,++ue),re++;if(0!==Y[re]&&(R[se+ne]=4,++ue),ue>1e3)return null;const pe=new Int32Array([0,p,-1,0,-p,0,0,0,1]),Ce=new Path2D;for(W=0;ue&&W<=S;W++){let Ne=W*p;const He=Ne+_;for(;Ne<He&&!R[Ne];)Ne++;if(Ne===He)continue;Ce.moveTo(Ne%p,W);const we=Ne;let Ie=R[Ne];do{const qe=pe[Ie];do{Ne+=qe}while(!R[Ne]);const Te=R[Ne];5!==Te&&10!==Te?(Ie=Te,R[Ne]=0):(Ie=Te&51*Ie>>4,R[Ne]&=Ie>>2|Ie<<2),Ce.lineTo(Ne%p,Ne/p|0),R[Ne]||--ue}while(we!==Ne);--W}return Y=null,R=null,function(Ne){Ne.save(),Ne.scale(1/_,-1/S),Ne.translate(0,-S),Ne.fill(Ce),Ne.beginPath(),Ne.restore()}}(_)),B.compiled))return void B.compiled(z);const p=this._createMaskCanvas(_),R=p.canvas;z.save(),z.setTransform(1,0,0,1,0,0),z.drawImage(R,p.offsetX,p.offsetY),z.restore(),this.compose()}paintImageMaskXObjectRepeat(_,S,z=0,B=0,p,R){if(!this.contentVisible)return;_=this.getObject(_.data,_);const W=this.ctx;W.save();const ne=(0,k.getCurrentTransform)(W);W.transform(S,z,B,p,0,0);const se=this._createMaskCanvas(_);W.setTransform(1,0,0,1,0,0);for(let he=0,Y=R.length;he<Y;he+=2){const re=q.Util.transform(ne,[S,z,B,p,R[he],R[he+1]]),[ue,pe]=q.Util.applyTransform([0,0],re);W.drawImage(se.canvas,ue,pe)}W.restore(),this.compose()}paintImageMaskXObjectGroup(_){if(!this.contentVisible)return;const S=this.ctx,z=this.current.fillColor,B=this.current.patternFill;for(const p of _){const{data:R,width:W,height:ne,transform:se}=p,he=this.cachedCanvases.getCanvas("maskCanvas",W,ne),Y=he.context;Y.save(),g(Y,this.getObject(R,p)),Y.globalCompositeOperation="source-in",Y.fillStyle=B?z.getPattern(Y,this,(0,k.getCurrentTransformInverse)(S),ve.PathType.FILL):z,Y.fillRect(0,0,W,ne),Y.restore(),S.save(),S.transform(...se),S.scale(1,-1),V(S,he.canvas,0,0,W,ne,0,-1,1,1),S.restore()}this.compose()}paintImageXObject(_){if(!this.contentVisible)return;const S=this.getObject(_);S?this.paintInlineImageXObject(S):(0,q.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(_,S,z,B){if(!this.contentVisible)return;const p=this.getObject(_);if(!p)return void(0,q.warn)("Dependent image isn't ready yet");const R=p.width,W=p.height,ne=[];for(let se=0,he=B.length;se<he;se+=2)ne.push({transform:[S,0,0,z,B[se],B[se+1]],x:0,y:0,w:R,h:W});this.paintInlineImageXObjectGroup(p,ne)}paintInlineImageXObject(_){if(!this.contentVisible)return;const S=_.width,z=_.height,B=this.ctx;let p;if(this.save(),B.scale(1/S,-1/z),"function"==typeof HTMLElement&&_ instanceof HTMLElement||!_.data)p=_;else{const se=this.cachedCanvases.getCanvas("inlineImage",S,z);M(se.context,_,this.current.transferMaps),p=se.canvas}const R=this._scaleImage(p,(0,k.getCurrentTransformInverse)(B));B.imageSmoothingEnabled=Me((0,k.getCurrentTransform)(B),_.interpolate);const[W,ne]=V(B,R.img,0,0,R.paintWidth,R.paintHeight,0,-z,S,z);if(this.imageLayer){const[se,he]=q.Util.applyTransform([0,-z],(0,k.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:_,left:se,top:he,width:W,height:ne})}this.compose(),this.restore()}paintInlineImageXObjectGroup(_,S){if(!this.contentVisible)return;const z=this.ctx,B=_.width,p=_.height,R=this.cachedCanvases.getCanvas("inlineImage",B,p);M(R.context,_,this.current.transferMaps);for(const ne of S){if(z.save(),z.transform(...ne.transform),z.scale(1,-1),V(z,R.canvas,ne.x,ne.y,ne.w,ne.h,0,-1,1,1),this.imageLayer){const[se,he]=q.Util.applyTransform([ne.x,ne.y],(0,k.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:_,left:se,top:he,width:B,height:p})}z.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_){}markPointProps(_,S){}beginMarkedContent(_){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_,S){this.markedContentStack.push("OC"===_?{visible:this.optionalContentConfig.isVisible(S)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_){const S=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_);const z=this.ctx;this.pendingClip&&(S||(this.pendingClip===J?z.clip("evenodd"):z.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),z.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const _=(0,k.getCurrentTransform)(this.ctx);if(0===_[1]&&0===_[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_[0]),Math.abs(_[3]));else{const S=Math.abs(_[0]*_[3]-_[2]*_[1]),z=Math.hypot(_[0],_[2]),B=Math.hypot(_[1],_[3]);this._cachedGetSinglePixelWidth=Math.max(z,B)/S}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:_}=this.current,S=(0,k.getCurrentTransform)(this.ctx);let z,B;if(0===S[1]&&0===S[2]){const p=Math.abs(S[0]),R=Math.abs(S[3]);if(0===_)z=1/p,B=1/R;else{const W=p*_,ne=R*_;z=W<1?1/W:1,B=ne<1?1/ne:1}}else{const p=Math.abs(S[0]*S[3]-S[2]*S[1]),R=Math.hypot(S[0],S[1]),W=Math.hypot(S[2],S[3]);if(0===_)z=W/p,B=R/p;else{const ne=_*p;z=W>ne?W/ne:1,B=R>ne?R/ne:1}}this._cachedScaleForStroking=[z,B]}return this._cachedScaleForStroking}rescaleAndStroke(_){const{ctx:S}=this,{lineWidth:z}=this.current,[B,p]=this.getScaleForStroking();if(S.lineWidth=z||1,1===B&&1===p)return void S.stroke();let R,W,ne;_&&(R=(0,k.getCurrentTransform)(S),W=S.getLineDash().slice(),ne=S.lineDashOffset),S.scale(B,p);const se=Math.max(B,p);S.setLineDash(S.getLineDash().map(he=>he/se)),S.lineDashOffset/=se,S.stroke(),_&&(S.setTransform(...R),S.setLineDash(W),S.lineDashOffset=ne)}isContentVisible(){for(let _=this.markedContentStack.length-1;_>=0;_--)if(!this.markedContentStack[_].visible)return!1;return!0}}I.CanvasGraphics=Z;for(const O in q.OPS)void 0!==Z.prototype[O]&&(Z.prototype[q.OPS[O]]=Z.prototype[O])},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.TilingPattern=I.PathType=void 0,I.getShadingPattern=function D(V){switch(V[0]){case"RadialAxial":return new v(V);case"Mesh":return new A(V);case"Dummy":return new U}throw new Error(`Unknown IR type: ${V[0]}`)};var k=ae(1),q=ae(8),ve=ae(3);const ce={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function be(V,L){if(!L||ve.isNodeJS)return;const P=L[2]-L[0],M=L[3]-L[1],g=new Path2D;g.rect(L[0],L[1],P,M),V.clip(g)}I.PathType=ce;class Q{constructor(){this.constructor===Q&&(0,k.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,k.unreachable)("Abstract method `getPattern` called.")}}class v extends Q{constructor(L){super(),this._type=L[1],this._bbox=L[2],this._colorStops=L[3],this._p0=L[4],this._p1=L[5],this._r0=L[6],this._r1=L[7],this.matrix=null}_createGradient(L){let P;"axial"===this._type?P=L.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(P=L.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const M of this._colorStops)P.addColorStop(M[0],M[1]);return P}getPattern(L,P,M,g){let y;if(g===ce.STROKE||g===ce.FILL){const N=P.current.getClippedPathBoundingBox(g,(0,q.getCurrentTransform)(L))||[0,0,0,0],ee=Math.ceil(N[2]-N[0])||1,ie=Math.ceil(N[3]-N[1])||1,fe=P.cachedCanvases.getCanvas("pattern",ee,ie,!0),de=fe.context;de.clearRect(0,0,de.canvas.width,de.canvas.height),de.beginPath(),de.rect(0,0,de.canvas.width,de.canvas.height),de.translate(-N[0],-N[1]),M=k.Util.transform(M,[1,0,0,1,N[0],N[1]]),de.transform(...P.baseTransform),this.matrix&&de.transform(...this.matrix),be(de,this._bbox),de.fillStyle=this._createGradient(de),de.fill(),y=L.createPattern(fe.canvas,"no-repeat");const Oe=new DOMMatrix(M);try{y.setTransform(Oe)}catch(Me){(0,k.warn)(`RadialAxialShadingPattern.getPattern: "${Me?.message}".`)}}else be(L,this._bbox),y=this._createGradient(L);return y}}function T(V,L,P,M,g,y,N,ee){const ie=L.coords,fe=L.colors,de=V.data,Oe=4*V.width;let Me;ie[P+1]>ie[M+1]&&(Me=P,P=M,M=Me,Me=y,y=N,N=Me),ie[M+1]>ie[g+1]&&(Me=M,M=g,g=Me,Me=N,N=ee,ee=Me),ie[P+1]>ie[M+1]&&(Me=P,P=M,M=Me,Me=y,y=N,N=Me);const G=(ie[P]+L.offsetX)*L.scaleX,te=(ie[P+1]+L.offsetY)*L.scaleY,oe=(ie[M]+L.offsetX)*L.scaleX,J=(ie[M+1]+L.offsetY)*L.scaleY,Z=(ie[g]+L.offsetX)*L.scaleX,O=(ie[g+1]+L.offsetY)*L.scaleY;if(te>=O)return;const _=fe[y],S=fe[y+1],z=fe[y+2],B=fe[N],p=fe[N+1],R=fe[N+2],W=fe[ee],ne=fe[ee+1],se=fe[ee+2],he=Math.round(te),Y=Math.round(O);let re,ue,pe,Ce,xe,Ne,He,we;for(let Ie=he;Ie<=Y;Ie++){if(Ie<J){let et;et=Ie<te?0:(te-Ie)/(te-J),re=G-(G-oe)*et,ue=_-(_-B)*et,pe=S-(S-p)*et,Ce=z-(z-R)*et}else{let et;et=Ie>O?1:J===O?0:(J-Ie)/(J-O),re=oe-(oe-Z)*et,ue=B-(B-W)*et,pe=p-(p-ne)*et,Ce=R-(R-se)*et}let qe;qe=Ie<te?0:Ie>O?1:(te-Ie)/(te-O),xe=G-(G-Z)*qe,Ne=_-(_-W)*qe,He=S-(S-ne)*qe,we=z-(z-se)*qe;const Te=Math.round(Math.min(re,xe)),lt=Math.round(Math.max(re,xe));let ct=Oe*Ie+4*Te;for(let et=Te;et<=lt;et++)qe=(re-et)/(re-xe),qe<0?qe=0:qe>1&&(qe=1),de[ct++]=ue-(ue-Ne)*qe|0,de[ct++]=pe-(pe-He)*qe|0,de[ct++]=Ce-(Ce-we)*qe|0,de[ct++]=255}}function C(V,L,P){const M=L.coords,g=L.colors;let y,N;switch(L.type){case"lattice":const ee=L.verticesPerRow,ie=Math.floor(M.length/ee)-1,fe=ee-1;for(y=0;y<ie;y++){let de=y*ee;for(let Oe=0;Oe<fe;Oe++,de++)T(V,P,M[de],M[de+1],M[de+ee],g[de],g[de+1],g[de+ee]),T(V,P,M[de+ee+1],M[de+1],M[de+ee],g[de+ee+1],g[de+1],g[de+ee])}break;case"triangles":for(y=0,N=M.length;y<N;y+=3)T(V,P,M[y],M[y+1],M[y+2],g[y],g[y+1],g[y+2]);break;default:throw new Error("illegal figure")}}class A extends Q{constructor(L){super(),this._coords=L[2],this._colors=L[3],this._figures=L[4],this._bounds=L[5],this._bbox=L[7],this._background=L[8],this.matrix=null}_createMeshCanvas(L,P,M){const ee=Math.floor(this._bounds[0]),ie=Math.floor(this._bounds[1]),fe=Math.ceil(this._bounds[2])-ee,de=Math.ceil(this._bounds[3])-ie,Oe=Math.min(Math.ceil(Math.abs(fe*L[0]*1.1)),3e3),Me=Math.min(Math.ceil(Math.abs(de*L[1]*1.1)),3e3),G=fe/Oe,te=de/Me,oe={coords:this._coords,colors:this._colors,offsetX:-ee,offsetY:-ie,scaleX:1/G,scaleY:1/te},O=M.getCanvas("mesh",Oe+4,Me+4,!1),_=O.context,S=_.createImageData(Oe,Me);if(P){const B=S.data;for(let p=0,R=B.length;p<R;p+=4)B[p]=P[0],B[p+1]=P[1],B[p+2]=P[2],B[p+3]=255}for(const B of this._figures)C(S,B,oe);return _.putImageData(S,2,2),{canvas:O.canvas,offsetX:ee-2*G,offsetY:ie-2*te,scaleX:G,scaleY:te}}getPattern(L,P,M,g){let y;if(be(L,this._bbox),g===ce.SHADING)y=k.Util.singularValueDecompose2dScale((0,q.getCurrentTransform)(L));else if(y=k.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const ee=k.Util.singularValueDecompose2dScale(this.matrix);y=[y[0]*ee[0],y[1]*ee[1]]}const N=this._createMeshCanvas(y,g===ce.SHADING?null:this._background,P.cachedCanvases);return g!==ce.SHADING&&(L.setTransform(...P.baseTransform),this.matrix&&L.transform(...this.matrix)),L.translate(N.offsetX,N.offsetY),L.scale(N.scaleX,N.scaleY),L.createPattern(N.canvas,"no-repeat")}}class U extends Q{getPattern(){return"hotpink"}}class w{static get MAX_PATTERN_SIZE(){return(0,k.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(L,P,M,g,y){this.operatorList=L[2],this.matrix=L[3]||[1,0,0,1,0,0],this.bbox=L[4],this.xstep=L[5],this.ystep=L[6],this.paintType=L[7],this.tilingType=L[8],this.color=P,this.ctx=M,this.canvasGraphicsFactory=g,this.baseTransform=y}createPatternCanvas(L){const P=this.operatorList,M=this.bbox,g=this.xstep,y=this.ystep,N=this.paintType,ie=this.color,fe=this.canvasGraphicsFactory;(0,k.info)("TilingType: "+this.tilingType);const de=M[0],Oe=M[1],Me=M[2],G=M[3],te=k.Util.singularValueDecompose2dScale(this.matrix),oe=k.Util.singularValueDecompose2dScale(this.baseTransform),J=[te[0]*oe[0],te[1]*oe[1]],Z=this.getSizeAndScale(g,this.ctx.canvas.width,J[0]),O=this.getSizeAndScale(y,this.ctx.canvas.height,J[1]),_=L.cachedCanvases.getCanvas("pattern",Z.size,O.size,!0),S=_.context,z=fe.createCanvasGraphics(S);z.groupLevel=L.groupLevel,this.setFillAndStrokeStyleToContext(z,N,ie);let B=de,p=Oe,R=Me,W=G;return de<0&&(B=0,R+=Math.abs(de)),Oe<0&&(p=0,W+=Math.abs(Oe)),S.translate(-Z.scale*B,-O.scale*p),z.transform(Z.scale,0,0,O.scale,0,0),S.save(),this.clipBbox(z,B,p,R,W),z.baseTransform=(0,q.getCurrentTransform)(z.ctx),z.executeOperatorList(P),z.endDrawing(),{canvas:_.canvas,scaleX:Z.scale,scaleY:O.scale,offsetX:B,offsetY:p}}getSizeAndScale(L,P,M){L=Math.abs(L);const g=Math.max(w.MAX_PATTERN_SIZE,P);let y=Math.ceil(L*M);return y>=g?y=g:M=y/L,{scale:M,size:y}}clipBbox(L,P,M,g,y){L.ctx.rect(P,M,g-P,y-M),L.current.updateRectMinMax((0,q.getCurrentTransform)(L.ctx),[P,M,g,y]),L.clip(),L.endPath()}setFillAndStrokeStyleToContext(L,P,M){const g=L.ctx,y=L.current;switch(P){case 1:const N=this.ctx;g.fillStyle=N.fillStyle,g.strokeStyle=N.strokeStyle,y.fillColor=N.fillStyle,y.strokeColor=N.strokeStyle;break;case 2:const ee=k.Util.makeHexColor(M[0],M[1],M[2]);g.fillStyle=ee,g.strokeStyle=ee,y.fillColor=ee,y.strokeColor=ee;break;default:throw new k.FormatError(`Unsupported paint type: ${P}`)}}getPattern(L,P,M,g){let y=M;g!==ce.SHADING&&(y=k.Util.transform(y,P.baseTransform),this.matrix&&(y=k.Util.transform(y,this.matrix)));const N=this.createPatternCanvas(P);let ee=new DOMMatrix(y);ee=ee.translate(N.offsetX,N.offsetY),ee=ee.scale(1/N.scaleX,1/N.scaleY);const ie=L.createPattern(N.canvas,"repeat");try{ie.setTransform(ee)}catch(fe){(0,k.warn)(`TilingPattern.getPattern: "${fe?.message}".`)}return ie}}I.TilingPattern=w},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.applyMaskImageData=function q({src:ve,srcPos:ce=0,dest:be,destPos:Q=0,width:v,height:T,inverseDecode:C=!1}){const A=k.FeatureTest.isLittleEndian?4278190080:255,[U,D]=C?[0,A]:[A,0],E=v>>3,w=7&v,V=ve.length;be=new Uint32Array(be.buffer);for(let L=0;L<T;L++){for(const M=ce+E;ce<M;ce++){const g=ce<V?ve[ce]:255;be[Q++]=128&g?D:U,be[Q++]=64&g?D:U,be[Q++]=32&g?D:U,be[Q++]=16&g?D:U,be[Q++]=8&g?D:U,be[Q++]=4&g?D:U,be[Q++]=2&g?D:U,be[Q++]=1&g?D:U}if(0===w)continue;const P=ce<V?ve[ce++]:255;for(let M=0;M<w;M++)be[Q++]=P&1<<7-M?D:U}return{srcPos:ce,destPos:Q}};var k=ae(1)},(Pe,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.GlobalWorkerOptions=void 0;const ae=Object.create(null);I.GlobalWorkerOptions=ae,ae.workerPort=void 0===ae.workerPort?null:ae.workerPort,ae.workerSrc=void 0===ae.workerSrc?"":ae.workerSrc},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MessageHandler=void 0;var k=ae(1);function ce(Q){switch(Q instanceof Error||"object"==typeof Q&&null!==Q||(0,k.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Q.name){case"AbortException":return new k.AbortException(Q.message);case"MissingPDFException":return new k.MissingPDFException(Q.message);case"PasswordException":return new k.PasswordException(Q.message,Q.code);case"UnexpectedResponseException":return new k.UnexpectedResponseException(Q.message,Q.status);case"UnknownErrorException":return new k.UnknownErrorException(Q.message,Q.details);default:return new k.UnknownErrorException(Q.message,Q.toString())}}I.MessageHandler=class be{constructor(v,T,C){this.sourceName=v,this.targetName=T,this.comObj=C,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=A=>{const U=A.data;if(U.targetName!==this.sourceName)return;if(U.stream)return void this._processStreamMessage(U);if(U.callback){const E=U.callbackId,w=this.callbackCapabilities[E];if(!w)throw new Error(`Cannot resolve callback ${E}`);if(delete this.callbackCapabilities[E],1===U.callback)w.resolve(U.data);else{if(2!==U.callback)throw new Error("Unexpected callback case");w.reject(ce(U.reason))}return}const D=this.actionHandler[U.action];if(!D)throw new Error(`Unknown action from worker: ${U.action}`);if(U.callbackId){const E=this.sourceName,w=U.sourceName;new Promise(function(V){V(D(U.data))}).then(function(V){C.postMessage({sourceName:E,targetName:w,callback:1,callbackId:U.callbackId,data:V})},function(V){C.postMessage({sourceName:E,targetName:w,callback:2,callbackId:U.callbackId,reason:ce(V)})})}else U.streamId?this._createStreamSink(U):D(U.data)},C.addEventListener("message",this._onComObjOnMessage)}on(v,T){const C=this.actionHandler;if(C[v])throw new Error(`There is already an actionName called "${v}"`);C[v]=T}send(v,T,C){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,data:T},C)}sendWithPromise(v,T,C){const A=this.callbackId++,U=(0,k.createPromiseCapability)();this.callbackCapabilities[A]=U;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,callbackId:A,data:T},C)}catch(D){U.reject(D)}return U.promise}sendWithStream(v,T,C,A){const U=this.streamId++,D=this.sourceName,E=this.targetName,w=this.comObj;return new ReadableStream({start:V=>{const L=(0,k.createPromiseCapability)();return this.streamControllers[U]={controller:V,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:D,targetName:E,action:v,streamId:U,data:T,desiredSize:V.desiredSize},A),L.promise},pull:V=>{const L=(0,k.createPromiseCapability)();return this.streamControllers[U].pullCall=L,w.postMessage({sourceName:D,targetName:E,stream:6,streamId:U,desiredSize:V.desiredSize}),L.promise},cancel:V=>{(0,k.assert)(V instanceof Error,"cancel must have a valid reason");const L=(0,k.createPromiseCapability)();return this.streamControllers[U].cancelCall=L,this.streamControllers[U].isClosed=!0,w.postMessage({sourceName:D,targetName:E,stream:1,streamId:U,reason:ce(V)}),L.promise}},C)}_createStreamSink(v){const T=v.streamId,C=this.sourceName,A=v.sourceName,U=this.comObj,D=this,E=this.actionHandler[v.action],w={enqueue(V,L=1,P){if(this.isCancelled)return;const M=this.desiredSize;this.desiredSize-=L,M>0&&this.desiredSize<=0&&(this.sinkCapability=(0,k.createPromiseCapability)(),this.ready=this.sinkCapability.promise),U.postMessage({sourceName:C,targetName:A,stream:4,streamId:T,chunk:V},P)},close(){this.isCancelled||(this.isCancelled=!0,U.postMessage({sourceName:C,targetName:A,stream:3,streamId:T}),delete D.streamSinks[T])},error(V){(0,k.assert)(V instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,U.postMessage({sourceName:C,targetName:A,stream:5,streamId:T,reason:ce(V)}))},sinkCapability:(0,k.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:v.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[T]=w,new Promise(function(V){V(E(v.data,w))}).then(function(){U.postMessage({sourceName:C,targetName:A,stream:8,streamId:T,success:!0})},function(V){U.postMessage({sourceName:C,targetName:A,stream:8,streamId:T,reason:ce(V)})})}_processStreamMessage(v){const T=v.streamId,C=this.sourceName,A=v.sourceName,U=this.comObj,D=this.streamControllers[T],E=this.streamSinks[T];switch(v.stream){case 8:v.success?D.startCall.resolve():D.startCall.reject(ce(v.reason));break;case 7:v.success?D.pullCall.resolve():D.pullCall.reject(ce(v.reason));break;case 6:if(!E){U.postMessage({sourceName:C,targetName:A,stream:7,streamId:T,success:!0});break}E.desiredSize<=0&&v.desiredSize>0&&E.sinkCapability.resolve(),E.desiredSize=v.desiredSize,new Promise(function(w){w(E.onPull&&E.onPull())}).then(function(){U.postMessage({sourceName:C,targetName:A,stream:7,streamId:T,success:!0})},function(w){U.postMessage({sourceName:C,targetName:A,stream:7,streamId:T,reason:ce(w)})});break;case 4:if((0,k.assert)(D,"enqueue should have stream controller"),D.isClosed)break;D.controller.enqueue(v.chunk);break;case 3:if((0,k.assert)(D,"close should have stream controller"),D.isClosed)break;D.isClosed=!0,D.controller.close(),this._deleteStreamController(D,T);break;case 5:(0,k.assert)(D,"error should have stream controller"),D.controller.error(ce(v.reason)),this._deleteStreamController(D,T);break;case 2:v.success?D.cancelCall.resolve():D.cancelCall.reject(ce(v.reason)),this._deleteStreamController(D,T);break;case 1:if(!E)break;new Promise(function(w){w(E.onCancel&&E.onCancel(ce(v.reason)))}).then(function(){U.postMessage({sourceName:C,targetName:A,stream:2,streamId:T,success:!0})},function(w){U.postMessage({sourceName:C,targetName:A,stream:2,streamId:T,reason:ce(w)})}),E.sinkCapability.reject(ce(v.reason)),E.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(v,T){var C=this;return _asyncToGenerator(function*(){yield Promise.allSettled([v.startCall&&v.startCall.promise,v.pullCall&&v.pullCall.promise,v.cancelCall&&v.cancelCall.promise]),delete C.streamControllers[T]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Metadata=void 0;var k=ae(1);I.Metadata=class q{#e;#t;constructor({parsedData:ce,rawData:be}){this.#e=ce,this.#t=be}getRaw(){return this.#t}get(ce){return this.#e.get(ce)??null}getAll(){return(0,k.objectFromMap)(this.#e)}has(ce){return this.#e.has(ce)}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.OptionalContentConfig=void 0;var k=ae(1);const q=Symbol("INTERNAL");class ve{#e=!0;constructor(Q,v){this.name=Q,this.intent=v}get visible(){return this.#e}_setVisible(Q,v){Q!==q&&(0,k.unreachable)("Internal method `_setVisible` called."),this.#e=v}}I.OptionalContentConfig=class ce{#e=!0;#t=new Map;#n=null;#i=null;constructor(Q){if(this.name=null,this.creator=null,null!==Q){this.name=Q.name,this.creator=Q.creator,this.#i=Q.order;for(const v of Q.groups)this.#t.set(v.id,new ve(v.name,v.intent));if("OFF"===Q.baseState)for(const v of this.#t.values())v._setVisible(q,!1);for(const v of Q.on)this.#t.get(v)._setVisible(q,!0);for(const v of Q.off)this.#t.get(v)._setVisible(q,!1);this.#n=new Map;for(const[v,T]of this.#t)this.#n.set(v,T.visible)}}#s(Q){const v=Q.length;if(v<2)return!0;const T=Q[0];for(let C=1;C<v;C++){const A=Q[C];let U;if(Array.isArray(A))U=this.#s(A);else{if(!this.#t.has(A))return(0,k.warn)(`Optional content group not found: ${A}`),!0;U=this.#t.get(A).visible}switch(T){case"And":if(!U)return!1;break;case"Or":if(U)return!0;break;case"Not":return!U;default:return!0}}return"And"===T}isVisible(Q){if(0===this.#t.size)return!0;if(!Q)return(0,k.warn)("Optional content group not defined."),!0;if("OCG"===Q.type)return this.#t.has(Q.id)?this.#t.get(Q.id).visible:((0,k.warn)(`Optional content group not found: ${Q.id}`),!0);if("OCMD"===Q.type){if(Q.expression)return this.#s(Q.expression);if(!Q.policy||"AnyOn"===Q.policy){for(const v of Q.ids){if(!this.#t.has(v))return(0,k.warn)(`Optional content group not found: ${v}`),!0;if(this.#t.get(v).visible)return!0}return!1}if("AllOn"===Q.policy){for(const v of Q.ids){if(!this.#t.has(v))return(0,k.warn)(`Optional content group not found: ${v}`),!0;if(!this.#t.get(v).visible)return!1}return!0}if("AnyOff"===Q.policy){for(const v of Q.ids){if(!this.#t.has(v))return(0,k.warn)(`Optional content group not found: ${v}`),!0;if(!this.#t.get(v).visible)return!0}return!1}if("AllOff"===Q.policy){for(const v of Q.ids){if(!this.#t.has(v))return(0,k.warn)(`Optional content group not found: ${v}`),!0;if(this.#t.get(v).visible)return!1}return!0}return(0,k.warn)(`Unknown optional content policy ${Q.policy}.`),!0}return(0,k.warn)(`Unknown group type ${Q.type}.`),!0}setVisibility(Q,v=!0){this.#t.has(Q)?(this.#t.get(Q)._setVisible(q,!!v),this.#e=null):(0,k.warn)(`Optional content group not found: ${Q}`)}get hasInitialVisibility(){if(null!==this.#e)return this.#e;for(const[Q,v]of this.#t){const T=this.#n.get(Q);if(v.visible!==T)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,k.objectFromMap)(this.#t):null}getGroup(Q){return this.#t.get(Q)||null}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFDataTransportStream=void 0;var k=ae(1),q=ae(8);I.PDFDataTransportStream=class ve{constructor(v,T){(0,k.assert)(T,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=v.progressiveDone||!1,this._contentDispositionFilename=v.contentDispositionFilename||null;const C=v.initialData;if(C?.length>0){const A=new Uint8Array(C).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=T,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._contentLength=v.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,U)=>{this._onReceiveData({begin:A,chunk:U})}),this._pdfDataRangeTransport.addProgressListener((A,U)=>{this._onProgress({loaded:A,total:U})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(v){const T=new Uint8Array(v.chunk).buffer;if(void 0===v.begin)this._fullRequestReader?this._fullRequestReader._enqueue(T):this._queuedChunks.push(T);else{const C=this._rangeReaders.some(function(A){return A._begin===v.begin&&(A._enqueue(T),!0)});(0,k.assert)(C,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(v){if(void 0===v.total){const T=this._rangeReaders[0];T?.onProgress&&T.onProgress({loaded:v.loaded})}else{const T=this._fullRequestReader;T?.onProgress&&T.onProgress({loaded:v.loaded,total:v.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(v){const T=this._rangeReaders.indexOf(v);T>=0&&this._rangeReaders.splice(T,1)}getFullReader(){(0,k.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const v=this._queuedChunks;return this._queuedChunks=null,new ce(this,v,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(v,T){if(T<=this._progressiveDataLength)return null;const C=new be(this,v,T);return this._pdfDataRangeTransport.requestDataRange(v,T),this._rangeReaders.push(C),C}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const T of this._rangeReaders.slice(0))T.cancel(v);this._pdfDataRangeTransport.abort()}};class ce{constructor(v,T,C=!1,A=null){this._stream=v,this._done=C||!1,this._filename=(0,q.isPdfFile)(A)?A:null,this._queuedChunks=T||[],this._loaded=0;for(const U of this._queuedChunks)this._loaded+=U.byteLength;this._requests=[],this._headersReady=Promise.resolve(),v._fullRequestReader=this,this.onProgress=null}_enqueue(v){this._done||(this._requests.length>0?this._requests.shift().resolve({value:v,done:!1}):this._queuedChunks.push(v),this._loaded+=v.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var v=this;return _asyncToGenerator(function*(){if(v._queuedChunks.length>0)return{value:v._queuedChunks.shift(),done:!1};if(v._done)return{value:void 0,done:!0};const T=(0,k.createPromiseCapability)();return v._requests.push(T),T.promise})()}cancel(v){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class be{constructor(v,T,C){this._stream=v,this._begin=T,this._end=C,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(v){if(!this._done){if(0===this._requests.length)this._queuedChunk=v;else{this._requests.shift().resolve({value:v,done:!1});for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var v=this;return _asyncToGenerator(function*(){if(v._queuedChunk){const C=v._queuedChunk;return v._queuedChunk=null,{value:C,done:!1}}if(v._done)return{value:void 0,done:!0};const T=(0,k.createPromiseCapability)();return v._requests.push(T),T.promise})()}cancel(v){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Pe,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XfaText=void 0;class ae{static textContent(q){const ve=[],ce={items:ve,styles:Object.create(null)};return function be(Q){if(!Q)return;let v=null;const T=Q.name;if("#text"===T)v=Q.value;else{if(!ae.shouldBuildText(T))return;Q?.attributes?.textContent?v=Q.attributes.textContent:Q.value&&(v=Q.value)}if(null!==v&&ve.push({str:v}),Q.children)for(const C of Q.children)be(C)}(q),ce}static shouldBuildText(q){return!("textarea"===q||"input"===q||"option"===q||"select"===q)}}I.XfaText=ae},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NodeStandardFontDataFactory=I.NodeCanvasFactory=I.NodeCMapReaderFactory=void 0;var k=ae(9);const q=function(Q){return new Promise((v,T)=>{__webpack_require__(172).readFile(Q,(A,U)=>{!A&&U?v(new Uint8Array(U)):T(new Error(A))})})};I.NodeCanvasFactory=class ve extends k.BaseCanvasFactory{_createCanvas(v,T){return __webpack_require__(414).createCanvas(v,T)}},I.NodeCMapReaderFactory=class ce extends k.BaseCMapReaderFactory{_fetchData(v,T){return q(v).then(C=>({cMapData:C,compressionType:T}))}},I.NodeStandardFontDataFactory=class be extends k.BaseStandardFontDataFactory{_fetchData(v){return q(v)}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationEditorLayer=void 0;var k=ae(7),q=ae(1),ve=ae(23),ce=ae(24);I.AnnotationEditorLayer=(()=>{class Q{#e;#t=!1;#n=this.pointerup.bind(this);#i=this.pointerdown.bind(this);#s=new Map;#c=!1;#a=!1;#r;static _initialized=!1;constructor(T){Q._initialized||(Q._initialized=!0,ve.FreeTextEditor.initialize(T.l10n),ce.InkEditor.initialize(T.l10n),T.uiManager.registerEditorTypes([ve.FreeTextEditor,ce.InkEditor])),this.#r=T.uiManager,this.annotationStorage=T.annotationStorage,this.pageIndex=T.pageIndex,this.div=T.div,this.#e=T.accessibilityManager,this.#r.addLayer(this)}updateToolbar(T){this.#r.updateToolbar(T)}updateMode(T=this.#r.getMode()){this.#o(),T===q.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#r.unselectAll()}addInkEditorIfNeeded(T){if(T||this.#r.getMode()===q.AnnotationEditorType.INK){if(!T)for(const A of this.#s.values())if(A.isEmpty())return void A.setInBackground();this.#l({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(T){this.#r.setEditingState(T)}addCommands(T){this.#r.addCommands(T)}enable(){this.div.style.pointerEvents="auto";for(const T of this.#s.values())T.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const T of this.#s.values())T.disableEditing()}setActiveEditor(T){this.#r.getActive()!==T&&this.#r.setActiveEditor(T)}enableClick(){this.div.addEventListener("pointerdown",this.#i),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#i),this.div.removeEventListener("pointerup",this.#n)}attach(T){this.#s.set(T.id,T)}detach(T){this.#s.delete(T.id),this.#e?.removePointerInTextLayer(T.contentDiv)}remove(T){this.#r.removeEditor(T),this.detach(T),this.annotationStorage.remove(T.id),T.div.style.display="none",setTimeout(()=>{T.div.style.display="",T.div.remove(),T.isAttachedToDOM=!1,document.activeElement===document.body&&this.#r.focusMainContainer()},0),this.#a||this.addInkEditorIfNeeded(!1)}#h(T){T.parent!==this&&(this.attach(T),T.pageIndex=this.pageIndex,T.parent?.detach(T),T.parent=this,T.div&&T.isAttachedToDOM&&(T.div.remove(),this.div.append(T.div)))}add(T){if(this.#h(T),this.#r.addEditor(T),this.attach(T),!T.isAttachedToDOM){const C=T.render();this.div.append(C),T.isAttachedToDOM=!0}this.moveEditorInDOM(T),T.onceAdded(),this.addToAnnotationStorage(T)}moveEditorInDOM(T){this.#e?.moveElementInDOM(this.div,T.div,T.contentDiv,!0)}addToAnnotationStorage(T){!T.isEmpty()&&!this.annotationStorage.has(T.id)&&this.annotationStorage.setValue(T.id,T)}addOrRebuild(T){T.needsToBeRebuilt()?T.rebuild():this.add(T)}addANewEditor(T){this.addCommands({cmd:()=>{this.addOrRebuild(T)},undo:()=>{T.remove()},mustExec:!0})}addUndoableEditor(T){this.addCommands({cmd:()=>{this.addOrRebuild(T)},undo:()=>{T.remove()},mustExec:!1})}getNextId(){return this.#r.getId()}#d(T){switch(this.#r.getMode()){case q.AnnotationEditorType.FREETEXT:return new ve.FreeTextEditor(T);case q.AnnotationEditorType.INK:return new ce.InkEditor(T)}return null}deserialize(T){switch(T.annotationType){case q.AnnotationEditorType.FREETEXT:return ve.FreeTextEditor.deserialize(T,this);case q.AnnotationEditorType.INK:return ce.InkEditor.deserialize(T,this)}return null}#l(T){const C=this.getNextId(),A=this.#d({parent:this,id:C,x:T.offsetX,y:T.offsetY});return A&&this.add(A),A}setSelected(T){this.#r.setSelected(T)}toggleSelected(T){this.#r.toggleSelected(T)}isSelected(T){return this.#r.isSelected(T)}unselect(T){this.#r.unselect(T)}pointerup(T){if(!(0!==T.button||T.ctrlKey&&k.KeyboardManager.platform.isMac)&&T.target===this.div&&this.#c){if(this.#c=!1,!this.#t)return void(this.#t=!0);this.#l(T)}}pointerdown(T){if(0!==T.button||T.ctrlKey&&k.KeyboardManager.platform.isMac||T.target!==this.div)return;this.#c=!0;const A=this.#r.getActive();this.#t=!A||A.isEmpty()}drop(T){const C=T.dataTransfer.getData("text/plain"),A=this.#r.getEditor(C);if(!A)return;T.preventDefault(),T.dataTransfer.dropEffect="move",this.#h(A);const U=this.div.getBoundingClientRect();A.translate(T.clientX-U.x-A.startX,T.clientY-U.y-A.startY),this.moveEditorInDOM(A),A.div.focus()}dragover(T){T.preventDefault()}destroy(){this.#r.getActive()?.parent===this&&this.#r.setActiveEditor(null);for(const T of this.#s.values())this.#e?.removePointerInTextLayer(T.contentDiv),T.isAttachedToDOM=!1,T.div.remove(),T.parent=null;this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#o(){this.#a=!0;for(const T of this.#s.values())T.isEmpty()&&T.remove();this.#a=!1}render(T){this.viewport=T.viewport,(0,k.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const C of this.#r.getEditors(this.pageIndex))this.add(C);this.updateMode()}update(T){this.viewport=T.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[T,C,A,U]=this.viewport.viewBox;return[A-T,U-C]}get viewportBaseDimensions(){const{width:T,height:C,rotation:A}=this.viewport;return A%180==0?[T,C]:[C,T]}setDimensions(){const{width:T,height:C,rotation:A}=this.viewport,U=A%180!=0,D=Math.floor(T)+"px",E=Math.floor(C)+"px";this.div.style.width=U?E:D,this.div.style.height=U?D:E,this.div.setAttribute("data-main-rotation",A)}}return Q})()},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FreeTextEditor=void 0;var k=ae(1),q=ae(7),ve=ae(6);class ce extends ve.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#i;#s="";#c=!1;#a;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new q.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ce.prototype.commitOrRemove]]);static _type="freetext";constructor(Q){super({...Q,name:"freeTextEditor"}),this.#i=Q.color||ce._defaultColor||ve.AnnotationEditor._defaultLineColor,this.#a=Q.fontSize||ce._defaultFontSize}static initialize(Q){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(T=>[T,Q.get(T)]));const v=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(v.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Q,v){switch(Q){case k.AnnotationEditorParamsType.FREETEXT_SIZE:ce._defaultFontSize=v;break;case k.AnnotationEditorParamsType.FREETEXT_COLOR:ce._defaultColor=v}}updateParams(Q,v){switch(Q){case k.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(v);break;case k.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(v)}}static get defaultPropertiesToUpdate(){return[[k.AnnotationEditorParamsType.FREETEXT_SIZE,ce._defaultFontSize],[k.AnnotationEditorParamsType.FREETEXT_COLOR,ce._defaultColor||ve.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[k.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[k.AnnotationEditorParamsType.FREETEXT_COLOR,this.#i]]}#r(Q){const v=C=>{this.editorDiv.style.fontSize=`calc(${C}px * var(--scale-factor))`,this.translate(0,-(C-this.#a)*this.parent.scaleFactor),this.#a=C,this.#l()},T=this.#a;this.parent.addCommands({cmd:()=>{v(Q)},undo:()=>{v(T)},mustExec:!0,type:k.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(Q){const v=this.#i;this.parent.addCommands({cmd:()=>{this.#i=Q,this.editorDiv.style.color=Q},undo:()=>{this.#i=v,this.editorDiv.style.color=v},mustExec:!0,type:k.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-ce._internalPadding*this.parent.scaleFactor,-(ce._internalPadding+this.#a)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(k.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(Q){super.focusin(Q),Q.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#d(){const Q=this.editorDiv.getElementsByTagName("div");if(0===Q.length)return this.editorDiv.innerText;const v=[];for(let T=0,C=Q.length;T<C;T++){const U=Q[T].firstChild;v.push("#text"===U?.nodeName?U.data:"")}return v.join("\n")}#l(){const[Q,v]=this.parent.viewportBaseDimensions,T=this.div.getBoundingClientRect();this.width=T.width/Q,this.height=T.height/v}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#s=this.#d().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Q){this.enableEditMode(),this.editorDiv.focus()}keydown(Q){Q.target===this.div&&"Enter"===Q.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Q){ce._keyboardManager.exec(this,Q)}editorDivFocus(Q){this.isEditing=!0}editorDivBlur(Q){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Q,v;this.width&&(Q=this.x,v=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),ce._l10nPromise.get("editor_free_text_aria_label").then(C=>this.editorDiv?.setAttribute("aria-label",C)),ce._l10nPromise.get("free_text_default_content").then(C=>this.editorDiv?.setAttribute("default-content",C)),this.editorDiv.contentEditable=!0;const{style:T}=this.editorDiv;if(T.fontSize=`calc(${this.#a}px * var(--scale-factor))`,T.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,q.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[C,A]=this.parent.viewportBaseDimensions;this.setAt(Q*C,v*A,this.width*C,this.height*A);for(const U of this.#s.split("\n")){const D=document.createElement("div");D.append(U?document.createTextNode(U):document.createElement("br")),this.editorDiv.append(D)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Q,v){const T=super.deserialize(Q,v);return T.#a=Q.fontSize,T.#i=k.Util.makeHexColor(...Q.color),T.#s=Q.value,T}serialize(){if(this.isEmpty())return null;const Q=ce._internalPadding*this.parent.scaleFactor,v=this.getRect(Q,Q),T=ve.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:k.AnnotationEditorType.FREETEXT,color:T,fontSize:this.#a,value:this.#s,pageIndex:this.parent.pageIndex,rect:v,rotation:this.rotation}}}I.FreeTextEditor=ce},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.InkEditor=void 0,Object.defineProperty(I,"fitCurve",{enumerable:!0,get:function(){return ve.fitCurve}});var k=ae(1),q=ae(6),ve=ae(25),ce=ae(7);I.InkEditor=(()=>{class v extends q.AnnotationEditor{#e=0;#t=0;#n=0;#i=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#r=!1;#h=!1;#d=null;#l=null;#o=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(C){super({...C,name:"inkEditor"}),this.color=C.color||null,this.thickness=C.thickness||null,this.opacity=C.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(C){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(A=>[A,C.get(A)]))}static updateDefaultParams(C,A){switch(C){case k.AnnotationEditorParamsType.INK_THICKNESS:v._defaultThickness=A;break;case k.AnnotationEditorParamsType.INK_COLOR:v._defaultColor=A;break;case k.AnnotationEditorParamsType.INK_OPACITY:v._defaultOpacity=A/100}}updateParams(C,A){switch(C){case k.AnnotationEditorParamsType.INK_THICKNESS:this.#v(A);break;case k.AnnotationEditorParamsType.INK_COLOR:this.#m(A);break;case k.AnnotationEditorParamsType.INK_OPACITY:this.#_(A)}}static get defaultPropertiesToUpdate(){return[[k.AnnotationEditorParamsType.INK_THICKNESS,v._defaultThickness],[k.AnnotationEditorParamsType.INK_COLOR,v._defaultColor||q.AnnotationEditor._defaultLineColor],[k.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*v._defaultOpacity)]]}get propertiesToUpdate(){return[[k.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||v._defaultThickness],[k.AnnotationEditorParamsType.INK_COLOR,this.color||v._defaultColor||q.AnnotationEditor._defaultLineColor],[k.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??v._defaultOpacity))]]}#v(C){const A=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=C,this.#D()},undo:()=>{this.thickness=A,this.#D()},mustExec:!0,type:k.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(C){const A=this.color;this.parent.addCommands({cmd:()=>{this.color=C,this.#g()},undo:()=>{this.color=A,this.#g()},mustExec:!0,type:k.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#_(C){C/=100;const A=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=C,this.#g()},undo:()=>{this.opacity=A,this.#g()},mustExec:!0,type:k.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#y(),this.#w()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#D())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#r||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#a),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#C(){const{width:C,height:A,rotation:U}=this.parent.viewport;switch(U){case 90:return[0,C,C,A];case 180:return[C,A,C,A];case 270:return[A,0,C,A];default:return[0,0,C,A]}}#b(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,ce.opacityToHex)(this.opacity)}`}#u(C,A){this.isEditing=!0,this.#h||(this.#h=!0,this.#A(),this.thickness||=v._defaultThickness,this.color||=v._defaultColor||q.AnnotationEditor._defaultLineColor,this.opacity??=v._defaultOpacity),this.currentPath.push([C,A]),this.#d=null,this.#b(),this.ctx.beginPath(),this.ctx.moveTo(C,A),this.#f=()=>{this.#f&&(this.#d&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#d),this.#d=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#x(C,A){const[U,D]=this.currentPath.at(-1);C===U&&A===D||(this.currentPath.push([C,A]),this.#d=[C,A])}#S(C,A){this.ctx.closePath(),this.#f=null,C=Math.min(Math.max(C,0),this.canvas.width),A=Math.min(Math.max(A,0),this.canvas.height);const[U,D]=this.currentPath.at(-1);let E;if((C!==U||A!==D)&&this.currentPath.push([C,A]),1!==this.currentPath.length)E=(0,ve.fitCurve)(this.currentPath,30,null);else{const P=[C,A];E=[[P,P.slice(),P.slice(),P]]}const w=v.#k(E);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(E),this.bezierPath2D.push(w),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#y(),this.#w()),this.#D())},mustExec:!0})}#g(){if(this.isEmpty())return void this.#T();this.#b();const{canvas:C,ctx:A}=this;A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,C.width,C.height),this.#T();for(const U of this.bezierPath2D)A.stroke(U)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#D(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(C){super.focusin(C),this.enableEditMode()}canvasPointerdown(C){0!==C.button||!this.isInEditMode()||this.#r||(this.setInForeground(),"mouse"!==C.type&&this.div.focus(),C.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#s),this.canvas.addEventListener("pointermove",this.#i),this.#u(C.offsetX,C.offsetY))}canvasPointermove(C){C.stopPropagation(),this.#x(C.offsetX,C.offsetY)}canvasPointerup(C){0===C.button&&this.isInEditMode()&&0!==this.currentPath.length&&(C.stopPropagation(),this.#E(C),this.setInBackground())}canvasPointerleave(C){this.#E(C),this.setInBackground()}#E(C){this.#S(C.offsetX,C.offsetY),this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#i),this.parent.addToAnnotationStorage(this)}#y(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",v._l10nPromise.get("editor_ink_canvas_aria_label").then(C=>this.canvas?.setAttribute("aria-label",C)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#w(){this.#l=new ResizeObserver(C=>{const A=C[0].contentRect;A.width&&A.height&&this.setDimensions(A.width,A.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let C,A;this.width&&(C=this.x,A=this.y),super.render(),v._l10nPromise.get("editor_ink_aria_label").then(V=>this.div?.setAttribute("aria-label",V));const[U,D,E,w]=this.#C();if(this.setAt(U,D,0,0),this.setDims(E,w),this.#y(),this.width){const[V,L]=this.parent.viewportBaseDimensions;this.setAt(C*V,A*L,this.width*V,this.height*L),this.#h=!0,this.#A(),this.setDims(this.width*V,this.height*L),this.#g(),this.#R(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#w(),this.div}#A(){if(!this.#h)return;const[C,A]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*C),this.canvas.height=Math.ceil(this.height*A),this.#T()}setDimensions(C,A){const U=Math.round(C),D=Math.round(A);if(this.#o===U&&this.#p===D)return;this.#o=U,this.#p=D,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-C/A)>.01&&(A=Math.ceil(C/this.#e),this.setDims(C,A));const[E,w]=this.parent.viewportBaseDimensions;this.width=C/E,this.height=A/w,this.#r&&this.#I(C,A),this.#A(),this.#g(),this.canvas.style.visibility="visible"}#I(C,A){const U=this.#M(),D=(C-U)/this.#n,E=(A-U)/this.#t;this.scaleFactor=Math.min(D,E)}#T(){const C=this.#M()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+C,this.translationY*this.scaleFactor+C)}static#k(C){const A=new Path2D;for(let U=0,D=C.length;U<D;U++){const[E,w,V,L]=C[U];0===U&&A.moveTo(...E),A.bezierCurveTo(w[0],w[1],V[0],V[1],L[0],L[1])}return A}#N(C,A,U,D){const w=[],V=this.thickness/2;let L,P;for(const M of this.paths){L=[],P=[];for(let g=0,y=M.length;g<y;g++){const[N,ee,ie,fe]=M[g],de=C*(N[0]+A)+V,Oe=D-C*(N[1]+U)-V,Me=C*(ee[0]+A)+V,G=D-C*(ee[1]+U)-V,te=C*(ie[0]+A)+V,oe=D-C*(ie[1]+U)-V,J=C*(fe[0]+A)+V,Z=D-C*(fe[1]+U)-V;0===g&&(L.push(de,Oe),P.push(de,Oe)),L.push(Me,G,te,oe,J,Z),this.#P(de,Oe,Me,G,te,oe,J,Z,4,P)}w.push({bezier:L,points:P})}return w}#P(C,A,U,D,E,w,V,L,P,M){if(this.#F(C,A,U,D,E,w,V,L))M.push(V,L);else{for(let g=1;g<P-1;g++){const y=g/P,N=1-y;let ee=y*C+N*U,ie=y*A+N*D,fe=y*U+N*E,de=y*D+N*w;ee=y*ee+N*fe,ie=y*ie+N*de,fe=y*fe+N*(y*E+N*V),de=y*de+N*(y*w+N*L),ee=y*ee+N*fe,ie=y*ie+N*de,M.push(ee,ie)}M.push(V,L)}}#F(C,A,U,D,E,w,V,L){const g=(3*D-2*A-L)**2,N=(3*w-A-2*L)**2;return Math.max((3*U-2*C-V)**2,(3*E-C-2*V)**2)+Math.max(g,N)<=10}#O(){let C=1/0,A=-1/0,U=1/0,D=-1/0;for(const E of this.paths)for(const[w,V,L,P]of E){const M=k.Util.bezierBoundingBox(...w,...V,...L,...P);C=Math.min(C,M[0]),U=Math.min(U,M[1]),A=Math.max(A,M[2]),D=Math.max(D,M[3])}return[C,U,A,D]}#M(){return this.#r?Math.ceil(this.thickness*this.parent.scaleFactor):0}#D(C=!1){if(this.isEmpty())return;if(!this.#r)return void this.#g();const A=this.#O(),U=this.#M();this.#n=Math.max(16,A[2]-A[0]),this.#t=Math.max(16,A[3]-A[1]);const D=Math.ceil(U+this.#n*this.scaleFactor),E=Math.ceil(U+this.#t*this.scaleFactor),[w,V]=this.parent.viewportBaseDimensions;this.width=D/w,this.height=E/V,this.#e=D/E,this.#R();const L=this.translationX,P=this.translationY;this.translationX=-A[0],this.translationY=-A[1],this.#A(),this.#g(),this.#o=D,this.#p=E,this.setDims(D,E);const M=C?U/this.scaleFactor/2:0;this.translate(L-this.translationX-M,P-this.translationY-M)}#R(){const{style:C}=this.div;this.#e>=1?(C.minHeight="16px",C.minWidth=`${Math.round(16*this.#e)}px`):(C.minWidth="16px",C.minHeight=`${Math.round(16/this.#e)}px`)}static deserialize(C,A){const U=super.deserialize(C,A);U.thickness=C.thickness,U.color=k.Util.makeHexColor(...C.color),U.opacity=C.opacity;const[D,E]=A.pageDimensions,w=U.width*D,V=U.height*E,L=A.scaleFactor,P=C.thickness/2;U.#e=w/V,U.#r=!0,U.#o=Math.round(w),U.#p=Math.round(V);for(const{bezier:g}of C.paths){const y=[];U.paths.push(y);let N=L*(g[0]-P),ee=L*(V-g[1]-P);for(let fe=2,de=g.length;fe<de;fe+=6){const oe=L*(g[fe+4]-P),J=L*(V-g[fe+5]-P);y.push([[N,ee],[L*(g[fe]-P),L*(V-g[fe+1]-P)],[L*(g[fe+2]-P),L*(V-g[fe+3]-P)],[oe,J]]),N=oe,ee=J}const ie=this.#k(y);U.bezierPath2D.push(ie)}const M=U.#O();return U.#n=Math.max(16,M[2]-M[0]),U.#t=Math.max(16,M[3]-M[1]),U.#I(w,V),U}serialize(){if(this.isEmpty())return null;const C=this.getRect(0,0),A=this.rotation%180==0?C[3]-C[1]:C[2]-C[0],U=q.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:k.AnnotationEditorType.INK,color:U,thickness:this.thickness,opacity:this.opacity,paths:this.#N(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,A),pageIndex:this.parent.pageIndex,rect:C,rotation:this.rotation}}}return v})()},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.fitCurve=void 0;const k=ae(26);I.fitCurve=k},Pe=>{function ae(D,E,w,V,L){var M,g,y,N,ee,ie,fe,de,Oe,Me,G,te,oe;if(2===D.length)return te=A.vectorLen(A.subtract(D[0],D[1]))/3,[M=[D[0],A.addArrays(D[0],A.mulItems(E,te)),A.addArrays(D[1],A.mulItems(w,te)),D[1]]];if(g=function be(D){var w,V,L,E=[];return D.forEach((P,M)=>{w=M?V+A.vectorLen(A.subtract(P,L)):0,E.push(w),V=w,L=P}),E=E.map(P=>P/V)}(D),[M,N,ie]=k(D,g,g,E,w,L),0===N||N<V)return[M];if(N<V*V)for(y=g,ee=N,fe=ie,oe=0;oe<20;oe++){if(y=ve(M,D,y),[M,N,ie]=k(D,g,y,E,w,L),N<V)return[M];if(ie===fe){let J=N/ee;if(J>.9999&&J<1.0001)break}ee=N,fe=ie}return G=[],(de=A.subtract(D[ie-1],D[ie+1])).every(J=>0===J)&&(de=A.subtract(D[ie-1],D[ie]),[de[0],de[1]]=[-de[1],de[0]]),Oe=A.normalize(de),Me=A.mulItems(Oe,-1),(G=G.concat(ae(D.slice(0,ie+1),E,Oe,V,L))).concat(ae(D.slice(ie),Me,w,V,L))}function k(D,E,w,V,L,P){var M,g,y;return M=function q(D,E,w,V){var L,P,M,g,y,N,fe,de,Oe,Me,G,te,oe,J,Z,O=D[0],_=D[D.length-1];for(L=[O,null,null,_],P=A.zeros_Xx2x2(E.length),G=0,te=E.length;G<te;G++)(M=P[G])[0]=A.mulItems(w,3*(J=E[G])*((Z=1-J)*Z)),M[1]=A.mulItems(V,3*Z*(J*J));for(g=[[0,0],[0,0]],y=[0,0],G=0,te=D.length;G<te;G++)J=E[G],g[0][0]+=A.dot((M=P[G])[0],M[0]),g[0][1]+=A.dot(M[0],M[1]),g[1][0]+=A.dot(M[0],M[1]),g[1][1]+=A.dot(M[1],M[1]),oe=A.subtract(D[G],U.q([O,O,_,_],J)),y[0]+=A.dot(M[0],oe),y[1]+=A.dot(M[1],oe);return fe=0==(N=g[0][0]*g[1][1]-g[1][0]*g[0][1])?0:(y[0]*g[1][1]-y[1]*g[0][1])/N,de=0===N?0:(g[0][0]*y[1]-g[1][0]*y[0])/N,fe<(Oe=1e-6*(Me=A.vectorLen(A.subtract(O,_))))||de<Oe?(L[1]=A.addArrays(O,A.mulItems(w,Me/3)),L[2]=A.addArrays(_,A.mulItems(V,Me/3))):(L[1]=A.addArrays(O,A.mulItems(w,fe)),L[2]=A.addArrays(_,A.mulItems(V,de))),L}(D,w,V,L),[g,y]=function Q(D,E,w){var V,L,P,M,g,y,N,ee;L=0,P=Math.floor(D.length/2);const ie=v(E,10);for(g=0,y=D.length;g<y;g++)N=D[g],ee=T(0,w[g],ie,10),(V=(M=A.subtract(U.q(E,ee),N))[0]*M[0]+M[1]*M[1])>L&&(L=V,P=g);return[L,P]}(D,M,E),P&&P({bez:M,points:D,params:E,maxErr:g,maxPoint:y}),[M,g,y]}function ve(D,E,w){return w.map((V,L)=>function ce(D,E,w){var V=A.subtract(U.q(D,w),E),L=U.qprime(D,w),P=A.mulMatrix(V,L),M=A.sum(A.squareItems(L))+2*A.mulMatrix(V,U.qprimeprime(D,w));return 0===M?w:w-P/M}(D,E[L],V))}var v=function(D,E){for(var w,V=[0],L=D[0],P=0,M=1;M<=E;M++)w=U.q(D,M/E),P+=A.vectorLen(A.subtract(w,L)),V.push(P),L=w;return V.map(g=>g/P)};function T(D,E,w,V){if(E<0)return 0;if(E>1)return 1;for(var P,g,y,N=1;N<=V;N++)if(E<=w[N]){y=(E-(P=w[N-1]))/(w[N]-P)*(N/V-(g=(N-1)/V))+g;break}return y}function C(D,E){return A.normalize(A.subtract(D,E))}class A{static zeros_Xx2x2(E){for(var w=[];E--;)w.push([0,0]);return w}static mulItems(E,w){return E.map(V=>V*w)}static mulMatrix(E,w){return E.reduce((V,L,P)=>V+L*w[P],0)}static subtract(E,w){return E.map((V,L)=>V-w[L])}static addArrays(E,w){return E.map((V,L)=>V+w[L])}static addItems(E,w){return E.map(V=>V+w)}static sum(E){return E.reduce((w,V)=>w+V)}static dot(E,w){return A.mulMatrix(E,w)}static vectorLen(E){return Math.hypot(...E)}static divItems(E,w){return E.map(V=>V/w)}static squareItems(E){return E.map(w=>w*w)}static normalize(E){return this.divItems(E,this.vectorLen(E))}}class U{static q(E,w){var V=1-w,L=A.mulItems(E[0],V*V*V),P=A.mulItems(E[1],3*V*V*w),M=A.mulItems(E[2],3*V*w*w),g=A.mulItems(E[3],w*w*w);return A.addArrays(A.addArrays(L,P),A.addArrays(M,g))}static qprime(E,w){var V=1-w,L=A.mulItems(A.subtract(E[1],E[0]),3*V*V),P=A.mulItems(A.subtract(E[2],E[1]),6*V*w),M=A.mulItems(A.subtract(E[3],E[2]),3*w*w);return A.addArrays(A.addArrays(L,P),M)}static qprimeprime(E,w){return A.addArrays(A.mulItems(A.addArrays(A.subtract(E[2],A.mulItems(E[1],2)),E[0]),6*(1-w)),A.mulItems(A.addArrays(A.subtract(E[3],A.mulItems(E[2],2)),E[1]),6*w))}}Pe.exports=function I(D,E,w){if(!Array.isArray(D))throw new TypeError("First argument should be an array");if(D.forEach(M=>{if(!Array.isArray(M)||M.some(g=>"number"!=typeof g)||M.length!==D[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(D=D.filter((M,g)=>0===g||!M.every((y,N)=>y===D[g-1][N]))).length<2)return[];const V=D.length,L=C(D[1],D[0]),P=C(D[V-2],D[V-1]);return ae(D,L,P,E,w)},Pe.exports.fitCubic=ae,Pe.exports.createTangent=C},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationLayer=void 0;var k=ae(1),q=ae(8),ve=ae(5),ce=ae(28),be=ae(29);const Q=1e3,T=new WeakSet;function C(B){return{width:B[2]-B[0],height:B[3]-B[1]}}class A{static create(p){switch(p.data.annotationType){case k.AnnotationType.LINK:return new D(p);case k.AnnotationType.TEXT:return new E(p);case k.AnnotationType.WIDGET:switch(p.data.fieldType){case"Tx":return new V(p);case"Btn":return p.data.radioButton?new P(p):p.data.checkBox?new L(p):new M(p);case"Ch":return new g(p)}return new w(p);case k.AnnotationType.POPUP:return new y(p);case k.AnnotationType.FREETEXT:return new ee(p);case k.AnnotationType.LINE:return new ie(p);case k.AnnotationType.SQUARE:return new fe(p);case k.AnnotationType.CIRCLE:return new de(p);case k.AnnotationType.POLYLINE:return new Oe(p);case k.AnnotationType.CARET:return new G(p);case k.AnnotationType.INK:return new te(p);case k.AnnotationType.POLYGON:return new Me(p);case k.AnnotationType.HIGHLIGHT:return new oe(p);case k.AnnotationType.UNDERLINE:return new J(p);case k.AnnotationType.SQUIGGLY:return new Z(p);case k.AnnotationType.STRIKEOUT:return new O(p);case k.AnnotationType.STAMP:return new _(p);case k.AnnotationType.FILEATTACHMENT:return new S(p);default:return new U(p)}}}class U{constructor(p,{isRenderable:R=!1,ignoreBorder:W=!1,createQuadrilaterals:ne=!1}={}){this.isRenderable=R,this.data=p.data,this.layer=p.layer,this.page=p.page,this.viewport=p.viewport,this.linkService=p.linkService,this.downloadManager=p.downloadManager,this.imageResourcesPath=p.imageResourcesPath,this.renderForms=p.renderForms,this.svgFactory=p.svgFactory,this.annotationStorage=p.annotationStorage,this.enableScripting=p.enableScripting,this.hasJSActions=p.hasJSActions,this._fieldObjects=p.fieldObjects,this._mouseState=p.mouseState,R&&(this.container=this._createContainer(W)),ne&&(this.quadrilaterals=this._createQuadrilaterals(W))}_createContainer(p=!1){const R=this.data,W=this.page,ne=this.viewport,se=document.createElement("section"),{width:he,height:Y}=C(R.rect),[re,ue,pe,Ce]=ne.viewBox,xe=pe-re,Ne=Ce-ue;se.setAttribute("data-annotation-id",R.id);const He=k.Util.normalizeRect([R.rect[0],W.view[3]-R.rect[1]+W.view[1],R.rect[2],W.view[3]-R.rect[3]+W.view[1]]);if(!p&&R.borderStyle.width>0){se.style.borderWidth=`${R.borderStyle.width}px`;const Ie=R.borderStyle.horizontalCornerRadius,qe=R.borderStyle.verticalCornerRadius;switch(Ie>0||qe>0?se.style.borderRadius=`calc(${Ie}px * var(--scale-factor)) / calc(${qe}px * var(--scale-factor))`:this instanceof P&&(se.style.borderRadius=`calc(${he}px * var(--scale-factor)) / calc(${Y}px * var(--scale-factor))`),R.borderStyle.style){case k.AnnotationBorderStyleType.SOLID:se.style.borderStyle="solid";break;case k.AnnotationBorderStyleType.DASHED:se.style.borderStyle="dashed";break;case k.AnnotationBorderStyleType.BEVELED:(0,k.warn)("Unimplemented border style: beveled");break;case k.AnnotationBorderStyleType.INSET:(0,k.warn)("Unimplemented border style: inset");break;case k.AnnotationBorderStyleType.UNDERLINE:se.style.borderBottomStyle="solid"}const Te=R.borderColor||null;Te?se.style.borderColor=k.Util.makeHexColor(0|Te[0],0|Te[1],0|Te[2]):se.style.borderWidth=0}se.style.left=100*(He[0]-re)/xe+"%",se.style.top=100*(He[1]-ue)/Ne+"%";const{rotation:we}=R;return R.hasOwnCanvas||0===we?(se.style.width=100*he/xe+"%",se.style.height=100*Y/Ne+"%"):this.setRotation(we,se),se}setRotation(p,R=this.container){const[W,ne,se,he]=this.viewport.viewBox,Y=se-W,re=he-ne,{width:ue,height:pe}=C(this.data.rect);let Ce,xe;p%180==0?(Ce=100*ue/Y,xe=100*pe/re):(Ce=100*pe/Y,xe=100*ue/re),R.style.width=`${Ce}%`,R.style.height=`${xe}%`,R.setAttribute("data-main-rotation",(360-p)%360)}get _commonActions(){const p=(R,W,ne)=>{const se=ne.detail[R];ne.target.style[W]=ce.ColorConverters[`${se[0]}_HTML`](se.slice(1))};return(0,k.shadow)(this,"_commonActions",{display:R=>{const W=R.detail.display%2==1;this.container.style.visibility=W?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:W,print:0===R.detail.display||3===R.detail.display})},print:R=>{this.annotationStorage.setValue(this.data.id,{print:R.detail.print})},hidden:R=>{this.container.style.visibility=R.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:R.detail.hidden})},focus:R=>{setTimeout(()=>R.target.focus({preventScroll:!1}),0)},userName:R=>{R.target.title=R.detail.userName},readonly:R=>{R.detail.readonly?R.target.setAttribute("readonly",""):R.target.removeAttribute("readonly")},required:R=>{this._setRequired(R.target,R.detail.required)},bgColor:R=>{p("bgColor","backgroundColor",R)},fillColor:R=>{p("fillColor","backgroundColor",R)},fgColor:R=>{p("fgColor","color",R)},textColor:R=>{p("textColor","color",R)},borderColor:R=>{p("borderColor","borderColor",R)},strokeColor:R=>{p("strokeColor","borderColor",R)},rotation:R=>{const W=R.detail.rotation;this.setRotation(W),this.annotationStorage.setValue(this.data.id,{rotation:W})}})}_dispatchEventFromSandbox(p,R){const W=this._commonActions;for(const ne of Object.keys(R.detail)){const se=p[ne]||W[ne];se&&se(R)}}_setDefaultPropertiesFromJS(p){if(!this.enableScripting)return;const R=this.annotationStorage.getRawValue(this.data.id);if(!R)return;const W=this._commonActions;for(const[ne,se]of Object.entries(R)){const he=W[ne];he&&(he({detail:{[ne]:se},target:p}),delete R[ne])}}_createQuadrilaterals(p=!1){if(!this.data.quadPoints)return null;const R=[],W=this.data.rect;for(const ne of this.data.quadPoints)this.data.rect=[ne[2].x,ne[2].y,ne[1].x,ne[1].y],R.push(this._createContainer(p));return this.data.rect=W,R}_createPopup(p,R){let W=this.container;this.quadrilaterals&&(p=p||this.quadrilaterals,W=this.quadrilaterals[0]),p||((p=document.createElement("div")).className="popupTriggerArea",W.append(p));const se=new N({container:W,trigger:p,color:R.color,titleObj:R.titleObj,modificationDate:R.modificationDate,contentsObj:R.contentsObj,richText:R.richText,hideWrapper:!0}).render();se.style.left="100%",W.append(se)}_renderQuadrilaterals(p){for(const R of this.quadrilaterals)R.className=p;return this.quadrilaterals}render(){(0,k.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(p,R=null){const W=[];if(this._fieldObjects){const ne=this._fieldObjects[p];if(ne)for(const{page:se,id:he,exportValues:Y}of ne){if(-1===se||he===R)continue;const re="string"==typeof Y?Y:null,ue=document.querySelector(`[data-element-id="${he}"]`);!ue||T.has(ue)?W.push({id:he,exportValue:re,domElement:ue}):(0,k.warn)(`_getElementsByName - element not allowed: ${he}`)}return W}for(const ne of document.getElementsByName(p)){const{id:se,exportValue:he}=ne;se!==R&&T.has(ne)&&W.push({id:se,exportValue:he,domElement:ne})}return W}static get platform(){const p=typeof navigator<"u"?navigator.platform:"";return(0,k.shadow)(this,"platform",{isWin:p.includes("Win"),isMac:p.includes("Mac")})}}class D extends U{constructor(p,R=null){super(p,{isRenderable:!0,ignoreBorder:!!R?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=p.data.isTooltipOnly}render(){const{data:p,linkService:R}=this,W=document.createElement("a");W.setAttribute("data-element-id",p.id);let ne=!1;return p.url?(R.addLinkAttributes(W,p.url,p.newWindow),ne=!0):p.action?(this._bindNamedAction(W,p.action),ne=!0):p.dest?(this._bindLink(W,p.dest),ne=!0):(p.actions&&(p.actions.Action||p.actions["Mouse Up"]||p.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(W,p),ne=!0),p.resetForm?(this._bindResetFormAction(W,p.resetForm),ne=!0):this.isTooltipOnly&&!ne&&(this._bindLink(W,""),ne=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((se,he)=>{const Y=0===he?W:W.cloneNode();return se.append(Y),se}):(this.container.className="linkAnnotation",ne&&this.container.append(W),this.container)}_bindLink(p,R){p.href=this.linkService.getDestinationHash(R),p.onclick=()=>(R&&this.linkService.goToDestination(R),!1),(R||""===R)&&(p.className="internalLink")}_bindNamedAction(p,R){p.href=this.linkService.getAnchorUrl(""),p.onclick=()=>(this.linkService.executeNamedAction(R),!1),p.className="internalLink"}_bindJSAction(p,R){p.href=this.linkService.getAnchorUrl("");const W=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ne of Object.keys(R.actions)){const se=W.get(ne);se&&(p[se]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R.id,name:ne}}),!1))}p.onclick||(p.onclick=()=>!1),p.className="internalLink"}_bindResetFormAction(p,R){const W=p.onclick;if(W||(p.href=this.linkService.getAnchorUrl("")),p.className="internalLink",!this._fieldObjects)return(0,k.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(W||(p.onclick=()=>!1));p.onclick=()=>{W&&W();const{fields:ne,refs:se,include:he}=R,Y=[];if(0!==ne.length||0!==se.length){const pe=new Set(se);for(const Ce of ne){const xe=this._fieldObjects[Ce]||[];for(const{id:Ne}of xe)pe.add(Ne)}for(const Ce of Object.values(this._fieldObjects))for(const xe of Ce)pe.has(xe.id)===he&&Y.push(xe)}else for(const pe of Object.values(this._fieldObjects))Y.push(...pe);const re=this.annotationStorage,ue=[];for(const pe of Y){const{id:Ce}=pe;switch(ue.push(Ce),pe.type){case"text":case"combobox":case"listbox":re.setValue(Ce,{value:pe.defaultValue||""});break;case"checkbox":case"radiobutton":re.setValue(Ce,{value:pe.defaultValue===pe.exportValues});break;default:continue}const xe=document.querySelector(`[data-element-id="${Ce}"]`);xe&&(T.has(xe)?xe.dispatchEvent(new Event("resetform")):(0,k.warn)(`_bindResetFormAction - element not allowed: ${Ce}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ue,name:"ResetForm"}}),!1}}}class E extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str)})}render(){this.container.className="textAnnotation";const p=document.createElement("img");return p.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",p.alt="[{{type}} Annotation]",p.dataset.l10nId="text_annotation_type",p.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(p,this.data),this.container.append(p),this.container}}class w extends U{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(p){const{isWin:R,isMac:W}=U.platform;return R&&p.ctrlKey||W&&p.metaKey}_setEventListener(p,R,W,ne){R.includes("mouse")?p.addEventListener(R,se=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:ne(se),shift:se.shiftKey,modifier:this._getKeyModifier(se)}})}):p.addEventListener(R,se=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:ne(se)}})})}_setEventListeners(p,R,W){for(const[ne,se]of R)("Action"===se||this.data.actions?.[se])&&this._setEventListener(p,ne,se,W)}_setBackgroundColor(p){const R=this.data.backgroundColor||null;p.style.backgroundColor=null===R?"transparent":k.Util.makeHexColor(R[0],R[1],R[2])}_setTextStyle(p){const{fontColor:W}=this.data.defaultAppearanceData,ne=this.data.defaultAppearanceData.fontSize||9,se=p.style;let he;if(this.data.multiLine){const Y=Math.abs(this.data.rect[3]-this.data.rect[1]),re=Math.round(Y/(k.LINE_FACTOR*ne))||1;he=Math.min(ne,Math.round(Y/re/k.LINE_FACTOR))}else{const Y=Math.abs(this.data.rect[3]-this.data.rect[1]);he=Math.min(ne,Math.round(Y/k.LINE_FACTOR))}se.fontSize=`calc(${he}px * var(--scale-factor))`,se.color=k.Util.makeHexColor(W[0],W[1],W[2]),null!==this.data.textAlignment&&(se.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(p,R){R?p.setAttribute("required",!0):p.removeAttribute("required"),p.setAttribute("aria-required",R)}}class V extends w{constructor(p){super(p,{isRenderable:p.renderForms||!p.data.hasAppearance&&!!p.data.fieldValue})}setPropertyOnSiblings(p,R,W,ne){const se=this.annotationStorage;for(const he of this._getElementsByName(p.name,p.id))he.domElement&&(he.domElement[R]=W),se.setValue(he.id,{[ne]:W})}render(){const p=this.annotationStorage,R=this.data.id;this.container.className="textWidgetAnnotation";let W=null;if(this.renderForms){const ne=p.getValue(R,{value:this.data.fieldValue});let se=ne.formattedValue||ne.value||"";const he=p.getValue(R,{charLimit:this.data.maxLen}).charLimit;he&&se.length>he&&(se=se.slice(0,he));const Y={userValue:se,formattedValue:null,valueOnFocus:""};this.data.multiLine?(W=document.createElement("textarea"),W.textContent=se,this.data.doNotScroll&&(W.style.overflowY="hidden")):(W=document.createElement("input"),W.type="text",W.setAttribute("value",se),this.data.doNotScroll&&(W.style.overflowX="hidden")),T.add(W),W.setAttribute("data-element-id",R),W.disabled=this.data.readOnly,W.name=this.data.fieldName,W.tabIndex=Q,this._setRequired(W,this.data.required),he&&(W.maxLength=he),W.addEventListener("input",ue=>{p.setValue(R,{value:ue.target.value}),this.setPropertyOnSiblings(W,"value",ue.target.value,"value")}),W.addEventListener("resetform",ue=>{W.value=Y.userValue=this.data.defaultFieldValue??"",Y.formattedValue=null});let re=ue=>{const{formattedValue:pe}=Y;null!=pe&&(ue.target.value=pe),ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){W.addEventListener("focus",pe=>{Y.userValue&&(pe.target.value=Y.userValue),Y.valueOnFocus=pe.target.value}),W.addEventListener("updatefromsandbox",pe=>{this._dispatchEventFromSandbox({value(xe){Y.userValue=xe.detail.value??"",p.setValue(R,{value:Y.userValue.toString()}),xe.target.value=Y.userValue},formattedValue(xe){const{formattedValue:Ne}=xe.detail;Y.formattedValue=Ne,null!=Ne&&xe.target!==document.activeElement&&(xe.target.value=Ne),p.setValue(R,{formattedValue:Ne})},selRange(xe){xe.target.setSelectionRange(...xe.detail.selRange)},charLimit:xe=>{const{charLimit:Ne}=xe.detail,{target:He}=xe;if(0===Ne)return void He.removeAttribute("maxLength");He.setAttribute("maxLength",Ne);let we=Y.userValue;!we||we.length<=Ne||(we=we.slice(0,Ne),He.value=Y.userValue=we,p.setValue(R,{value:we}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:we,willCommit:!0,commitKey:1,selStart:He.selectionStart,selEnd:He.selectionEnd}}))}},pe)}),W.addEventListener("keydown",pe=>{let Ce=-1;if("Escape"===pe.key?Ce=0:"Enter"===pe.key?Ce=2:"Tab"===pe.key&&(Ce=3),-1===Ce)return;const{value:xe}=pe.target;Y.valueOnFocus!==xe&&(Y.userValue=xe,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:xe,willCommit:!0,commitKey:Ce,selStart:pe.target.selectionStart,selEnd:pe.target.selectionEnd}}))});const ue=re;re=null,W.addEventListener("blur",pe=>{const{value:Ce}=pe.target;Y.userValue=Ce,this._mouseState.isDown&&Y.valueOnFocus!==Ce&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Ce,willCommit:!0,commitKey:1,selStart:pe.target.selectionStart,selEnd:pe.target.selectionEnd}}),ue(pe)}),this.data.actions?.Keystroke&&W.addEventListener("beforeinput",pe=>{const{data:Ce,target:xe}=pe,{value:Ne,selectionStart:He,selectionEnd:we}=xe;let Ie=He,qe=we;switch(pe.inputType){case"deleteWordBackward":{const Te=Ne.substring(0,He).match(/\w*[^\w]*$/);Te&&(Ie-=Te[0].length);break}case"deleteWordForward":{const Te=Ne.substring(He).match(/^[^\w]*\w*/);Te&&(qe+=Te[0].length);break}case"deleteContentBackward":He===we&&(Ie-=1);break;case"deleteContentForward":He===we&&(qe+=1)}pe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Ne,change:Ce||"",willCommit:!1,selStart:Ie,selEnd:qe}})}),this._setEventListeners(W,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pe=>pe.target.value)}if(re&&W.addEventListener("blur",re),this.data.comb){const pe=(this.data.rect[2]-this.data.rect[0])/he;W.classList.add("comb"),W.style.letterSpacing=`calc(${pe}px * var(--scale-factor) - 1ch)`}}else W=document.createElement("div"),W.textContent=this.data.fieldValue,W.style.verticalAlign="middle",W.style.display="table-cell";return this._setTextStyle(W),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class L extends w{constructor(p){super(p,{isRenderable:p.renderForms})}render(){const p=this.annotationStorage,R=this.data,W=R.id;let ne=p.getValue(W,{value:R.exportValue===R.fieldValue}).value;"string"==typeof ne&&(ne="Off"!==ne,p.setValue(W,{value:ne})),this.container.className="buttonWidgetAnnotation checkBox";const se=document.createElement("input");return T.add(se),se.setAttribute("data-element-id",W),se.disabled=R.readOnly,this._setRequired(se,this.data.required),se.type="checkbox",se.name=R.fieldName,ne&&se.setAttribute("checked",!0),se.setAttribute("exportValue",R.exportValue),se.tabIndex=Q,se.addEventListener("change",he=>{const{name:Y,checked:re}=he.target;for(const ue of this._getElementsByName(Y,W)){const pe=re&&ue.exportValue===R.exportValue;ue.domElement&&(ue.domElement.checked=pe),p.setValue(ue.id,{value:pe})}p.setValue(W,{value:re})}),se.addEventListener("resetform",he=>{he.target.checked=(R.defaultFieldValue||"Off")===R.exportValue}),this.enableScripting&&this.hasJSActions&&(se.addEventListener("updatefromsandbox",he=>{this._dispatchEventFromSandbox({value(re){re.target.checked="Off"!==re.detail.value,p.setValue(W,{value:re.target.checked})}},he)}),this._setEventListeners(se,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],he=>he.target.checked)),this._setBackgroundColor(se),this._setDefaultPropertiesFromJS(se),this.container.append(se),this.container}}class P extends w{constructor(p){super(p,{isRenderable:p.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const p=this.annotationStorage,R=this.data,W=R.id;let ne=p.getValue(W,{value:R.fieldValue===R.buttonValue}).value;"string"==typeof ne&&(ne=ne!==R.buttonValue,p.setValue(W,{value:ne}));const se=document.createElement("input");if(T.add(se),se.setAttribute("data-element-id",W),se.disabled=R.readOnly,this._setRequired(se,this.data.required),se.type="radio",se.name=R.fieldName,ne&&se.setAttribute("checked",!0),se.tabIndex=Q,se.addEventListener("change",he=>{const{name:Y,checked:re}=he.target;for(const ue of this._getElementsByName(Y,W))p.setValue(ue.id,{value:!1});p.setValue(W,{value:re})}),se.addEventListener("resetform",he=>{const Y=R.defaultFieldValue;he.target.checked=null!=Y&&Y===R.buttonValue}),this.enableScripting&&this.hasJSActions){const he=R.buttonValue;se.addEventListener("updatefromsandbox",Y=>{this._dispatchEventFromSandbox({value:ue=>{const pe=he===ue.detail.value;for(const Ce of this._getElementsByName(ue.target.name)){const xe=pe&&Ce.id===W;Ce.domElement&&(Ce.domElement.checked=xe),p.setValue(Ce.id,{value:xe})}}},Y)}),this._setEventListeners(se,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)}return this._setBackgroundColor(se),this._setDefaultPropertiesFromJS(se),this.container.append(se),this.container}}class M extends D{constructor(p){super(p,{ignoreBorder:p.data.hasAppearance})}render(){const p=super.render();p.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(p.title=this.data.alternativeText);const R=p.lastChild;return this.enableScripting&&this.hasJSActions&&R&&(this._setDefaultPropertiesFromJS(R),R.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({},W)})),p}}class g extends w{constructor(p){super(p,{isRenderable:p.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const p=this.annotationStorage,R=this.data.id,W=p.getValue(R,{value:this.data.fieldValue}),ne=document.createElement("select");T.add(ne),ne.setAttribute("data-element-id",R),ne.disabled=this.data.readOnly,this._setRequired(ne,this.data.required),ne.name=this.data.fieldName,ne.tabIndex=Q;let se=this.data.combo&&this.data.options.length>0;this.data.combo||(ne.size=this.data.options.length,this.data.multiSelect&&(ne.multiple=!0)),ne.addEventListener("resetform",ue=>{const pe=this.data.defaultFieldValue;for(const Ce of ne.options)Ce.selected=Ce.value===pe});for(const ue of this.data.options){const pe=document.createElement("option");pe.textContent=ue.displayValue,pe.value=ue.exportValue,W.value.includes(ue.exportValue)&&(pe.setAttribute("selected",!0),se=!1),ne.append(pe)}let he=null;if(se){const ue=document.createElement("option");ue.value=" ",ue.setAttribute("hidden",!0),ue.setAttribute("selected",!0),ne.prepend(ue),he=()=>{ue.remove(),ne.removeEventListener("input",he),he=null},ne.addEventListener("input",he)}const Y=(ue,pe)=>{const Ce=pe?"value":"textContent",xe=ue.target.options;return ue.target.multiple?Array.prototype.filter.call(xe,Ne=>Ne.selected).map(Ne=>Ne[Ce]):-1===xe.selectedIndex?null:xe[xe.selectedIndex][Ce]},re=ue=>Array.prototype.map.call(ue.target.options,Ce=>({displayValue:Ce.textContent,exportValue:Ce.value}));return this.enableScripting&&this.hasJSActions?(ne.addEventListener("updatefromsandbox",ue=>{this._dispatchEventFromSandbox({value(Ce){he?.();const xe=Ce.detail.value,Ne=new Set(Array.isArray(xe)?xe:[xe]);for(const He of ne.options)He.selected=Ne.has(He.value);p.setValue(R,{value:Y(Ce,!0)})},multipleSelection(Ce){ne.multiple=!0},remove(Ce){const xe=ne.options,Ne=Ce.detail.remove;xe[Ne].selected=!1,ne.remove(Ne),xe.length>0&&-1===Array.prototype.findIndex.call(xe,we=>we.selected)&&(xe[0].selected=!0),p.setValue(R,{value:Y(Ce,!0),items:re(Ce)})},clear(Ce){for(;0!==ne.length;)ne.remove(0);p.setValue(R,{value:null,items:[]})},insert(Ce){const{index:xe,displayValue:Ne,exportValue:He}=Ce.detail.insert,we=ne.children[xe],Ie=document.createElement("option");Ie.textContent=Ne,Ie.value=He,we?we.before(Ie):ne.append(Ie),p.setValue(R,{value:Y(Ce,!0),items:re(Ce)})},items(Ce){const{items:xe}=Ce.detail;for(;0!==ne.length;)ne.remove(0);for(const Ne of xe){const{displayValue:He,exportValue:we}=Ne,Ie=document.createElement("option");Ie.textContent=He,Ie.value=we,ne.append(Ie)}ne.options.length>0&&(ne.options[0].selected=!0),p.setValue(R,{value:Y(Ce,!0),items:re(Ce)})},indices(Ce){const xe=new Set(Ce.detail.indices);for(const Ne of Ce.target.options)Ne.selected=xe.has(Ne.index);p.setValue(R,{value:Y(Ce,!0)})},editable(Ce){Ce.target.disabled=!Ce.detail.editable}},ue)}),ne.addEventListener("input",ue=>{const pe=Y(ue,!0),Ce=Y(ue,!1);p.setValue(R,{value:pe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:R,name:"Keystroke",value:Ce,changeEx:pe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ue=>ue.target.checked)):ne.addEventListener("input",function(ue){p.setValue(R,{value:Y(ue,!0)})}),this.data.combo&&this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class y extends U{constructor(p){super(p,{isRenderable:!!(p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const W=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===W.length)return this.container;const ne=new N({container:this.container,trigger:Array.from(W),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),se=this.page,he=k.Util.normalizeRect([this.data.parentRect[0],se.view[3]-this.data.parentRect[1]+se.view[1],this.data.parentRect[2],se.view[3]-this.data.parentRect[3]+se.view[1]]),Y=he[0]+this.data.parentRect[2]-this.data.parentRect[0],re=he[1],[ue,pe,Ce,xe]=this.viewport.viewBox,He=xe-pe;return this.container.style.left=100*(Y-ue)/(Ce-ue)+"%",this.container.style.top=100*(re-pe)/He+"%",this.container.append(ne.render()),this.container}}class N{constructor(p){this.container=p.container,this.trigger=p.trigger,this.color=p.color,this.titleObj=p.titleObj,this.modificationDate=p.modificationDate,this.contentsObj=p.contentsObj,this.richText=p.richText,this.hideWrapper=p.hideWrapper||!1,this.pinned=!1}render(){const R=document.createElement("div");R.className="popupWrapper",this.hideElement=this.hideWrapper?R:this.container,this.hideElement.hidden=!0;const W=document.createElement("div");W.className="popup";const ne=this.color;ne&&(W.style.backgroundColor=k.Util.makeHexColor(0|.7*(255-ne[0])+ne[0],0|.7*(255-ne[1])+ne[1],0|.7*(255-ne[2])+ne[2]));const se=document.createElement("h1");se.dir=this.titleObj.dir,se.textContent=this.titleObj.str,W.append(se);const he=q.PDFDateString.toDateObject(this.modificationDate);if(he){const Y=document.createElement("span");Y.className="popupDate",Y.textContent="{{date}}, {{time}}",Y.dataset.l10nId="annotation_date_string",Y.dataset.l10nArgs=JSON.stringify({date:he.toLocaleDateString(),time:he.toLocaleTimeString()}),W.append(Y)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Y=this._formatContents(this.contentsObj);W.append(Y)}else be.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:W}),W.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Y of this.trigger)Y.addEventListener("click",this._toggle.bind(this)),Y.addEventListener("mouseover",this._show.bind(this,!1)),Y.addEventListener("mouseout",this._hide.bind(this,!1));return W.addEventListener("click",this._hide.bind(this,!0)),R.append(W),R}_formatContents({str:p,dir:R}){const W=document.createElement("p");W.className="popupContent",W.dir=R;const ne=p.split(/(?:\r\n?|\n)/);for(let se=0,he=ne.length;se<he;++se)W.append(document.createTextNode(ne[se])),se<he-1&&W.append(document.createElement("br"));return W}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(p=!1){p&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(p=!0){p&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ee extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0}),this.textContent=p.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const p=document.createElement("div");p.className="annotationTextContent",p.setAttribute("role","comment");for(const R of this.textContent){const W=document.createElement("span");W.textContent=R,p.append(W)}this.container.append(p)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ie extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const p=this.data,{width:R,height:W}=C(p.rect),ne=this.svgFactory.create(R,W,!0),se=this.svgFactory.createElement("svg:line");return se.setAttribute("x1",p.rect[2]-p.lineCoordinates[0]),se.setAttribute("y1",p.rect[3]-p.lineCoordinates[1]),se.setAttribute("x2",p.rect[2]-p.lineCoordinates[2]),se.setAttribute("y2",p.rect[3]-p.lineCoordinates[3]),se.setAttribute("stroke-width",p.borderStyle.width||1),se.setAttribute("stroke","transparent"),se.setAttribute("fill","transparent"),ne.append(se),this.container.append(ne),this._createPopup(se,p),this.container}}class fe extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const p=this.data,{width:R,height:W}=C(p.rect),ne=this.svgFactory.create(R,W,!0),se=p.borderStyle.width,he=this.svgFactory.createElement("svg:rect");return he.setAttribute("x",se/2),he.setAttribute("y",se/2),he.setAttribute("width",R-se),he.setAttribute("height",W-se),he.setAttribute("stroke-width",se||1),he.setAttribute("stroke","transparent"),he.setAttribute("fill","transparent"),ne.append(he),this.container.append(ne),this._createPopup(he,p),this.container}}class de extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const p=this.data,{width:R,height:W}=C(p.rect),ne=this.svgFactory.create(R,W,!0),se=p.borderStyle.width,he=this.svgFactory.createElement("svg:ellipse");return he.setAttribute("cx",R/2),he.setAttribute("cy",W/2),he.setAttribute("rx",R/2-se/2),he.setAttribute("ry",W/2-se/2),he.setAttribute("stroke-width",se||1),he.setAttribute("stroke","transparent"),he.setAttribute("fill","transparent"),ne.append(he),this.container.append(ne),this._createPopup(he,p),this.container}}class Oe extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const p=this.data,{width:R,height:W}=C(p.rect),ne=this.svgFactory.create(R,W,!0);let se=[];for(const Y of p.vertices)se.push(Y.x-p.rect[0]+","+(p.rect[3]-Y.y));se=se.join(" ");const he=this.svgFactory.createElement(this.svgElementName);return he.setAttribute("points",se),he.setAttribute("stroke-width",p.borderStyle.width||1),he.setAttribute("stroke","transparent"),he.setAttribute("fill","transparent"),ne.append(he),this.container.append(ne),this._createPopup(he,p),this.container}}class Me extends Oe{constructor(p){super(p),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class G extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const p=this.data,{width:R,height:W}=C(p.rect),ne=this.svgFactory.create(R,W,!0);for(const se of p.inkLists){let he=[];for(const re of se)he.push(`${re.x-p.rect[0]},${p.rect[3]-re.y}`);he=he.join(" ");const Y=this.svgFactory.createElement(this.svgElementName);Y.setAttribute("points",he),Y.setAttribute("stroke-width",p.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),this._createPopup(Y,p),ne.append(Y)}return this.container.append(ne),this.container}}class oe extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Z extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class O extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class _ extends U{constructor(p){super(p,{isRenderable:!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class S extends U{constructor(p){super(p,{isRenderable:!0});const{filename:R,content:W}=this.data.file;this.filename=(0,q.getFilenameFromUrl)(R),this.content=W,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:R,content:W})}render(){this.container.className="fileAttachmentAnnotation";const p=document.createElement("div");return p.className="popupTriggerArea",p.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(p,this.data),this.container.append(p),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class z{static#e(p,R,W,ne){const se=p.firstChild||p;se.id=`${q.AnnotationPrefix}${R}`,W.append(p),ne?.moveElementInDOM(W,p,se,!1)}static render(p){const{annotations:R,div:W,viewport:ne,accessibilityManager:se}=p;this.#t(W,ne);let he=0;for(const Y of R){if(Y.annotationType!==k.AnnotationType.POPUP){const{width:ue,height:pe}=C(Y.rect);if(ue<=0||pe<=0)continue}const re=A.create({data:Y,layer:W,page:p.page,viewport:ne,linkService:p.linkService,downloadManager:p.downloadManager,imageResourcesPath:p.imageResourcesPath||"",renderForms:!1!==p.renderForms,svgFactory:new q.DOMSVGFactory,annotationStorage:p.annotationStorage||new ve.AnnotationStorage,enableScripting:p.enableScripting,hasJSActions:p.hasJSActions,fieldObjects:p.fieldObjects,mouseState:p.mouseState||{isDown:!1}});if(re.isRenderable){const ue=re.render();if(Y.hidden&&(ue.style.visibility="hidden"),Array.isArray(ue))for(const pe of ue)pe.style.zIndex=he++,z.#e(pe,Y.id,W,se);else ue.style.zIndex=he++,re instanceof y?W.prepend(ue):z.#e(ue,Y.id,W,se)}}this.#n(W,p.annotationCanvasMap)}static update(p){const{annotationCanvasMap:R,div:W,viewport:ne}=p;this.#t(W,ne),this.#n(W,R),W.hidden=!1}static#t(p,{width:R,height:W,rotation:ne}){const{style:se}=p,he=ne%180!=0,Y=Math.floor(R)+"px",re=Math.floor(W)+"px";se.width=he?re:Y,se.height=he?Y:re,p.setAttribute("data-main-rotation",ne)}static#n(p,R){if(R){for(const[W,ne]of R){const se=p.querySelector(`[data-annotation-id="${W}"]`);if(!se)continue;const{firstChild:he}=se;he?"CANVAS"===he.nodeName?he.replaceWith(ne):he.before(ne):se.append(ne)}R.clear()}}}I.AnnotationLayer=z},(Pe,I)=>{function ae(q){return Math.floor(255*Math.max(0,Math.min(1,q))).toString(16).padStart(2,"0")}Object.defineProperty(I,"__esModule",{value:!0}),I.ColorConverters=void 0,I.ColorConverters=class k{static CMYK_G([ve,ce,be,Q]){return["G",1-Math.min(1,.3*ve+.59*be+.11*ce+Q)]}static G_CMYK([ve]){return["CMYK",0,0,0,1-ve]}static G_RGB([ve]){return["RGB",ve,ve,ve]}static G_HTML([ve]){const ce=ae(ve);return`#${ce}${ce}${ce}`}static RGB_G([ve,ce,be]){return["G",.3*ve+.59*ce+.11*be]}static RGB_HTML([ve,ce,be]){return`#${ae(ve)}${ae(ce)}${ae(be)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ve,ce,be,Q]){return["RGB",1-Math.min(1,ve+Q),1-Math.min(1,be+Q),1-Math.min(1,ce+Q)]}static CMYK_HTML(ve){const ce=this.CMYK_RGB(ve).slice(1);return this.RGB_HTML(ce)}static RGB_CMYK([ve,ce,be]){const Q=1-ve,v=1-ce,T=1-be;return["CMYK",Q,v,T,Math.min(Q,v,T)]}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XfaLayer=void 0;var k=ae(20);I.XfaLayer=class q{static setupStorage(ce,be,Q,v,T){const C=v.getValue(be,{value:null});switch(Q.name){case"textarea":if(null!==C.value&&(ce.textContent=C.value),"print"===T)break;ce.addEventListener("input",A=>{v.setValue(be,{value:A.target.value})});break;case"input":if("radio"===Q.attributes.type||"checkbox"===Q.attributes.type){if(C.value===Q.attributes.xfaOn?ce.setAttribute("checked",!0):C.value===Q.attributes.xfaOff&&ce.removeAttribute("checked"),"print"===T)break;ce.addEventListener("change",A=>{v.setValue(be,{value:A.target.getAttribute(A.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==C.value&&ce.setAttribute("value",C.value),"print"===T)break;ce.addEventListener("input",A=>{v.setValue(be,{value:A.target.value})})}break;case"select":if(null!==C.value)for(const A of Q.children)A.attributes.value===C.value&&(A.attributes.selected=!0);ce.addEventListener("input",A=>{const U=A.target.options;v.setValue(be,{value:-1===U.selectedIndex?"":U[U.selectedIndex].value})})}}static setAttributes({html:ce,element:be,storage:Q=null,intent:v,linkService:T}){const{attributes:C}=be,A=ce instanceof HTMLAnchorElement;"radio"===C.type&&(C.name=`${C.name}-${v}`);for(const[U,D]of Object.entries(C))if(null!=D)switch(U){case"class":D.length&&ce.setAttribute(U,D.join(" "));break;case"dataId":break;case"id":ce.setAttribute("data-element-id",D);break;case"style":Object.assign(ce.style,D);break;case"textContent":ce.textContent=D;break;default:(!A||"href"!==U&&"newWindow"!==U)&&ce.setAttribute(U,D)}A&&T.addLinkAttributes(ce,C.href,C.newWindow),Q&&C.dataId&&this.setupStorage(ce,C.dataId,be,Q)}static render(ce){const be=ce.annotationStorage,Q=ce.linkService,v=ce.xfaHtml,T=ce.intent||"display",C=document.createElement(v.name);v.attributes&&this.setAttributes({html:C,element:v,intent:T,linkService:Q});const A=[[v,-1,C]],U=ce.div;if(U.append(C),ce.viewport){const E=`matrix(${ce.viewport.transform.join(",")})`;U.style.transform=E}"richText"!==T&&U.setAttribute("class","xfaLayer xfaFont");const D=[];for(;A.length>0;){const[E,w,V]=A.at(-1);if(w+1===E.children.length){A.pop();continue}const L=E.children[++A.at(-1)[1]];if(null===L)continue;const{name:P}=L;if("#text"===P){const g=document.createTextNode(L.value);D.push(g),V.append(g);continue}let M;if(M=L?.attributes?.xmlns?document.createElementNS(L.attributes.xmlns,P):document.createElement(P),V.append(M),L.attributes&&this.setAttributes({html:M,element:L,storage:be,intent:T,linkService:Q}),L.children&&L.children.length>0)A.push([L,-1,M]);else if(L.value){const g=document.createTextNode(L.value);k.XfaText.shouldBuildText(P)&&D.push(g),M.append(g)}}for(const E of U.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:D}}static update(ce){const be=`matrix(${ce.viewport.transform.join(",")})`;ce.div.style.transform=be,ce.div.hidden=!1}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.TextLayerRenderTask=void 0,I.renderTextLayer=function L(P){const M=new V({textContent:P.textContent,textContentStream:P.textContentStream,container:P.container,viewport:P.viewport,textDivs:P.textDivs,textContentItemsStr:P.textContentItemsStr,enhanceTextSelection:P.enhanceTextSelection});return M._render(P.timeout),M};var k=ae(1),q=ae(8);const Q=new Map,v=/^\s+$/g;function C(P,M,g,y){const N=document.createElement("span"),ee=P._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==M.str,hasEOL:M.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==M.str,hasEOL:M.hasEOL,fontSize:0};P._textDivs.push(N);const ie=k.Util.transform(P._viewport.transform,M.transform);let fe=Math.atan2(ie[1],ie[0]);const de=g[M.fontName];de.vertical&&(fe+=Math.PI/2);const Oe=Math.hypot(ie[2],ie[3]),Me=Oe*function T(P,M){const g=Q.get(P);if(g)return g;M.save(),M.font=`30px ${P}`;const y=M.measureText("");let N=y.fontBoundingBoxAscent,ee=Math.abs(y.fontBoundingBoxDescent);if(N){M.restore();const fe=N/(N+ee);return Q.set(P,fe),fe}M.strokeStyle="red",M.clearRect(0,0,30,30),M.strokeText("g",0,0);let ie=M.getImageData(0,0,30,30).data;ee=0;for(let fe=ie.length-1-3;fe>=0;fe-=4)if(ie[fe]>0){ee=Math.ceil(fe/4/30);break}M.clearRect(0,0,30,30),M.strokeText("A",0,30),ie=M.getImageData(0,0,30,30).data,N=0;for(let fe=0,de=ie.length;fe<de;fe+=4)if(ie[fe]>0){N=30-Math.floor(fe/4/30);break}if(M.restore(),N){const fe=N/(N+ee);return Q.set(P,fe),fe}return Q.set(P,.8),.8}(de.fontFamily,y);let G,te;0===fe?(G=ie[4],te=ie[5]-Me):(G=ie[4]+Me*Math.sin(fe),te=ie[5]-Me*Math.cos(fe)),N.style.left=`${G}px`,N.style.top=`${te}px`,N.style.fontSize=`${Oe}px`,N.style.fontFamily=de.fontFamily,ee.fontSize=Oe,N.setAttribute("role","presentation"),N.textContent=M.str,N.dir=M.dir,P._fontInspectorEnabled&&(N.dataset.fontName=M.fontName),0!==fe&&(ee.angle=fe*(180/Math.PI));let oe=!1;if(M.str.length>1||P._enhanceTextSelection&&v.test(M.str))oe=!0;else if(" "!==M.str&&M.transform[0]!==M.transform[3]){const J=Math.abs(M.transform[0]),Z=Math.abs(M.transform[3]);J!==Z&&Math.max(J,Z)/Math.min(J,Z)>1.5&&(oe=!0)}if(oe&&(ee.canvasWidth=de.vertical?M.height*P._viewport.scale:M.width*P._viewport.scale),P._textDivProperties.set(N,ee),P._textContentStream&&P._layoutText(N),P._enhanceTextSelection&&ee.hasText){let J=1,Z=0;0!==fe&&(J=Math.cos(fe),Z=Math.sin(fe));const O=(de.vertical?M.height:M.width)*P._viewport.scale,_=Oe;let S,z;0!==fe?(S=[J,Z,-Z,J,G,te],z=k.Util.getAxialAlignedBoundingBox([0,0,O,_],S)):z=[G,te,G+O,te+_],P._bounds.push({left:z[0],top:z[1],right:z[2],bottom:z[3],div:N,size:[O,_],m:S})}}function A(P){if(P._canceled)return;const M=P._textDivs,g=P._capability,y=M.length;if(y>1e5)return P._renderingDone=!0,void g.resolve();if(!P._textContentStream)for(let N=0;N<y;N++)P._layoutText(M[N]);P._renderingDone=!0,g.resolve()}function U(P,M,g){let y=0;for(let N=0;N<g;N++){const ee=P[M++];ee>0&&(y=y?Math.min(ee,y):ee)}return y}function w(P,M){M.sort(function(N,ee){return N.x1-ee.x1||N.index-ee.index});const y=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const N of M){let ee=0;for(;ee<y.length&&y[ee].end<=N.y1;)ee++;let ie=y.length-1;for(;ie>=0&&y[ie].start>=N.y2;)ie--;let fe,de,Oe,Me,G=-1/0;for(Oe=ee;Oe<=ie;Oe++){let J;fe=y[Oe],de=fe.boundary,J=de.x2>N.x1?de.index>N.index?de.x1New:N.x1:void 0===de.x2New?(de.x2+N.x1)/2:de.x2New,J>G&&(G=J)}for(N.x1New=G,Oe=ee;Oe<=ie;Oe++)fe=y[Oe],de=fe.boundary,void 0===de.x2New?de.x2>N.x1?de.index>N.index&&(de.x2New=de.x2):de.x2New=G:de.x2New>G&&(de.x2New=Math.max(G,de.x2));const te=[];let oe=null;for(Oe=ee;Oe<=ie;Oe++){fe=y[Oe],de=fe.boundary;const J=de.x2>N.x2?de:N;oe===J?te.at(-1).end=fe.end:(te.push({start:fe.start,end:fe.end,boundary:J}),oe=J)}for(y[ee].start<N.y1&&(te[0].start=N.y1,te.unshift({start:y[ee].start,end:N.y1,boundary:y[ee].boundary})),N.y2<y[ie].end&&(te.at(-1).end=N.y2,te.push({start:N.y2,end:y[ie].end,boundary:y[ie].boundary})),Oe=ee;Oe<=ie;Oe++){if(fe=y[Oe],de=fe.boundary,void 0!==de.x2New)continue;let J=!1;for(Me=ee-1;!J&&Me>=0&&y[Me].start>=de.y1;Me--)J=y[Me].boundary===de;for(Me=ie+1;!J&&Me<y.length&&y[Me].end<=de.y2;Me++)J=y[Me].boundary===de;for(Me=0;!J&&Me<te.length;Me++)J=te[Me].boundary===de;J||(de.x2New=G)}Array.prototype.splice.apply(y,[ee,ie-ee+1,...te])}for(const N of y){const ee=N.boundary;void 0===ee.x2New&&(ee.x2New=Math.max(P,ee.x2))}}class V{constructor({textContent:M,textContentStream:g,container:y,viewport:N,textDivs:ee,textContentItemsStr:ie,enhanceTextSelection:fe}){fe&&(0,q.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=M,this._textContentStream=g,this._container=y,this._document=y.ownerDocument,this._viewport=N,this._textDivs=ee||[],this._textContentItemsStr=ie||[],this._enhanceTextSelection=!!fe,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,k.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new k.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(M,g){for(let y=0,N=M.length;y<N;y++)if(void 0!==M[y].str)this._textContentItemsStr.push(M[y].str),C(this,M[y],g,this._layoutTextCtx);else if("beginMarkedContentProps"===M[y].type||"beginMarkedContent"===M[y].type){const ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==M[y].id&&this._container.setAttribute("id",`${M[y].id}`),ee.append(this._container)}else"endMarkedContent"===M[y].type&&(this._container=this._container.parentNode)}_layoutText(M){const g=this._textDivProperties.get(M);let y="";if(0!==g.canvasWidth&&g.hasText){const{fontFamily:N}=M.style,{fontSize:ee}=g;(ee!==this._layoutTextLastFontSize||N!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${ee*this._devicePixelRatio}px ${N}`,this._layoutTextLastFontSize=ee,this._layoutTextLastFontFamily=N);const{width:ie}=this._layoutTextCtx.measureText(M.textContent);if(ie>0){const fe=this._devicePixelRatio*g.canvasWidth/ie;this._enhanceTextSelection&&(g.scale=fe),y=`scaleX(${fe})`}}if(0!==g.angle&&(y=`rotate(${g.angle}deg) ${y}`),y.length>0&&(this._enhanceTextSelection&&(g.originalTransform=y),M.style.transform=y),g.hasText&&this._container.append(M),g.hasEOL){const N=document.createElement("br");N.setAttribute("role","presentation"),this._container.append(N)}}_render(M=0){const g=(0,k.createPromiseCapability)();let y=Object.create(null);const N=this._document.createElement("canvas");if(N.height=N.width=30,this._layoutTextCtx=N.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const ee=()=>{this._reader.read().then(({value:ie,done:fe})=>{fe?g.resolve():(Object.assign(y,ie.styles),this._processItems(ie.items,y),ee())},g.reject)};this._reader=this._textContentStream.getReader(),ee()}}g.promise.then(()=>{y=null,M?this._renderTimer=setTimeout(()=>{A(this),this._renderTimer=null},M):A(this)},this._capability.reject)}expandTextDivs(M=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function D(P){const M=P._bounds,g=P._viewport,y=function E(P,M,g){const y=g.map(function(ee,ie){return{x1:ee.left,y1:ee.top,x2:ee.right,y2:ee.bottom,index:ie,x1New:void 0,x2New:void 0}});w(P,y);const N=new Array(g.length);for(const ee of y)N[ee.index]={left:ee.x1New,top:0,right:ee.x2New,bottom:0};g.map(function(ee,ie){const fe=N[ie],de=y[ie];de.x1=ee.top,de.y1=P-fe.right,de.x2=ee.bottom,de.y2=P-fe.left,de.index=ie,de.x1New=void 0,de.x2New=void 0}),w(M,y);for(const ee of y){const ie=ee.index;N[ie].top=ee.x1New,N[ie].bottom=ee.x2New}return N}(g.width,g.height,M);for(let N=0;N<y.length;N++){const ee=M[N].div,ie=P._textDivProperties.get(ee);if(0===ie.angle){ie.paddingLeft=M[N].left-y[N].left,ie.paddingTop=M[N].top-y[N].top,ie.paddingRight=y[N].right-M[N].right,ie.paddingBottom=y[N].bottom-M[N].bottom,P._textDivProperties.set(ee,ie);continue}const fe=y[N],de=M[N],Oe=de.m,Me=Oe[0],G=Oe[1],te=[[0,0],[0,de.size[1]],[de.size[0],0],de.size],oe=new Float64Array(64);for(let Z=0,O=te.length;Z<O;Z++){const _=k.Util.applyTransform(te[Z],Oe);oe[Z+0]=Me&&(fe.left-_[0])/Me,oe[Z+4]=G&&(fe.top-_[1])/G,oe[Z+8]=Me&&(fe.right-_[0])/Me,oe[Z+12]=G&&(fe.bottom-_[1])/G,oe[Z+16]=G&&(fe.left-_[0])/-G,oe[Z+20]=Me&&(fe.top-_[1])/Me,oe[Z+24]=G&&(fe.right-_[0])/-G,oe[Z+28]=Me&&(fe.bottom-_[1])/Me,oe[Z+32]=Me&&(fe.left-_[0])/-Me,oe[Z+36]=G&&(fe.top-_[1])/-G,oe[Z+40]=Me&&(fe.right-_[0])/-Me,oe[Z+44]=G&&(fe.bottom-_[1])/-G,oe[Z+48]=G&&(fe.left-_[0])/G,oe[Z+52]=Me&&(fe.top-_[1])/-Me,oe[Z+56]=G&&(fe.right-_[0])/G,oe[Z+60]=Me&&(fe.bottom-_[1])/-Me}const J=1+Math.min(Math.abs(Me),Math.abs(G));ie.paddingLeft=U(oe,32,16)/J,ie.paddingTop=U(oe,48,16)/J,ie.paddingRight=U(oe,0,16)/J,ie.paddingBottom=U(oe,16,16)/J,P._textDivProperties.set(ee,ie)}}(this),this._bounds=null);const g=[],y=[];for(let N=0,ee=this._textDivs.length;N<ee;N++){const ie=this._textDivs[N],fe=this._textDivProperties.get(ie);fe.hasText&&(M?(g.length=0,y.length=0,fe.originalTransform&&g.push(fe.originalTransform),fe.paddingTop>0?(y.push(`${fe.paddingTop}px`),g.push(`translateY(${-fe.paddingTop}px)`)):y.push(0),y.push(fe.paddingRight>0?fe.paddingRight/fe.scale+"px":0),y.push(fe.paddingBottom>0?`${fe.paddingBottom}px`:0),fe.paddingLeft>0?(y.push(fe.paddingLeft/fe.scale+"px"),g.push(`translateX(${-fe.paddingLeft/fe.scale}px)`)):y.push(0),ie.style.padding=y.join(" "),g.length&&(ie.style.transform=g.join(" "))):(ie.style.padding=null,ie.style.transform=fe.originalTransform))}}}I.TextLayerRenderTask=V},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.SVGGraphics=void 0;var k=ae(8),q=ae(1),ve=ae(3);let ce=class{constructor(){(0,q.unreachable)("Not implemented: SVGGraphics")}};I.SVGGraphics=ce;{let E=function(g){let y=[];const N=[];for(const ee of g)"save"!==ee.fn?"restore"===ee.fn?y=N.pop():y.push(ee):(y.push({fnId:92,fn:"group",items:[]}),N.push(y),y=y.at(-1).items);return y},w=function(g){if(Number.isInteger(g))return g.toString();const y=g.toFixed(10);let N=y.length-1;if("0"!==y[N])return y;do{N--}while("0"===y[N]);return y.substring(0,"."===y[N]?N:N+1)},V=function(g){if(0===g[4]&&0===g[5]){if(0===g[1]&&0===g[2])return 1===g[0]&&1===g[3]?"":`scale(${w(g[0])} ${w(g[3])})`;if(g[0]===g[3]&&g[1]===-g[2]){const y=180*Math.acos(g[0])/Math.PI;return`rotate(${w(y)})`}}else if(1===g[0]&&0===g[1]&&0===g[2]&&1===g[3])return`translate(${w(g[4])} ${w(g[5])})`;return`matrix(${w(g[0])} ${w(g[1])} ${w(g[2])} ${w(g[3])} ${w(g[4])} ${w(g[5])})`};const be={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Q="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/1999/xlink",T=["butt","round","square"],C=["miter","round","bevel"],A=function(g,y="",N=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!N)return URL.createObjectURL(new Blob([g],{type:y}));const ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ie=`data:${y};base64,`;for(let fe=0,de=g.length;fe<de;fe+=3){const Oe=255&g[fe],Me=255&g[fe+1],G=255&g[fe+2];ie+=ee[Oe>>2]+ee[(3&Oe)<<4|Me>>4]+ee[fe+1<de?(15&Me)<<2|G>>6:64]+ee[fe+2<de?63&G:64]}return ie},U=function(){const g=new Uint8Array([137,80,78,71,13,10,26,10]),N=new Int32Array(256);for(let G=0;G<256;G++){let te=G;for(let oe=0;oe<8;oe++)te=1&te?3988292384^te>>1&2147483647:te>>1&2147483647;N[G]=te}function ie(G,te,oe,J){let Z=J;const O=te.length;oe[Z]=O>>24&255,oe[Z+1]=O>>16&255,oe[Z+2]=O>>8&255,oe[Z+3]=255&O,Z+=4,oe[Z]=255&G.charCodeAt(0),oe[Z+1]=255&G.charCodeAt(1),oe[Z+2]=255&G.charCodeAt(2),oe[Z+3]=255&G.charCodeAt(3),Z+=4,oe.set(te,Z),Z+=te.length;const _=function ee(G,te,oe){let J=-1;for(let Z=te;Z<oe;Z++)J=J>>>8^N[255&(J^G[Z])];return-1^J}(oe,J+4,Z);oe[Z]=_>>24&255,oe[Z+1]=_>>16&255,oe[Z+2]=_>>8&255,oe[Z+3]=255&_}function Oe(G){let te=G.length;const oe=65535,J=Math.ceil(te/oe),Z=new Uint8Array(2+te+5*J+4);let O=0;Z[O++]=120,Z[O++]=156;let _=0;for(;te>oe;)Z[O++]=0,Z[O++]=255,Z[O++]=255,Z[O++]=0,Z[O++]=0,Z.set(G.subarray(_,_+oe),O),O+=oe,_+=oe,te-=oe;Z[O++]=1,Z[O++]=255&te,Z[O++]=te>>8&255,Z[O++]=255&~te,Z[O++]=(65535&~te)>>8&255,Z.set(G.subarray(_),O),O+=G.length-_;const S=function fe(G,te,oe){let J=1,Z=0;for(let O=te;O<oe;++O)J=(J+(255&G[O]))%65521,Z=(Z+J)%65521;return Z<<16|J}(G,0,G.length);return Z[O++]=S>>24&255,Z[O++]=S>>16&255,Z[O++]=S>>8&255,Z[O++]=255&S,Z}return function(te,oe,J){return function Me(G,te,oe,J){const Z=G.width,O=G.height;let _,S,z;const B=G.data;switch(te){case q.ImageKind.GRAYSCALE_1BPP:S=0,_=1,z=Z+7>>3;break;case q.ImageKind.RGB_24BPP:S=2,_=8,z=3*Z;break;case q.ImageKind.RGBA_32BPP:S=6,_=8,z=4*Z;break;default:throw new Error("invalid format")}const p=new Uint8Array((1+z)*O);let R=0,W=0;for(let ue=0;ue<O;++ue)p[R++]=0,p.set(B.subarray(W,W+z),R),W+=z,R+=z;if(te===q.ImageKind.GRAYSCALE_1BPP&&J){R=0;for(let ue=0;ue<O;ue++){R++;for(let pe=0;pe<z;pe++)p[R++]^=255}}const ne=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,255&Z,O>>24&255,O>>16&255,O>>8&255,255&O,_,S,0,0,0]),se=function de(G){if(!ve.isNodeJS)return Oe(G);try{let te;te=parseInt(process.versions.node)>=8?G:Buffer.from(G);const oe=__webpack_require__(258).deflateSync(te,{level:9});return oe instanceof Uint8Array?oe:new Uint8Array(oe)}catch(te){(0,q.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+te)}return Oe(G)}(p),Y=new Uint8Array(g.length+36+ne.length+se.length);let re=0;return Y.set(g,re),re+=g.length,ie("IHDR",ne,Y,re),re+=12+ne.length,ie("IDATA",se,Y,re),re+=12+se.length,ie("IEND",new Uint8Array(0),Y,re),A(Y,"image/png",oe)}(te,void 0===te.kind?q.ImageKind.GRAYSCALE_1BPP:te.kind,oe,J)}}();class D{constructor(){this.fontSizeScale=1,this.fontWeight=be.fontWeight,this.fontSize=0,this.textMatrix=q.IDENTITY_MATRIX,this.fontMatrix=q.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=q.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=be.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(y,N){this.x=y,this.y=N}}let L=0,P=0,M=0;I.SVGGraphics=ce=class{constructor(g,y,N=!1){(0,k.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new k.DOMSVGFactory,this.current=new D,this.transformMatrix=q.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=y,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!N,this._operatorIdMapping=[];for(const ee in q.OPS)this._operatorIdMapping[q.OPS[ee]]=ee}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const y=g.fnArray,N=g.argsArray;for(let ee=0,ie=y.length;ee<ie;ee++)if(y[ee]===q.OPS.dependency)for(const fe of N[ee]){const de=fe.startsWith("g_")?this.commonObjs:this.objs,Oe=new Promise(Me=>{de.get(fe,Me)});this.current.dependencies.push(Oe)}return Promise.all(this.current.dependencies)}transform(g,y,N,ee,ie,fe){this.transformMatrix=q.Util.transform(this.transformMatrix,[g,y,N,ee,ie,fe]),this.tgrp=null}getSVG(g,y){this.viewport=y;const N=this._initialize(y);return this.loadDependencies(g).then(()=>(this.transformMatrix=q.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),N))}convertOpList(g){const y=this._operatorIdMapping,N=g.argsArray,ee=g.fnArray,ie=[];for(let fe=0,de=ee.length;fe<de;fe++){const Oe=ee[fe];ie.push({fnId:Oe,fn:y[Oe],args:N[fe]})}return E(ie)}executeOpTree(g){for(const y of g){const N=y.fn,ie=y.args;switch(0|y.fnId){case q.OPS.beginText:this.beginText();break;case q.OPS.dependency:break;case q.OPS.setLeading:this.setLeading(ie);break;case q.OPS.setLeadingMoveText:this.setLeadingMoveText(ie[0],ie[1]);break;case q.OPS.setFont:this.setFont(ie);break;case q.OPS.showText:case q.OPS.showSpacedText:this.showText(ie[0]);break;case q.OPS.endText:this.endText();break;case q.OPS.moveText:this.moveText(ie[0],ie[1]);break;case q.OPS.setCharSpacing:this.setCharSpacing(ie[0]);break;case q.OPS.setWordSpacing:this.setWordSpacing(ie[0]);break;case q.OPS.setHScale:this.setHScale(ie[0]);break;case q.OPS.setTextMatrix:this.setTextMatrix(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);break;case q.OPS.setTextRise:this.setTextRise(ie[0]);break;case q.OPS.setTextRenderingMode:this.setTextRenderingMode(ie[0]);break;case q.OPS.setLineWidth:this.setLineWidth(ie[0]);break;case q.OPS.setLineJoin:this.setLineJoin(ie[0]);break;case q.OPS.setLineCap:this.setLineCap(ie[0]);break;case q.OPS.setMiterLimit:this.setMiterLimit(ie[0]);break;case q.OPS.setFillRGBColor:this.setFillRGBColor(ie[0],ie[1],ie[2]);break;case q.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ie[0],ie[1],ie[2]);break;case q.OPS.setStrokeColorN:this.setStrokeColorN(ie);break;case q.OPS.setFillColorN:this.setFillColorN(ie);break;case q.OPS.shadingFill:this.shadingFill(ie[0]);break;case q.OPS.setDash:this.setDash(ie[0],ie[1]);break;case q.OPS.setRenderingIntent:this.setRenderingIntent(ie[0]);break;case q.OPS.setFlatness:this.setFlatness(ie[0]);break;case q.OPS.setGState:this.setGState(ie[0]);break;case q.OPS.fill:this.fill();break;case q.OPS.eoFill:this.eoFill();break;case q.OPS.stroke:this.stroke();break;case q.OPS.fillStroke:this.fillStroke();break;case q.OPS.eoFillStroke:this.eoFillStroke();break;case q.OPS.clip:this.clip("nonzero");break;case q.OPS.eoClip:this.clip("evenodd");break;case q.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case q.OPS.paintImageXObject:this.paintImageXObject(ie[0]);break;case q.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ie[0]);break;case q.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ie[0]);break;case q.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ie[0],ie[1]);break;case q.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case q.OPS.closePath:this.closePath();break;case q.OPS.closeStroke:this.closeStroke();break;case q.OPS.closeFillStroke:this.closeFillStroke();break;case q.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case q.OPS.nextLine:this.nextLine();break;case q.OPS.transform:this.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);break;case q.OPS.constructPath:this.constructPath(ie[0],ie[1]);break;case q.OPS.endPath:this.endPath();break;case 92:this.group(y.items);break;default:(0,q.warn)(`Unimplemented operator ${N}`)}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,y,N,ee,ie,fe){const de=this.current;de.textMatrix=de.lineMatrix=[g,y,N,ee,ie,fe],de.textMatrixScale=Math.hypot(g,y),de.x=de.lineX=0,de.y=de.lineY=0,de.xcoords=[],de.ycoords=[],de.tspan=this.svgFactory.createElement("svg:tspan"),de.tspan.setAttributeNS(null,"font-family",de.fontFamily),de.tspan.setAttributeNS(null,"font-size",`${w(de.fontSize)}px`),de.tspan.setAttributeNS(null,"y",w(-de.y)),de.txtElement=this.svgFactory.createElement("svg:text"),de.txtElement.append(de.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=q.IDENTITY_MATRIX,g.lineMatrix=q.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,y){const N=this.current;N.x=N.lineX+=g,N.y=N.lineY+=y,N.xcoords=[],N.ycoords=[],N.tspan=this.svgFactory.createElement("svg:tspan"),N.tspan.setAttributeNS(null,"font-family",N.fontFamily),N.tspan.setAttributeNS(null,"font-size",`${w(N.fontSize)}px`),N.tspan.setAttributeNS(null,"y",w(-N.y))}showText(g){const y=this.current,N=y.font,ee=y.fontSize;if(0===ee)return;const ie=y.fontSizeScale,fe=y.charSpacing,de=y.wordSpacing,Oe=y.fontDirection,Me=y.textHScale*Oe,G=N.vertical,te=G?1:-1,oe=N.defaultVMetrics,J=ee*y.fontMatrix[0];let Z=0;for(const S of g){if(null===S){Z+=Oe*de;continue}if("number"==typeof S){Z+=te*S*ee/1e3;continue}const z=(S.isSpace?de:0)+fe,B=S.fontChar;let p,R,ne,W=S.width;if(G){let se;const he=S.vmetric||oe;se=S.vmetric?he[1]:.5*W,se=-se*J,W=he?-he[0]:W,p=se/ie,R=(Z+he[2]*J)/ie}else p=Z/ie,R=0;(S.isInFont||N.missingFile)&&(y.xcoords.push(y.x+p),G&&y.ycoords.push(-y.y+R),y.tspan.textContent+=B),ne=G?W*J-z*Oe:W*J+z*Oe,Z+=ne}y.tspan.setAttributeNS(null,"x",y.xcoords.map(w).join(" ")),y.tspan.setAttributeNS(null,"y",G?y.ycoords.map(w).join(" "):w(-y.y)),G?y.y-=Z:y.x+=Z*Me,y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${w(y.fontSize)}px`),y.fontStyle!==be.fontStyle&&y.tspan.setAttributeNS(null,"font-style",y.fontStyle),y.fontWeight!==be.fontWeight&&y.tspan.setAttributeNS(null,"font-weight",y.fontWeight);const O=y.textRenderingMode&q.TextRenderingMode.FILL_STROKE_MASK;O===q.TextRenderingMode.FILL||O===q.TextRenderingMode.FILL_STROKE?(y.fillColor!==be.fillColor&&y.tspan.setAttributeNS(null,"fill",y.fillColor),y.fillAlpha<1&&y.tspan.setAttributeNS(null,"fill-opacity",y.fillAlpha)):y.tspan.setAttributeNS(null,"fill",y.textRenderingMode===q.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(O===q.TextRenderingMode.STROKE||O===q.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(y.tspan,1/(y.textMatrixScale||1));let _=y.textMatrix;0!==y.textRise&&(_=_.slice(),_[5]+=y.textRise),y.txtElement.setAttributeNS(null,"transform",`${V(_)} scale(${w(Me)}, -1)`),y.txtElement.setAttributeNS(Q,"xml:space","preserve"),y.txtElement.append(y.tspan),y.txtgrp.append(y.txtElement),this._ensureTransformGroup().append(y.txtElement)}setLeadingMoveText(g,y){this.setLeading(-y),this.moveText(g,y)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const y=A(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${y}); }\n`}setFont(g){const y=this.current,N=this.commonObjs.get(g[0]);let ee=g[1];y.font=N,this.embedFonts&&!N.missingFile&&!this.embeddedFonts[N.loadedName]&&(this.addFontStyle(N),this.embeddedFonts[N.loadedName]=N),y.fontMatrix=N.fontMatrix||q.FONT_IDENTITY_MATRIX;let ie="normal";N.black?ie="900":N.bold&&(ie="bold");const fe=N.italic?"italic":"normal";ee<0?(ee=-ee,y.fontDirection=-1):y.fontDirection=1,y.fontSize=ee,y.fontFamily=N.loadedName,y.fontWeight=ie,y.fontStyle=fe,y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"y",w(-y.y)),y.xcoords=[],y.ycoords=[]}endText(){const g=this.current;g.textRenderingMode&q.TextRenderingMode.ADD_TO_PATH_FLAG&&g.txtElement?.hasChildNodes()&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=T[g]}setLineJoin(g){this.current.lineJoin=C[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,y,N){this.current.strokeColor=q.Util.makeHexColor(g,y,N)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,y,N){this.current.fillColor=q.Util.makeHexColor(g,y,N),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const y=this.viewport.width,N=this.viewport.height,ee=q.Util.inverseTransform(this.transformMatrix),ie=q.Util.applyTransform([0,0],ee),fe=q.Util.applyTransform([0,N],ee),de=q.Util.applyTransform([y,0],ee),Oe=q.Util.applyTransform([y,N],ee),Me=Math.min(ie[0],fe[0],de[0],Oe[0]),G=Math.min(ie[1],fe[1],de[1],Oe[1]),te=Math.max(ie[0],fe[0],de[0],Oe[0]),oe=Math.max(ie[1],fe[1],de[1],Oe[1]),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x",Me),J.setAttributeNS(null,"y",G),J.setAttributeNS(null,"width",te-Me),J.setAttributeNS(null,"height",oe-G),J.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&J.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(J)}_makeColorN_Pattern(g){return"TilingPattern"===g[0]?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const y=g[1],N=g[2],ee=g[3]||q.IDENTITY_MATRIX,[ie,fe,de,Oe]=g[4],Me=g[5],G=g[6],te=g[7],oe="shading"+M++,[J,Z,O,_]=q.Util.normalizeRect([...q.Util.applyTransform([ie,fe],ee),...q.Util.applyTransform([de,Oe],ee)]),[S,z]=q.Util.singularValueDecompose2dScale(ee),B=Me*S,p=G*z,R=this.svgFactory.createElement("svg:pattern");R.setAttributeNS(null,"id",oe),R.setAttributeNS(null,"patternUnits","userSpaceOnUse"),R.setAttributeNS(null,"width",B),R.setAttributeNS(null,"height",p),R.setAttributeNS(null,"x",`${J}`),R.setAttributeNS(null,"y",`${Z}`);const W=this.svg,ne=this.transformMatrix,se=this.current.fillColor,he=this.current.strokeColor,Y=this.svgFactory.create(O-J,_-Z);if(this.svg=Y,this.transformMatrix=ee,2===te){const re=q.Util.makeHexColor(...y);this.current.fillColor=re,this.current.strokeColor=re}return this.executeOpTree(this.convertOpList(N)),this.svg=W,this.transformMatrix=ne,this.current.fillColor=se,this.current.strokeColor=he,R.append(Y.childNodes[0]),this.defs.append(R),`url(#${oe})`}_makeShadingPattern(g){switch("string"==typeof g&&(g=this.objs.get(g)),g[0]){case"RadialAxial":const y="shading"+M++,N=g[3];let ee;switch(g[1]){case"axial":const ie=g[4],fe=g[5];ee=this.svgFactory.createElement("svg:linearGradient"),ee.setAttributeNS(null,"id",y),ee.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ee.setAttributeNS(null,"x1",ie[0]),ee.setAttributeNS(null,"y1",ie[1]),ee.setAttributeNS(null,"x2",fe[0]),ee.setAttributeNS(null,"y2",fe[1]);break;case"radial":const de=g[4],Oe=g[5],Me=g[6],G=g[7];ee=this.svgFactory.createElement("svg:radialGradient"),ee.setAttributeNS(null,"id",y),ee.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ee.setAttributeNS(null,"cx",Oe[0]),ee.setAttributeNS(null,"cy",Oe[1]),ee.setAttributeNS(null,"r",G),ee.setAttributeNS(null,"fx",de[0]),ee.setAttributeNS(null,"fy",de[1]),ee.setAttributeNS(null,"fr",Me);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const ie of N){const fe=this.svgFactory.createElement("svg:stop");fe.setAttributeNS(null,"offset",ie[0]),fe.setAttributeNS(null,"stop-color",ie[1]),ee.append(fe)}return this.defs.append(ee),`url(#${y})`;case"Mesh":return(0,q.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,y){this.current.dashArray=g,this.current.dashPhase=y}constructPath(g,y){const N=this.current;let ee=N.x,ie=N.y,fe=[],de=0;for(const Oe of g)switch(0|Oe){case q.OPS.rectangle:ee=y[de++],ie=y[de++];const te=ee+y[de++],oe=ie+y[de++];fe.push("M",w(ee),w(ie),"L",w(te),w(ie),"L",w(te),w(oe),"L",w(ee),w(oe),"Z");break;case q.OPS.moveTo:ee=y[de++],ie=y[de++],fe.push("M",w(ee),w(ie));break;case q.OPS.lineTo:ee=y[de++],ie=y[de++],fe.push("L",w(ee),w(ie));break;case q.OPS.curveTo:ee=y[de+4],ie=y[de+5],fe.push("C",w(y[de]),w(y[de+1]),w(y[de+2]),w(y[de+3]),w(ee),w(ie)),de+=6;break;case q.OPS.curveTo2:fe.push("C",w(ee),w(ie),w(y[de]),w(y[de+1]),w(y[de+2]),w(y[de+3])),ee=y[de+2],ie=y[de+3],de+=4;break;case q.OPS.curveTo3:ee=y[de+2],ie=y[de+3],fe.push("C",w(y[de]),w(y[de+1]),w(ee),w(ie),w(ee),w(ie)),de+=4;break;case q.OPS.closePath:fe.push("Z")}fe=fe.join(" "),N.path&&g.length>0&&g[0]!==q.OPS.rectangle&&g[0]!==q.OPS.moveTo?fe=N.path.getAttributeNS(null,"d")+fe:(N.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(N.path)),N.path.setAttributeNS(null,"d",fe),N.path.setAttributeNS(null,"fill","none"),N.element=N.path,N.setCurrentPoint(ee,ie)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element)return void(this.pendingClip=null);const y="clippath"+L++,N=this.svgFactory.createElement("svg:clipPath");N.setAttributeNS(null,"id",y),N.setAttributeNS(null,"transform",V(this.transformMatrix));const ee=g.element.cloneNode(!0);if(ee.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,N.append(ee),this.defs.append(N),g.activeClipUrl){g.clipGroup=null;for(const ie of this.extraStack)ie.clipGroup=null;N.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl=`url(#${y})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const y=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",y)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[y,N]of g)switch(y){case"LW":this.setLineWidth(N);break;case"LC":this.setLineCap(N);break;case"LJ":this.setLineJoin(N);break;case"ML":this.setMiterLimit(N);break;case"D":this.setDash(N[0],N[1]);break;case"RI":this.setRenderingIntent(N);break;case"FL":this.setFlatness(N);break;case"Font":this.setFont(N);break;case"CA":this.setStrokeAlpha(N);break;case"ca":this.setFillAlpha(N);break;default:(0,q.warn)(`Unimplemented graphic state operator ${y}`)}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g,y=1){const N=this.current;let ee=N.dashArray;1!==y&&ee.length>0&&(ee=ee.map(function(ie){return y*ie})),g.setAttributeNS(null,"stroke",N.strokeColor),g.setAttributeNS(null,"stroke-opacity",N.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",w(N.miterLimit)),g.setAttributeNS(null,"stroke-linecap",N.lineCap),g.setAttributeNS(null,"stroke-linejoin",N.lineJoin),g.setAttributeNS(null,"stroke-width",w(y*N.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",ee.map(w).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",w(y*N.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(g)}paintImageXObject(g){const y=g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g);y?this.paintInlineImageXObject(y):(0,q.warn)(`Dependent image with object ID ${g} is not ready yet`)}paintInlineImageXObject(g,y){const N=g.width,ee=g.height,ie=U(g,this.forceDataSchema,!!y),fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",w(N)),fe.setAttributeNS(null,"height",w(ee)),this.current.element=fe,this.clip("nonzero");const de=this.svgFactory.createElement("svg:image");de.setAttributeNS(v,"xlink:href",ie),de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y",w(-ee)),de.setAttributeNS(null,"width",w(N)+"px"),de.setAttributeNS(null,"height",w(ee)+"px"),de.setAttributeNS(null,"transform",`scale(${w(1/N)} ${w(-1/ee)})`),y?y.append(de):this._ensureTransformGroup().append(de)}paintImageMaskXObject(g){const y=this.current,N=g.width,ee=g.height,ie=y.fillColor;y.maskId="mask"+P++;const fe=this.svgFactory.createElement("svg:mask");fe.setAttributeNS(null,"id",y.maskId);const de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y","0"),de.setAttributeNS(null,"width",w(N)),de.setAttributeNS(null,"height",w(ee)),de.setAttributeNS(null,"fill",ie),de.setAttributeNS(null,"mask",`url(#${y.maskId})`),this.defs.append(fe),this._ensureTransformGroup().append(de),this.paintInlineImageXObject(g,fe)}paintFormXObjectBegin(g,y){if(Array.isArray(g)&&6===g.length&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),y){const N=y[2]-y[0],ee=y[3]-y[1],ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x",y[0]),ie.setAttributeNS(null,"y",y[1]),ie.setAttributeNS(null,"width",w(N)),ie.setAttributeNS(null,"height",w(ee)),this.current.element=ie,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const y=this.svgFactory.create(g.width,g.height),N=this.svgFactory.createElement("svg:defs");y.append(N),this.defs=N;const ee=this.svgFactory.createElement("svg:g");return ee.setAttributeNS(null,"transform",V(g.transform)),y.append(ee),this.svg=ee,y}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",V(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNodeStream=void 0;var k=ae(1),q=ae(33);const ve=__webpack_require__(172),ce=__webpack_require__(1),be=__webpack_require__(779),Q=__webpack_require__(558),v=/^file:\/\/\/[a-zA-Z]:\//;I.PDFNodeStream=class C{constructor(M){this.source=M,this.url=function T(P){const M=Q.parse(P);return"file:"===M.protocol||M.host?M:/^[a-z]:[/\\]/i.test(P)?Q.parse(`file:///${P}`):(M.host||(M.protocol="file:"),M)}(M.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&M.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,k.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new V(this):new E(this),this._fullRequestReader}getRangeReader(M,g){if(g<=this._progressiveDataLength)return null;const y=this.isFsUrl?new L(this,M,g):new w(this,M,g);return this._rangeRequestReaders.push(y),y}cancelAllRequests(M){this._fullRequestReader&&this._fullRequestReader.cancel(M);for(const g of this._rangeRequestReaders.slice(0))g.cancel(M)}};class A{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=M.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=(0,k.createPromiseCapability)(),this._headersCapability=(0,k.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var M=this;return _asyncToGenerator(function*(){if(yield M._readCapability.promise,M._done)return{value:void 0,done:!0};if(M._storedError)throw M._storedError;const g=M._readableStream.read();return null===g?(M._readCapability=(0,k.createPromiseCapability)(),M.read()):(M._loaded+=g.length,M.onProgress&&M.onProgress({loaded:M._loaded,total:M._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(M){this._readableStream?this._readableStream.destroy(M):this._error(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new k.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class U{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,k.createPromiseCapability)(),this._isStreamingSupported=!M.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var M=this;return _asyncToGenerator(function*(){if(yield M._readCapability.promise,M._done)return{value:void 0,done:!0};if(M._storedError)throw M._storedError;const g=M._readableStream.read();return null===g?(M._readCapability=(0,k.createPromiseCapability)(),M.read()):(M._loaded+=g.length,M.onProgress&&M.onProgress({loaded:M._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(M){this._readableStream?this._readableStream.destroy(M):this._error(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function D(P,M){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:M}}class E extends A{constructor(M){super(M);const g=y=>{if(404===y.statusCode){const fe=new k.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=fe,void this._headersCapability.reject(fe)}this._headersCapability.resolve(),this._setReadableStream(y);const N=fe=>this._readableStream.headers[fe.toLowerCase()],{allowRangeRequests:ee,suggestedLength:ie}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:N,isHttp:M.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ee,this._contentLength=ie||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(N)};this._request=null,this._request="http:"===this._url.protocol?ce.request(D(this._url,M.httpHeaders),g):be.request(D(this._url,M.httpHeaders),g),this._request.on("error",y=>{this._storedError=y,this._headersCapability.reject(y)}),this._request.end()}}class w extends U{constructor(M,g,y){super(M),this._httpHeaders={};for(const ee in M.httpHeaders){const ie=M.httpHeaders[ee];typeof ie>"u"||(this._httpHeaders[ee]=ie)}this._httpHeaders.Range=`bytes=${g}-${y-1}`;const N=ee=>{if(404!==ee.statusCode)this._setReadableStream(ee);else{const ie=new k.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ie}};this._request=null,this._request="http:"===this._url.protocol?ce.request(D(this._url,this._httpHeaders),N):be.request(D(this._url,this._httpHeaders),N),this._request.on("error",ee=>{this._storedError=ee}),this._request.end()}}class V extends A{constructor(M){super(M);let g=decodeURIComponent(this._url.path);v.test(this._url.href)&&(g=g.replace(/^\//,"")),ve.lstat(g,(y,N)=>{if(y)return"ENOENT"===y.code&&(y=new k.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=y,void this._headersCapability.reject(y);this._contentLength=N.size,this._setReadableStream(ve.createReadStream(g)),this._headersCapability.resolve()})}}class L extends U{constructor(M,g,y){super(M);let N=decodeURIComponent(this._url.path);v.test(this._url.href)&&(N=N.replace(/^\//,"")),this._setReadableStream(ve.createReadStream(N,{start:g,end:y-1}))}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.createResponseStatusError=function Q(T,C){return 404===T||0===T&&C.startsWith("file:")?new k.MissingPDFException('Missing PDF "'+C+'".'):new k.UnexpectedResponseException(`Unexpected server response (${T}) while retrieving PDF "${C}".`,T)},I.extractFilenameFromHeader=function be(T){const C=T("Content-Disposition");if(C){let A=(0,q.getFilenameFromContentDispositionHeader)(C);if(A.includes("%"))try{A=decodeURIComponent(A)}catch{}if((0,ve.isPdfFile)(A))return A}return null},I.validateRangeRequestCapabilities=function ce({getResponseHeader:T,isHttp:C,rangeChunkSize:A,disableRange:U}){const D={allowRangeRequests:!1,suggestedLength:void 0},E=parseInt(T("Content-Length"),10);return!Number.isInteger(E)||(D.suggestedLength=E,E<=2*A)||U||!C||"bytes"!==T("Accept-Ranges")||"identity"!==(T("Content-Encoding")||"identity")||(D.allowRangeRequests=!0),D},I.validateResponseStatus=function v(T){return 200===T||206===T};var k=ae(1),q=ae(34),ve=ae(8)},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getFilenameFromContentDispositionHeader=function q(ve){let ce=!0,be=Q("filename\\*","i").exec(ve);if(be){be=be[1];let E=A(be);return E=unescape(E),E=U(E),E=D(E),T(E)}if(be=function C(E){const w=[];let V;const L=Q("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(V=L.exec(E));){let[,M,g,y]=V;if(M=parseInt(M,10),M in w){if(0===M)break}else w[M]=[g,y]}const P=[];for(let M=0;M<w.length&&M in w;++M){let[g,y]=w[M];y=A(y),g&&(y=unescape(y),0===M&&(y=U(y))),P.push(y)}return P.join("")}(ve),be)return T(D(be));if(be=Q("filename","i").exec(ve),be){be=be[1];let E=A(be);return E=D(E),T(E)}function Q(E,w){return new RegExp("(?:^|;)\\s*"+E+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function v(E,w){if(E){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const V=new TextDecoder(E,{fatal:!0}),L=(0,k.stringToBytes)(w);w=V.decode(L),ce=!1}catch{}}return w}function T(E){return ce&&/[\x80-\xff]/.test(E)&&(E=v("utf-8",E),ce&&(E=v("iso-8859-1",E))),E}function A(E){if(E.startsWith('"')){const w=E.slice(1).split('\\"');for(let V=0;V<w.length;++V){const L=w[V].indexOf('"');-1!==L&&(w[V]=w[V].slice(0,L),w.length=V+1),w[V]=w[V].replace(/\\(.)/g,"$1")}E=w.join('"')}return E}function U(E){const w=E.indexOf("'");return-1===w?E:v(E.slice(0,w),E.slice(w+1).replace(/^[^']*'/,""))}function D(E){return!E.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(E)?E:E.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,V,L,P){if("q"===L||"Q"===L)return v(V,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(M,g){return String.fromCharCode(parseInt(g,16))}));try{P=atob(P)}catch{}return v(V,P)})}return""};var k=ae(1)},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNetworkStream=void 0;var k=ae(1),q=ae(33);class Q{constructor(U,D={}){this.url=U,this.isHttp=/^https?:/i.test(U),this.httpHeaders=this.isHttp&&D.httpHeaders||Object.create(null),this.withCredentials=D.withCredentials||!1,this.getXhr=D.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(U,D,E){const w={begin:U,end:D};for(const V in E)w[V]=E[V];return this.request(w)}requestFull(U){return this.request(U)}request(U){const D=this.getXhr(),E=this.currXhrId++,w=this.pendingRequests[E]={xhr:D};D.open("GET",this.url),D.withCredentials=this.withCredentials;for(const V in this.httpHeaders){const L=this.httpHeaders[V];typeof L>"u"||D.setRequestHeader(V,L)}return this.isHttp&&"begin"in U&&"end"in U?(D.setRequestHeader("Range",`bytes=${U.begin}-${U.end-1}`),w.expectedStatus=206):w.expectedStatus=200,D.responseType="arraybuffer",U.onError&&(D.onerror=function(V){U.onError(D.status)}),D.onreadystatechange=this.onStateChange.bind(this,E),D.onprogress=this.onProgress.bind(this,E),w.onHeadersReceived=U.onHeadersReceived,w.onDone=U.onDone,w.onError=U.onError,w.onProgress=U.onProgress,D.send(null),E}onProgress(U,D){const E=this.pendingRequests[U];E&&E.onProgress?.(D)}onStateChange(U,D){const E=this.pendingRequests[U];if(!E)return;const w=E.xhr;if(w.readyState>=2&&E.onHeadersReceived&&(E.onHeadersReceived(),delete E.onHeadersReceived),4!==w.readyState||!(U in this.pendingRequests))return;if(delete this.pendingRequests[U],0===w.status&&this.isHttp)return void E.onError?.(w.status);const V=w.status||200;if((200!==V||206!==E.expectedStatus)&&V!==E.expectedStatus)return void E.onError?.(w.status);const P=function be(A){const U=A.response;return"string"!=typeof U?U:(0,k.stringToBytes)(U).buffer}(w);if(206===V){const M=w.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(M);E.onDone({begin:parseInt(g[1],10),chunk:P})}else P?E.onDone({begin:0,chunk:P}):E.onError?.(w.status)}getRequestXhr(U){return this.pendingRequests[U].xhr}isPendingRequest(U){return U in this.pendingRequests}abortRequest(U){const D=this.pendingRequests[U].xhr;delete this.pendingRequests[U],D.abort()}}I.PDFNetworkStream=class v{constructor(U){this._source=U,this._manager=new Q(U.url,{httpHeaders:U.httpHeaders,withCredentials:U.withCredentials}),this._rangeChunkSize=U.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(U){const D=this._rangeRequestReaders.indexOf(U);D>=0&&this._rangeRequestReaders.splice(D,1)}getFullReader(){return(0,k.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._manager,this._source),this._fullRequestReader}getRangeReader(U,D){const E=new C(this._manager,U,D);return E.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(E),E}cancelAllRequests(U){this._fullRequestReader?.cancel(U);for(const D of this._rangeRequestReaders.slice(0))D.cancel(U)}};class T{constructor(U,D){this._manager=U;const E={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._fullRequestId=U.requestFull(E),this._headersReceivedCapability=(0,k.createPromiseCapability)(),this._disableRange=D.disableRange||!1,this._contentLength=D.length,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const U=this._fullRequestId,D=this._manager.getRequestXhr(U),E=L=>D.getResponseHeader(L),{allowRangeRequests:w,suggestedLength:V}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=V||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(E),this._isRangeSupported&&this._manager.abortRequest(U),this._headersReceivedCapability.resolve()}_onDone(U){if(U&&(this._requests.length>0?this._requests.shift().resolve({value:U.chunk,done:!1}):this._cachedChunks.push(U.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(U){this._storedError=(0,q.createResponseStatusError)(U,this._url),this._headersReceivedCapability.reject(this._storedError);for(const D of this._requests)D.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(U){this.onProgress?.({loaded:U.loaded,total:U.lengthComputable?U.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var U=this;return _asyncToGenerator(function*(){if(U._storedError)throw U._storedError;if(U._cachedChunks.length>0)return{value:U._cachedChunks.shift(),done:!1};if(U._done)return{value:void 0,done:!0};const D=(0,k.createPromiseCapability)();return U._requests.push(D),D.promise})()}cancel(U){this._done=!0,this._headersReceivedCapability.reject(U);for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class C{constructor(U,D,E){this._manager=U;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=U.url,this._requestId=U.requestRange(D,E,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(U){const D=U.chunk;this._requests.length>0?this._requests.shift().resolve({value:D,done:!1}):this._queuedChunk=D,this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(U){this._storedError=(0,q.createResponseStatusError)(U,this._url);for(const D of this._requests)D.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(U){this.isStreamingSupported||this.onProgress?.({loaded:U.loaded})}get isStreamingSupported(){return!1}read(){var U=this;return _asyncToGenerator(function*(){if(U._storedError)throw U._storedError;if(null!==U._queuedChunk){const E=U._queuedChunk;return U._queuedChunk=null,{value:E,done:!1}}if(U._done)return{value:void 0,done:!0};const D=(0,k.createPromiseCapability)();return U._requests.push(D),D.promise})()}cancel(U){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Pe,I,ae)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFFetchStream=void 0;var k=ae(1),q=ae(33);function ve(T,C,A){return{method:"GET",headers:T,signal:A.signal,mode:"cors",credentials:C?"include":"same-origin",redirect:"follow"}}function ce(T){const C=new Headers;for(const A in T){const U=T[A];typeof U>"u"||C.append(A,U)}return C}I.PDFFetchStream=class be{constructor(C){this.source=C,this.isHttp=/^https?:/i.test(C.url),this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,k.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Q(this),this._fullRequestReader}getRangeReader(C,A){if(A<=this._progressiveDataLength)return null;const U=new v(this,C,A);return this._rangeRequestReaders.push(U),U}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C);for(const A of this._rangeRequestReaders.slice(0))A.cancel(C)}};class Q{constructor(C){this._stream=C,this._reader=null,this._loaded=0,this._filename=null;const A=C.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,k.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=ce(this._stream.httpHeaders);const U=A.url;fetch(U,ve(this._headers,this._withCredentials,this._abortController)).then(D=>{if(!(0,q.validateResponseStatus)(D.status))throw(0,q.createResponseStatusError)(D.status,U);this._reader=D.body.getReader(),this._headersCapability.resolve();const E=L=>D.headers.get(L),{allowRangeRequests:w,suggestedLength:V}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=V||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(E),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new k.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){yield C._headersCapability.promise;const{value:A,done:U}=yield C._reader.read();return U?{value:A,done:U}:(C._loaded+=A.byteLength,C.onProgress&&C.onProgress({loaded:C._loaded,total:C._contentLength}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(C){this._reader&&this._reader.cancel(C),this._abortController.abort()}}class v{constructor(C,A,U){this._stream=C,this._reader=null,this._loaded=0;const D=C.source;this._withCredentials=D.withCredentials||!1,this._readCapability=(0,k.createPromiseCapability)(),this._isStreamingSupported=!D.disableStream,this._abortController=new AbortController,this._headers=ce(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${U-1}`);const E=D.url;fetch(E,ve(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,q.validateResponseStatus)(w.status))throw(0,q.createResponseStatusError)(w.status,E);this._readCapability.resolve(),this._reader=w.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){yield C._readCapability.promise;const{value:A,done:U}=yield C._reader.read();return U?{value:A,done:U}:(C._loaded+=A.byteLength,C.onProgress&&C.onProgress({loaded:C._loaded}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(C){this._reader&&this._reader.cancel(C),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Pe){var I=__webpack_module_cache__[Pe];if(void 0!==I)return I.exports;var ae=__webpack_module_cache__[Pe]={exports:{}};return __webpack_modules__[Pe](ae,ae.exports,__w_pdfjs_require__),ae.exports}var __nested_webpack_exports__={};return(()=>{var Pe=__nested_webpack_exports__;Object.defineProperty(Pe,"__esModule",{value:!0}),Object.defineProperty(Pe,"AnnotationEditorLayer",{enumerable:!0,get:function(){return q.AnnotationEditorLayer}}),Object.defineProperty(Pe,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return I.AnnotationEditorParamsType}}),Object.defineProperty(Pe,"AnnotationEditorType",{enumerable:!0,get:function(){return I.AnnotationEditorType}}),Object.defineProperty(Pe,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return ve.AnnotationEditorUIManager}}),Object.defineProperty(Pe,"AnnotationLayer",{enumerable:!0,get:function(){return ce.AnnotationLayer}}),Object.defineProperty(Pe,"AnnotationMode",{enumerable:!0,get:function(){return I.AnnotationMode}}),Object.defineProperty(Pe,"CMapCompressionType",{enumerable:!0,get:function(){return I.CMapCompressionType}}),Object.defineProperty(Pe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return be.GlobalWorkerOptions}}),Object.defineProperty(Pe,"InvalidPDFException",{enumerable:!0,get:function(){return I.InvalidPDFException}}),Object.defineProperty(Pe,"LoopbackPort",{enumerable:!0,get:function(){return ae.LoopbackPort}}),Object.defineProperty(Pe,"MissingPDFException",{enumerable:!0,get:function(){return I.MissingPDFException}}),Object.defineProperty(Pe,"OPS",{enumerable:!0,get:function(){return I.OPS}}),Object.defineProperty(Pe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ae.PDFDataRangeTransport}}),Object.defineProperty(Pe,"PDFDateString",{enumerable:!0,get:function(){return k.PDFDateString}}),Object.defineProperty(Pe,"PDFWorker",{enumerable:!0,get:function(){return ae.PDFWorker}}),Object.defineProperty(Pe,"PasswordResponses",{enumerable:!0,get:function(){return I.PasswordResponses}}),Object.defineProperty(Pe,"PermissionFlag",{enumerable:!0,get:function(){return I.PermissionFlag}}),Object.defineProperty(Pe,"PixelsPerInch",{enumerable:!0,get:function(){return k.PixelsPerInch}}),Object.defineProperty(Pe,"RenderingCancelledException",{enumerable:!0,get:function(){return k.RenderingCancelledException}}),Object.defineProperty(Pe,"SVGGraphics",{enumerable:!0,get:function(){return T.SVGGraphics}}),Object.defineProperty(Pe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return I.UNSUPPORTED_FEATURES}}),Object.defineProperty(Pe,"UnexpectedResponseException",{enumerable:!0,get:function(){return I.UnexpectedResponseException}}),Object.defineProperty(Pe,"Util",{enumerable:!0,get:function(){return I.Util}}),Object.defineProperty(Pe,"VerbosityLevel",{enumerable:!0,get:function(){return I.VerbosityLevel}}),Object.defineProperty(Pe,"XfaLayer",{enumerable:!0,get:function(){return C.XfaLayer}}),Object.defineProperty(Pe,"build",{enumerable:!0,get:function(){return ae.build}}),Object.defineProperty(Pe,"createPromiseCapability",{enumerable:!0,get:function(){return I.createPromiseCapability}}),Object.defineProperty(Pe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return I.createValidAbsoluteUrl}}),Object.defineProperty(Pe,"getDocument",{enumerable:!0,get:function(){return ae.getDocument}}),Object.defineProperty(Pe,"getFilenameFromUrl",{enumerable:!0,get:function(){return k.getFilenameFromUrl}}),Object.defineProperty(Pe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return k.getPdfFilenameFromUrl}}),Object.defineProperty(Pe,"getXfaPageViewport",{enumerable:!0,get:function(){return k.getXfaPageViewport}}),Object.defineProperty(Pe,"isPdfFile",{enumerable:!0,get:function(){return k.isPdfFile}}),Object.defineProperty(Pe,"loadScript",{enumerable:!0,get:function(){return k.loadScript}}),Object.defineProperty(Pe,"renderTextLayer",{enumerable:!0,get:function(){return v.renderTextLayer}}),Object.defineProperty(Pe,"shadow",{enumerable:!0,get:function(){return I.shadow}}),Object.defineProperty(Pe,"version",{enumerable:!0,get:function(){return ae.version}});var I=__w_pdfjs_require__(1),ae=__w_pdfjs_require__(4),k=__w_pdfjs_require__(8),q=__w_pdfjs_require__(22),ve=__w_pdfjs_require__(7),ce=__w_pdfjs_require__(27),be=__w_pdfjs_require__(15),Q=__w_pdfjs_require__(3),v=__w_pdfjs_require__(30),T=__w_pdfjs_require__(31),C=__w_pdfjs_require__(29);if(Q.isNodeJS){const{PDFNodeStream:D}=__w_pdfjs_require__(32);(0,ae.setPDFNetworkStreamFactory)(E=>new D(E))}else{const{PDFNetworkStream:D}=__w_pdfjs_require__(35),{PDFFetchStream:E}=__w_pdfjs_require__(36);(0,ae.setPDFNetworkStreamFactory)(w=>(0,k.isValidFetchUrl)(w.url)?new E(w):new D(w))}})(),__nested_webpack_exports__})(),module.exports=ae()},16:(Pe,I,ae)=>{var k=ae(156).default;globalThis,Pe.exports=(()=>{"use strict";var q=[,(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DefaultXfaLayerFactory=v.DefaultTextLayerFactory=v.DefaultStructTreeLayerFactory=v.DefaultAnnotationLayerFactory=v.DefaultAnnotationEditorLayerFactory=void 0;var C=T(2),A=T(5),U=T(4),D=T(6),E=T(8),w=T(9),V=T(10);v.DefaultAnnotationLayerFactory=class L{createAnnotationLayerBuilder({pageDiv:ee,pdfPage:ie,annotationStorage:fe=null,imageResourcesPath:de="",renderForms:Oe=!0,l10n:Me=U.NullL10n,enableScripting:G=!1,hasJSActionsPromise:te=null,mouseState:oe=null,fieldObjectsPromise:J=null,annotationCanvasMap:Z=null,accessibilityManager:O=null}){return new A.AnnotationLayerBuilder({pageDiv:ee,pdfPage:ie,imageResourcesPath:de,renderForms:Oe,linkService:new D.SimpleLinkService,l10n:Me,annotationStorage:fe,enableScripting:G,hasJSActionsPromise:te,fieldObjectsPromise:J,mouseState:oe,annotationCanvasMap:Z,accessibilityManager:O})}},v.DefaultAnnotationEditorLayerFactory=class P{createAnnotationEditorLayerBuilder({uiManager:ee=null,pageDiv:ie,pdfPage:fe,accessibilityManager:de=null,l10n:Oe,annotationStorage:Me=null}){return new C.AnnotationEditorLayerBuilder({uiManager:ee,pageDiv:ie,pdfPage:fe,accessibilityManager:de,l10n:Oe,annotationStorage:Me})}},v.DefaultStructTreeLayerFactory=class M{createStructTreeLayerBuilder({pdfPage:ee}){return new E.StructTreeLayerBuilder({pdfPage:ee})}},v.DefaultTextLayerFactory=class g{createTextLayerBuilder({textLayerDiv:ee,pageIndex:ie,viewport:fe,enhanceTextSelection:de=!1,eventBus:Oe,highlighter:Me,accessibilityManager:G=null}){return new w.TextLayerBuilder({textLayerDiv:ee,pageIndex:ie,viewport:fe,enhanceTextSelection:de,eventBus:Oe,highlighter:Me,accessibilityManager:G})}},v.DefaultXfaLayerFactory=class y{createXfaLayerBuilder({pageDiv:ee,pdfPage:ie,annotationStorage:fe=null}){return new V.XfaLayerBuilder({pageDiv:ee,pdfPage:ie,annotationStorage:fe,linkService:new D.SimpleLinkService})}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationEditorLayerBuilder=void 0;var C=T(3),A=T(4);v.AnnotationEditorLayerBuilder=class U{#e;constructor(E){this.pageDiv=E.pageDiv,this.pdfPage=E.pdfPage,this.annotationStorage=E.annotationStorage||null,this.accessibilityManager=E.accessibilityManager,this.l10n=E.l10n||A.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#e=E.uiManager}render(E,w="display"){var V=this;return k(function*(){if("display"!==w||V._cancelled)return;const L=E.clone({dontFlip:!0});if(V.div)return V.annotationEditorLayer.update({viewport:L}),void V.show();V.div=document.createElement("div"),V.div.className="annotationEditorLayer",V.div.tabIndex=0,V.pageDiv.append(V.div),V.annotationEditorLayer=new C.AnnotationEditorLayer({uiManager:V.#e,div:V.div,annotationStorage:V.annotationStorage,accessibilityManager:V.accessibilityManager,pageIndex:V.pdfPage._pageIndex,l10n:V.l10n,viewport:L}),V.annotationEditorLayer.render({viewport:L,div:V.div,annotations:null,intent:w})})()}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},Q=>{let v;v=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ae(627),Q.exports=v},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NullL10n=void 0,v.fixupLangCode=function U(w){return A[w?.toLowerCase()]||w},v.getL10nFallback=C;const T={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function C(w,V){switch(w){case"find_match_count":w=`find_match_count[${1===V.total?"one":"other"}]`;break;case"find_match_count_limit":w=`find_match_count_limit[${1===V.limit?"one":"other"}]`}return T[w]||""}const A={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};v.NullL10n={getLanguage:()=>k(function*(){return"en-us"})(),getDirection:()=>k(function*(){return"ltr"})(),get:(w,V=null,L=C(w,V))=>k(function*(){return function D(w,V){return V?w.replace(/\{\{\s*(\w+)\s*\}\}/g,(L,P)=>P in V?V[P]:"{{"+P+"}}"):w}(L,V)})(),translate:w=>k(function*(){})()}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationLayerBuilder=void 0;var C=T(3),A=T(4);v.AnnotationLayerBuilder=class U{constructor({pageDiv:E,pdfPage:w,linkService:V,downloadManager:L,annotationStorage:P=null,imageResourcesPath:M="",renderForms:g=!0,l10n:y=A.NullL10n,enableScripting:N=!1,hasJSActionsPromise:ee=null,fieldObjectsPromise:ie=null,mouseState:fe=null,annotationCanvasMap:de=null,accessibilityManager:Oe=null}){this.pageDiv=E,this.pdfPage=w,this.linkService=V,this.downloadManager=L,this.imageResourcesPath=M,this.renderForms=g,this.l10n=y,this.annotationStorage=P,this.enableScripting=N,this._hasJSActionsPromise=ee,this._fieldObjectsPromise=ie,this._mouseState=fe,this._annotationCanvasMap=de,this._accessibilityManager=Oe,this.div=null,this._cancelled=!1}render(E,w="display"){var V=this;return k(function*(){const[L,P=!1,M=null]=yield Promise.all([V.pdfPage.getAnnotations({intent:w}),V._hasJSActionsPromise,V._fieldObjectsPromise]);if(V._cancelled||0===L.length)return;const g={viewport:E.clone({dontFlip:!0}),div:V.div,annotations:L,page:V.pdfPage,imageResourcesPath:V.imageResourcesPath,renderForms:V.renderForms,linkService:V.linkService,downloadManager:V.downloadManager,annotationStorage:V.annotationStorage,enableScripting:V.enableScripting,hasJSActions:P,fieldObjects:M,mouseState:V._mouseState,annotationCanvasMap:V._annotationCanvasMap,accessibilityManager:V._accessibilityManager};V.div?C.AnnotationLayer.update(g):(V.div=document.createElement("div"),V.div.className="annotationLayer",V.pageDiv.append(V.div),g.div=V.div,C.AnnotationLayer.render(g),V.l10n.translate(V.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SimpleLinkService=v.PDFLinkService=v.LinkTarget=void 0;var C=T(7);const U={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function D(V,{url:L,target:P,rel:M,enabled:g=!0}={}){if(!L||"string"!=typeof L)throw new Error('A valid "url" parameter must provided.');const y=(0,C.removeNullCharacters)(L);g?V.href=V.title=y:(V.href="",V.title=`Disabled: ${y}`,V.onclick=()=>!1);let N="";switch(P){case U.NONE:break;case U.SELF:N="_self";break;case U.BLANK:N="_blank";break;case U.PARENT:N="_parent";break;case U.TOP:N="_top"}V.target=N,V.rel="string"==typeof M?M:"noopener noreferrer nofollow"}v.LinkTarget=U;class E{#e=new Map;constructor({eventBus:L,externalLinkTarget:P=null,externalLinkRel:M=null,ignoreDestinationZoom:g=!1}={}){this.eventBus=L,this.externalLinkTarget=P,this.externalLinkRel=M,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=g,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(L,P=null){this.baseUrl=P,this.pdfDocument=L,this.#e.clear()}setViewer(L){this.pdfViewer=L}setHistory(L){this.pdfHistory=L}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(L){this.pdfViewer.currentPageNumber=L}get rotation(){return this.pdfViewer.pagesRotation}set rotation(L){this.pdfViewer.pagesRotation=L}#t(L,P=null,M){const g=M[0];let y;if("object"==typeof g&&null!==g){if(y=this._cachedPageNumber(g),!y)return void this.pdfDocument.getPageIndex(g).then(N=>{this.cachePageRef(N+1,g),this.#t(L,P,M)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${g}" is not a valid page reference, for dest="${L}".`)})}else{if(!Number.isInteger(g))return void console.error(`PDFLinkService.#goToDestinationHelper: "${g}" is not a valid destination reference, for dest="${L}".`);y=g+1}!y||y<1||y>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${y}" is not a valid page number, for dest="${L}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:P,explicitDest:M,pageNumber:y})),this.pdfViewer.scrollPageIntoView({pageNumber:y,destArray:M,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(L){var P=this;return k(function*(){if(!P.pdfDocument)return;let M,g;"string"==typeof L?(M=L,g=yield P.pdfDocument.getDestination(L)):(M=null,g=yield L),Array.isArray(g)?P.#t(L,M,g):console.error(`PDFLinkService.goToDestination: "${g}" is not a valid destination array, for dest="${L}".`)})()}goToPage(L){if(!this.pdfDocument)return;const P="string"==typeof L&&this.pdfViewer.pageLabelToPageNumber(L)||0|L;Number.isInteger(P)&&P>0&&P<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(P)),this.pdfViewer.scrollPageIntoView({pageNumber:P})):console.error(`PDFLinkService.goToPage: "${L}" is not a valid page.`)}addLinkAttributes(L,P,M=!1){D(L,{url:P,target:M?U.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(L){if("string"==typeof L){if(L.length>0)return this.getAnchorUrl("#"+escape(L))}else if(Array.isArray(L)){const P=JSON.stringify(L);if(P.length>0)return this.getAnchorUrl("#"+escape(P))}return this.getAnchorUrl("")}getAnchorUrl(L){return(this.baseUrl||"")+L}setHash(L){if(!this.pdfDocument)return;let P,M;if(L.includes("=")){const g=(0,C.parseQueryString)(L);if(g.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:g.get("search").replace(/"/g,""),phraseSearch:"true"===g.get("phrase")}),g.has("page")&&(P=0|g.get("page")||1),g.has("zoom")){const y=g.get("zoom").split(","),N=y[0],ee=parseFloat(N);N.includes("Fit")?"Fit"===N||"FitB"===N?M=[null,{name:N}]:"FitH"===N||"FitBH"===N||"FitV"===N||"FitBV"===N?M=[null,{name:N},y.length>1?0|y[1]:null]:"FitR"===N?5!==y.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):M=[null,{name:N},0|y[1],0|y[2],0|y[3],0|y[4]]:console.error(`PDFLinkService.setHash: "${N}" is not a valid zoom value.`):M=[null,{name:"XYZ"},y.length>1?0|y[1]:null,y.length>2?0|y[2]:null,ee?ee/100:N]}M?this.pdfViewer.scrollPageIntoView({pageNumber:P||this.page,destArray:M,allowNegativeOffset:!0}):P&&(this.page=P),g.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:g.get("pagemode")}),g.has("nameddest")&&this.goToDestination(g.get("nameddest"))}else{M=unescape(L);try{M=JSON.parse(M),Array.isArray(M)||(M=M.toString())}catch{}if("string"==typeof M||E.#n(M))return void this.goToDestination(M);console.error(`PDFLinkService.setHash: "${unescape(L)}" is not a valid destination.`)}}executeNamedAction(L){switch(L){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:L})}cachePageRef(L,P){P&&this.#e.set(0===P.gen?`${P.num}R`:`${P.num}R${P.gen}`,L)}_cachedPageNumber(L){return L&&this.#e.get(0===L.gen?`${L.num}R`:`${L.num}R${L.gen}`)||null}isPageVisible(L){return this.pdfViewer.isPageVisible(L)}isPageCached(L){return this.pdfViewer.isPageCached(L)}static#n(L){if(!Array.isArray(L))return!1;const P=L.length;if(P<2)return!1;const M=L[0];if(!("object"==typeof M&&Number.isInteger(M.num)&&Number.isInteger(M.gen)||Number.isInteger(M)&&M>=0))return!1;const g=L[1];if("object"!=typeof g||"string"!=typeof g.name)return!1;let y=!0;switch(g.name){case"XYZ":if(5!==P)return!1;break;case"Fit":case"FitB":return 2===P;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==P)return!1;break;case"FitR":if(6!==P)return!1;y=!1;break;default:return!1}for(let N=2;N<P;N++){const ee=L[N];if(!("number"==typeof ee||y&&null===ee))return!1}return!0}}v.PDFLinkService=E,v.SimpleLinkService=class w{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(L){}get rotation(){return 0}set rotation(L){}goToDestination(L){return k(function*(){})()}goToPage(L){}addLinkAttributes(L,P,M=!1){D(L,{url:P,enabled:this.externalLinkEnabled})}getDestinationHash(L){return"#"}getAnchorUrl(L){return"#"}setHash(L){}executeNamedAction(L){}cachePageRef(L,P){}isPageVisible(L){return!0}isPageCached(L){return!0}}},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.animationStarted=v.VERTICAL_PADDING=v.UNKNOWN_SCALE=v.TextLayerMode=v.SpreadMode=v.SidebarView=v.ScrollMode=v.SCROLLBAR_PADDING=v.RenderingStates=v.RendererType=v.ProgressBar=v.PresentationModeState=v.OutputScale=v.MIN_SCALE=v.MAX_SCALE=v.MAX_AUTO_SCALE=v.DEFAULT_SCALE_VALUE=v.DEFAULT_SCALE_DELTA=v.DEFAULT_SCALE=v.AutoPrintRegExp=void 0,v.apiPageLayoutToViewerModes=function Ne(we){let Ie=ee.VERTICAL,qe=ie.NONE;switch(we){case"SinglePage":Ie=ee.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ie=ee.PAGE;case"TwoColumnLeft":qe=ie.ODD;break;case"TwoPageRight":Ie=ee.PAGE;case"TwoColumnRight":qe=ie.EVEN}return{scrollMode:Ie,spreadMode:qe}},v.apiPageModeToSidebarView=function He(we){switch(we){case"UseNone":return g.NONE;case"UseThumbs":return g.THUMBS;case"UseOutlines":return g.OUTLINE;case"UseAttachments":return g.ATTACHMENTS;case"UseOC":return g.LAYERS}return g.NONE},v.approximateFraction=function O(we){if(Math.floor(we)===we)return[we,1];const Ie=1/we;if(Ie>8)return[1,8];if(Math.floor(Ie)===Ie)return[1,Ie];const Te=we>1?Ie:we;let ft,lt=0,ct=1,et=1,bt=1;for(;;){const Jt=lt+et,dn=ct+bt;if(dn>8)break;Te<=Jt/dn?(et=Jt,bt=dn):(lt=Jt,ct=dn)}return ft=Te-lt/ct<et/bt-Te?Te===we?[lt,ct]:[ct,lt]:Te===we?[et,bt]:[bt,et],ft},v.backtrackBeforeAllVisibleElements=z,v.binarySearchFirstItem=Z,v.docStyle=void 0,v.getActiveOrFocusedElement=function xe(){let we=document,Ie=we.activeElement||we.querySelector(":focus");for(;Ie?.shadowRoot;)we=Ie.shadowRoot,Ie=we.activeElement||we.querySelector(":focus");return Ie},v.getPageSizeInches=function S({view:we,userUnit:Ie,rotate:qe}){const[Te,lt,ct,et]=we,bt=qe%180!=0,ft=(ct-Te)/72*Ie,Jt=(et-lt)/72*Ie;return{width:bt?Jt:ft,height:bt?ft:Jt}},v.getVisibleElements=function B({scrollEl:we,views:Ie,sortByVisibility:qe=!1,horizontal:Te=!1,rtl:lt=!1}){const ct=we.scrollTop,et=ct+we.clientHeight,bt=we.scrollLeft,ft=bt+we.clientWidth,kn=[],un=new Set,Yt=Ie.length;let Yi=Z(Ie,Te?function dn(pi){const Xn=pi.div,Ve=Xn.offsetLeft+Xn.clientLeft;return lt?Ve<ft:Ve+Xn.clientWidth>bt}:function Jt(pi){const Xn=pi.div;return Xn.offsetTop+Xn.clientTop+Xn.clientHeight>ct});Yi>0&&Yi<Yt&&!Te&&(Yi=z(Yi,Ie,ct));let vr=Te?ft:-1;for(let pi=Yi;pi<Yt;pi++){const Xn=Ie[pi],Ve=Xn.div,De=Ve.offsetLeft+Ve.clientLeft,Se=Ve.offsetTop+Ve.clientTop,nt=Ve.clientWidth,At=Ve.clientHeight,Nt=De+nt,Ct=Se+At;if(-1===vr)Ct>=et&&(vr=Ct);else if((Te?De:Se)>vr)break;if(Ct<=ct||Se>=et||Nt<=bt||De>=ft)continue;const yr=Math.max(0,ct-Se)+Math.max(0,Ct-et),Zn=(nt-(Math.max(0,bt-De)+Math.max(0,Nt-ft)))/nt;kn.push({id:Xn.id,x:De,y:Se,view:Xn,percent:(At-yr)/At*Zn*100|0,widthPercent:100*Zn|0}),un.add(Xn.id)}const Or=kn[0],zo=kn.at(-1);return qe&&kn.sort(function(pi,Xn){const Ve=pi.percent-Xn.percent;return Math.abs(Ve)>.001?-Ve:pi.id-Xn.id}),{first:Or,last:zo,views:kn,ids:un}},v.isPortraitOrientation=function Y(we){return we.width<=we.height},v.isValidRotation=function ne(we){return Number.isInteger(we)&&we%90==0},v.isValidScrollMode=function se(we){return Number.isInteger(we)&&Object.values(ee).includes(we)&&we!==ee.UNKNOWN},v.isValidSpreadMode=function he(we){return Number.isInteger(we)&&Object.values(ie).includes(we)&&we!==ie.UNKNOWN},v.noContextMenuHandler=function p(we){we.preventDefault()},v.normalizeWheelEventDelta=function W(we){let Ie=R(we);return 0===we.deltaMode?Ie/=900:1===we.deltaMode&&(Ie/=30),Ie},v.normalizeWheelEventDirection=R,v.parseQueryString=function G(we){const Ie=new Map;for(const[qe,Te]of new URLSearchParams(we))Ie.set(qe.toLowerCase(),Te);return Ie},v.removeNullCharacters=function J(we,Ie=!1){return"string"!=typeof we?(console.error("The argument must be a string."),we):(Ie&&(we=we.replace(oe," ")),we.replace(te,""))},v.roundToDivide=function _(we,Ie){const qe=we%Ie;return 0===qe?we:Math.round(we-qe+Ie)},v.scrollIntoView=function Oe(we,Ie,qe=!1){let Te=we.offsetParent;if(!Te)return void console.error("offsetParent is not set -- cannot scroll");let lt=we.offsetTop+we.clientTop,ct=we.offsetLeft+we.clientLeft;for(;Te.clientHeight===Te.scrollHeight&&Te.clientWidth===Te.scrollWidth||qe&&(Te.classList.contains("markedContent")||"hidden"===getComputedStyle(Te).overflow);)if(lt+=Te.offsetTop,ct+=Te.offsetLeft,Te=Te.offsetParent,!Te)return;Ie&&(void 0!==Ie.top&&(lt+=Ie.top),void 0!==Ie.left&&(ct+=Ie.left,Te.scrollLeft=ct)),Te.scrollTop=lt},v.watchScroll=function Me(we,Ie){const qe=function(ct){lt||(lt=window.requestAnimationFrame(function(){lt=null;const bt=we.scrollLeft,ft=Te.lastX;bt!==ft&&(Te.right=bt>ft),Te.lastX=bt;const Jt=we.scrollTop,dn=Te.lastY;Jt!==dn&&(Te.down=Jt>dn),Te.lastY=Jt,Ie(Te)}))},Te={right:!0,down:!0,lastX:we.scrollLeft,lastY:we.scrollTop,_eventHandler:qe};let lt=null;return we.addEventListener("scroll",qe,!0),Te},v.DEFAULT_SCALE_VALUE="auto",v.DEFAULT_SCALE=1,v.DEFAULT_SCALE_DELTA=1.1,v.MIN_SCALE=.1,v.MAX_SCALE=10,v.UNKNOWN_SCALE=0,v.MAX_AUTO_SCALE=1.25,v.SCROLLBAR_PADDING=40,v.VERTICAL_PADDING=5,v.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},v.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const g={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};v.SidebarView=g,v.RendererType={CANVAS:"canvas",SVG:"svg"},v.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const ee={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};v.ScrollMode=ee;const ie={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};v.SpreadMode=ie,v.AutoPrintRegExp=/\bprint\s*\(/,v.OutputScale=class de{constructor(){const Ie=window.devicePixelRatio||1;this.sx=Ie,this.sy=Ie}get scaled(){return 1!==this.sx||1!==this.sy}};const te=/\x00/g,oe=/[\x01-\x1F]/g;function Z(we,Ie,qe=0){let Te=qe,lt=we.length-1;if(lt<0||!Ie(we[lt]))return we.length;if(Ie(we[Te]))return Te;for(;Te<lt;){const ct=Te+lt>>1;Ie(we[ct])?lt=ct:Te=ct+1}return Te}function z(we,Ie,qe){if(we<2)return we;let Te=Ie[we].div,lt=Te.offsetTop+Te.clientTop;lt>=qe&&(Te=Ie[we-1].div,lt=Te.offsetTop+Te.clientTop);for(let ct=we-2;ct>=0&&(Te=Ie[ct].div,!(Te.offsetTop+Te.clientTop+Te.clientHeight<=lt));--ct)we=ct;return we}function R(we){let Ie=Math.hypot(we.deltaX,we.deltaY);const qe=Math.atan2(we.deltaY,we.deltaX);return-.25*Math.PI<qe&&qe<.75*Math.PI&&(Ie=-Ie),Ie}const re=new Promise(function(we){window.requestAnimationFrame(we)});v.animationStarted=re;const ue=document.documentElement.style;v.docStyle=ue,v.ProgressBar=class Ce{#e=null;#t=0;#n=!0;constructor(Ie){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const qe=document.getElementById(Ie);this.#e=qe.classList}get percent(){return this.#t}set percent(Ie){this.#t=function pe(we,Ie,qe){return Math.min(Math.max(we,Ie),qe)}(Ie,0,100),isNaN(Ie)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),ue.setProperty("--progressBar-percent",`${this.#t}%`))}setWidth(Ie){if(!Ie)return;const Te=Ie.parentNode.offsetWidth-Ie.offsetWidth;Te>0&&ue.setProperty("--progressBar-end-offset",`${Te}px`)}hide(){this.#n&&(this.#n=!1,this.#e.add("hidden"))}show(){this.#n||(this.#n=!0,this.#e.remove("hidden"))}}},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StructTreeLayerBuilder=void 0;const T={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},C=/^H(\d+)$/;v.StructTreeLayerBuilder=class A{constructor({pdfPage:D}){this.pdfPage=D}render(D){return this._walk(D)}_setAttributes(D,E){void 0!==D.alt&&E.setAttribute("aria-label",D.alt),void 0!==D.id&&E.setAttribute("aria-owns",D.id),void 0!==D.lang&&E.setAttribute("lang",D.lang)}_walk(D){if(!D)return null;const E=document.createElement("span");if("role"in D){const{role:w}=D,V=w.match(C);V?(E.setAttribute("role","heading"),E.setAttribute("aria-level",V[1])):T[w]&&E.setAttribute("role",T[w])}if(this._setAttributes(D,E),D.children)if(1===D.children.length&&"id"in D.children[0])this._setAttributes(D.children[0],E);else for(const w of D.children)E.append(this._walk(w));return E}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TextLayerBuilder=void 0;var C=T(3);v.TextLayerBuilder=class U{constructor({textLayerDiv:E,eventBus:w,pageIndex:V,viewport:L,highlighter:P=null,enhanceTextSelection:M=!1,accessibilityManager:g=null}){this.textLayerDiv=E,this.eventBus=w,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=V+1,this.viewport=L,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=P,this.enhanceTextSelection=M,this.accessibilityManager=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const E=document.createElement("div");E.className="endOfContent",this.textLayerDiv.append(E)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(E=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);const w=document.createDocumentFragment();this.textLayerRenderTask=(0,C.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:w,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:E,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(w),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(V){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(E){this.cancel(),this.textContentStream=E}setTextContent(E){this.cancel(),this.textContent=E}_bindMouse(){const E=this.textLayerDiv;let w=null;E.addEventListener("mousedown",V=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(w&&(clearTimeout(w),w=null));const L=E.querySelector(".endOfContent");if(!L)return;let P=V.target!==E;if(P=P&&"none"!==window.getComputedStyle(L).getPropertyValue("-moz-user-select"),P){const M=E.getBoundingClientRect(),g=Math.max(0,(V.pageY-M.top)/M.height);L.style.top=(100*g).toFixed(2)+"%"}L.classList.add("active")}),E.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(w=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),w=null},300));const V=E.querySelector(".endOfContent");V&&(V.style.top="",V.classList.remove("active"))})}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XfaLayerBuilder=void 0;var C=T(3);v.XfaLayerBuilder=class A{constructor({pageDiv:D,pdfPage:E,annotationStorage:w=null,linkService:V,xfaHtml:L=null}){this.pageDiv=D,this.pdfPage=E,this.annotationStorage=w,this.linkService=V,this.xfaHtml=L,this.div=null,this._cancelled=!1}render(D,E="display"){if("print"===E){const w={viewport:D.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E},V=document.createElement("div");this.pageDiv.append(V),w.div=V;const L=C.XfaLayer.render(w);return Promise.resolve(L)}return this.pdfPage.getXfa().then(w=>{if(this._cancelled||!w)return{textDivs:[]};const V={viewport:D.clone({dontFlip:!0}),div:this.div,xfaHtml:w,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E};return this.div?C.XfaLayer.update(V):(this.div=document.createElement("div"),this.pageDiv.append(this.div),V.div=this.div,C.XfaLayer.render(V))}).catch(w=>{console.error(w)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFViewer=v.PDFSinglePageViewer=void 0;var C=T(7),A=T(12);v.PDFViewer=class U extends A.BaseViewer{},v.PDFSinglePageViewer=class D extends A.BaseViewer{_resetView(){super._resetView(),this._scrollMode=C.ScrollMode.PAGE,this._spreadMode=C.SpreadMode.NONE}set scrollMode(w){}_updateScrollMode(){}set spreadMode(w){}_updateSpreadMode(){}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PagesCountLimit=v.PDFPageViewBuffer=v.BaseViewer=void 0;var C=T(3),A=T(7),U=T(2),D=T(5),E=T(4),w=T(13),V=T(16),L=T(6),P=T(8),M=T(17),g=T(9),y=T(10);const ee="enablePermissions",ie={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function fe(Me){return Object.values(C.AnnotationEditorType).includes(Me)&&Me!==C.AnnotationEditorType.DISABLE}v.PagesCountLimit=ie;class de{#e=new Set;#t=0;constructor(G){this.#t=G}push(G){const te=this.#e;te.has(G)&&te.delete(G),te.add(G),te.size>this.#t&&this.#n()}resize(G,te=null){this.#t=G;const oe=this.#e;if(te){const J=oe.size;let Z=1;for(const O of oe)if(te.has(O.id)&&(oe.delete(O),oe.add(O)),++Z>J)break}for(;oe.size>this.#t;)this.#n()}has(G){return this.#e.has(G)}[Symbol.iterator](){return this.#e.keys()}#n(){const G=this.#e.keys().next().value;G?.destroy(),this.#e.delete(G)}}v.PDFPageViewBuffer=de;class Oe{#e=null;#t=C.AnnotationEditorType.DISABLE;#n=null;#i=C.AnnotationMode.ENABLE_FORMS;#s=!1;#c=0;#a=null;#r=null;constructor(G){if(this.constructor===Oe)throw new Error("Cannot initialize BaseViewer.");const te="2.16.105";if(C.version!==te)throw new Error(`The API version "${C.version}" does not match the Viewer version "${te}".`);if(this.container=G.container,this.viewer=G.viewer||G.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=G.eventBus,this.linkService=G.linkService||new L.SimpleLinkService,this.downloadManager=G.downloadManager||null,this.findController=G.findController||null,this._scriptingManager=G.scriptingManager||null,this.removePageBorders=G.removePageBorders||!1,this.textLayerMode=G.textLayerMode??A.TextLayerMode.ENABLE,this.#i=G.annotationMode??C.AnnotationMode.ENABLE_FORMS,this.#t=G.annotationEditorMode??C.AnnotationEditorType.DISABLE,this.imageResourcesPath=G.imageResourcesPath||"",this.enablePrintAutoRotate=G.enablePrintAutoRotate||!1,this.renderer=G.renderer||A.RendererType.CANVAS,this.useOnlyCssZoom=G.useOnlyCssZoom||!1,this.maxCanvasPixels=G.maxCanvasPixels,this.l10n=G.l10n||E.NullL10n,this.#s=G.enablePermissions||!1,this.pageColors=G.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!G.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new V.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=G.renderingQueue,this.scroll=(0,A.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=A.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(G){return this._pages[G]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(G){return G?.pdfPage})}get renderForms(){return this.#i===C.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(G){if(!Number.isInteger(G))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(G,!0)||console.error(`currentPageNumber: "${G}" is not a valid page.`))}_setCurrentPageNumber(G,te=!1){if(this._currentPageNumber===G)return te&&this.#f(),!0;if(!(0<G&&G<=this.pagesCount))return!1;const oe=this._currentPageNumber;return this._currentPageNumber=G,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:G,pageLabel:this._pageLabels?.[G-1]??null,previous:oe}),te&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(G){if(!this.pdfDocument)return;let te=0|G;if(this._pageLabels){const oe=this._pageLabels.indexOf(G);oe>=0&&(te=oe+1)}this._setCurrentPageNumber(te,!0)||console.error(`currentPageLabel: "${G}" is not a valid page.`)}get currentScale(){return this._currentScale!==A.UNKNOWN_SCALE?this._currentScale:A.DEFAULT_SCALE}set currentScale(G){if(isNaN(G))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(G,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(G){this.pdfDocument&&this._setScale(G,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(G){if(!(0,A.isValidRotation)(G))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((G%=360)<0&&(G+=360),this._pagesRotation===G))return;this._pagesRotation=G;const te=this._currentPageNumber,oe={rotation:G};for(const J of this._pages)J.update(oe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:G,pageNumber:te}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(G){const te={annotationEditorMode:this.#t,annotationMode:this.#i,textLayerMode:this.textLayerMode};return G&&(G.includes(C.PermissionFlag.COPY)||this.viewer.classList.add(ee),G.includes(C.PermissionFlag.MODIFY_CONTENTS)||(te.annotationEditorMode=C.AnnotationEditorType.DISABLE),!G.includes(C.PermissionFlag.MODIFY_ANNOTATIONS)&&!G.includes(C.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#i===C.AnnotationMode.ENABLE_FORMS&&(te.annotationMode=C.AnnotationMode.ENABLE)),te}#d(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const G=new Promise(te=>{this.#r=()=>{"hidden"===document.visibilityState&&(te(),document.removeEventListener("visibilitychange",this.#r),this.#r=null)},document.addEventListener("visibilitychange",this.#r)});return Promise.race([this._onePageRenderedCapability.promise,G])}setDocument(G){var te=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=G,!G)return;const oe=G.isPureXfa,J=G.numPages,Z=G.getPage(1),O=G.getOptionalContentConfig(),_=this.#s?G.getPermissions():Promise.resolve();if(J>ie.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const S=this._scrollMode=A.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:S})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:J})},()=>{}),this._onBeforeDraw=S=>{const z=this._pages[S.pageNumber-1];z&&this.#e.push(z)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=S=>{S.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:S.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#r&&(document.removeEventListener("visibilitychange",this.#r),this.#r=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Z,_]).then(([S,z])=>{if(G!==this.pdfDocument)return;this._firstPageCapability.resolve(S),this._optionalContentConfigPromise=O;const{annotationEditorMode:B,annotationMode:p,textLayerMode:R}=this.#h(z);if(B!==C.AnnotationEditorType.DISABLE){const Ce=B;oe?console.warn("Warning: XFA-editing is not implemented."):fe(Ce)?(this.#n=new C.AnnotationEditorUIManager(this.container,this.eventBus),Ce!==C.AnnotationEditorType.NONE&&this.#n.updateMode(Ce)):console.error(`Invalid AnnotationEditor mode: ${Ce}`)}const W=this._scrollMode===A.ScrollMode.PAGE?null:this.viewer,ne=this.currentScale,se=S.getViewport({scale:ne*C.PixelsPerInch.PDF_TO_CSS_UNITS}),he=R===A.TextLayerMode.DISABLE||oe?null:this,Y=p!==C.AnnotationMode.DISABLE?this:null,re=oe?this:null,ue=this.#n?this:null;for(let Ce=1;Ce<=J;++Ce){const xe=new w.PDFPageView({container:W,eventBus:this.eventBus,id:Ce,scale:ne,defaultViewport:se.clone(),optionalContentConfigPromise:O,renderingQueue:this.renderingQueue,textLayerFactory:he,textLayerMode:R,annotationLayerFactory:Y,annotationMode:p,xfaLayerFactory:re,annotationEditorLayerFactory:ue,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(xe)}const pe=this._pages[0];pe&&(pe.setPdfPage(S),this.linkService.cachePageRef(1,S.ref)),this._scrollMode===A.ScrollMode.PAGE?this.#l():this._spreadMode!==A.SpreadMode.NONE&&this._updateSpreadMode(),this.#d().then(k(function*(){if(te.findController&&te.findController.setDocument(G),te._scriptingManager&&te._scriptingManager.setDocument(G),te.#n&&te.eventBus.dispatch("annotationeditormodechanged",{source:te,mode:te.#t}),G.loadingParams.disableAutoFetch||J>ie.FORCE_LAZY_PAGE_INIT)return void te._pagesCapability.resolve();let Ce=J-1;if(Ce<=0)te._pagesCapability.resolve();else for(let xe=2;xe<=J;++xe){const Ne=G.getPage(xe).then(He=>{const we=te._pages[xe-1];we.pdfPage||we.setPdfPage(He),te.linkService.cachePageRef(xe,He.ref),0==--Ce&&te._pagesCapability.resolve()},He=>{console.error(`Unable to get page ${xe} to initialize viewer`,He),0==--Ce&&te._pagesCapability.resolve()});xe%ie.PAUSE_EAGER_PAGE_INIT==0&&(yield Ne)}})),this.eventBus.dispatch("pagesinit",{source:this}),G.getMetadata().then(({info:Ce})=>{G===this.pdfDocument&&Ce.Language&&(this.viewer.lang=Ce.Language)}),this.defaultRenderingQueue&&this.update()}).catch(S=>{console.error("Unable to initialize viewer",S),this._pagesCapability.reject(S)})}setPageLabels(G){if(this.pdfDocument){G?Array.isArray(G)&&this.pdfDocument.numPages===G.length?this._pageLabels=G:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let te=0,oe=this._pages.length;te<oe;te++)this._pages[te].setPageLabel(this._pageLabels?.[te]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=A.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new de(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,C.createPromiseCapability)(),this._onePageRenderedCapability=(0,C.createPromiseCapability)(),this._pagesCapability=(0,C.createPromiseCapability)(),this._scrollMode=A.ScrollMode.VERTICAL,this._previousScrollMode=A.ScrollMode.UNKNOWN,this._spreadMode=A.SpreadMode.NONE,this.#a={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#r&&(document.removeEventListener("visibilitychange",this.#r),this.#r=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(ee)}#l(){if(this._scrollMode!==A.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const G=this._currentPageNumber,te=this.#a,oe=this.viewer;if(oe.textContent="",te.pages.length=0,this._spreadMode!==A.SpreadMode.NONE||this.isInPresentationMode){const J=new Set,Z=this._spreadMode-1;-1===Z?J.add(G-1):G%2!==Z?(J.add(G-1),J.add(G)):(J.add(G-2),J.add(G-1));const O=document.createElement("div");if(O.className="spread",this.isInPresentationMode){const _=document.createElement("div");_.className="dummyPage",O.append(_)}for(const _ of J){const S=this._pages[_];S&&(O.append(S.div),te.pages.push(S))}oe.append(O)}else{const J=this._pages[G-1];oe.append(J.div),te.pages.push(J)}te.scrollDown=G>=te.previousPageNumber,te.previousPageNumber=G}_scrollUpdate(){0!==this.pagesCount&&this.update()}#o(G,te=null){const{div:oe,id:J}=G;if(this._scrollMode===A.ScrollMode.PAGE&&(this._setCurrentPageNumber(J),this.#l(),this.update()),!te&&!this.isInPresentationMode){const Z=oe.offsetLeft+oe.clientLeft,O=Z+oe.clientWidth,{scrollLeft:_,clientWidth:S}=this.container;(this._scrollMode===A.ScrollMode.HORIZONTAL||Z<_||O>_+S)&&(te={left:0,top:0})}(0,A.scrollIntoView)(oe,te)}#p(G){return G===this._currentScale||Math.abs(G-this._currentScale)<1e-15}_setScaleUpdatePages(G,te,oe=!1,J=!1){if(this._currentScaleValue=te.toString(),this.#p(G))return void(J&&this.eventBus.dispatch("scalechanging",{source:this,scale:G,presetValue:te}));A.docStyle.setProperty("--scale-factor",G*C.PixelsPerInch.PDF_TO_CSS_UNITS);const Z={scale:G};for(const O of this._pages)O.update(Z);if(this._currentScale=G,!oe){let _,O=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,_=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:_,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:G,presetValue:J?te:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL?2:1}_setScale(G,te=!1){let oe=parseFloat(G);if(oe>0)this._setScaleUpdatePages(oe,G,te,!1);else{const J=this._pages[this._currentPageNumber-1];if(!J)return;let Z=A.SCROLLBAR_PADDING,O=A.VERTICAL_PADDING;this.isInPresentationMode?Z=O=4:this.removePageBorders?Z=O=0:this._scrollMode===A.ScrollMode.HORIZONTAL&&([Z,O]=[O,Z]);const _=(this.container.clientWidth-Z)/J.width*J.scale/this._pageWidthScaleFactor,S=(this.container.clientHeight-O)/J.height*J.scale;switch(G){case"page-actual":oe=1;break;case"page-width":oe=_;break;case"page-height":oe=S;break;case"page-fit":oe=Math.min(_,S);break;case"auto":const z=(0,A.isPortraitOrientation)(J)?_:Math.min(S,_);oe=Math.min(A.MAX_AUTO_SCALE,z);break;default:return void console.error(`_setScale: "${G}" is an unknown zoom value.`)}this._setScaleUpdatePages(oe,G,te,!0)}}#f(){const G=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#o(G)}pageLabelToPageNumber(G){if(!this._pageLabels)return null;const te=this._pageLabels.indexOf(G);return te<0?null:te+1}scrollPageIntoView({pageNumber:G,destArray:te=null,allowNegativeOffset:oe=!1,ignoreDestinationZoom:J=!1}){if(!this.pdfDocument)return;const Z=Number.isInteger(G)&&this._pages[G-1];if(!Z)return void console.error(`scrollPageIntoView: "${G}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!te)return void this._setCurrentPageNumber(G,!0);let B,p,O=0,_=0,S=0,z=0;const R=Z.rotation%180!=0,W=(R?Z.height:Z.width)/Z.scale/C.PixelsPerInch.PDF_TO_CSS_UNITS,ne=(R?Z.width:Z.height)/Z.scale/C.PixelsPerInch.PDF_TO_CSS_UNITS;let se=0;switch(te[1].name){case"XYZ":O=te[2],_=te[3],se=te[4],O=null!==O?O:0,_=null!==_?_:ne;break;case"Fit":case"FitB":se="page-fit";break;case"FitH":case"FitBH":_=te[2],se="page-width",null===_&&this._location?(O=this._location.left,_=this._location.top):("number"!=typeof _||_<0)&&(_=ne);break;case"FitV":case"FitBV":O=te[2],S=W,z=ne,se="page-height";break;case"FitR":O=te[2],_=te[3],S=te[4]-O,z=te[5]-_,B=(this.container.clientWidth-(this.removePageBorders?0:A.SCROLLBAR_PADDING))/S/C.PixelsPerInch.PDF_TO_CSS_UNITS,p=(this.container.clientHeight-(this.removePageBorders?0:A.VERTICAL_PADDING))/z/C.PixelsPerInch.PDF_TO_CSS_UNITS,se=Math.min(Math.abs(B),Math.abs(p));break;default:return void console.error(`scrollPageIntoView: "${te[1].name}" is not a valid destination type.`)}if(J||(se&&se!==this._currentScale?this.currentScaleValue=se:this._currentScale===A.UNKNOWN_SCALE&&(this.currentScaleValue=A.DEFAULT_SCALE_VALUE)),"page-fit"===se&&!te[4])return void this.#o(Z);const he=[Z.viewport.convertToViewportPoint(O,_),Z.viewport.convertToViewportPoint(O+S,_+z)];let Y=Math.min(he[0][0],he[1][0]),re=Math.min(he[0][1],he[1][1]);oe||(Y=Math.max(Y,0),re=Math.max(re,0)),this.#o(Z,{left:Y,top:re})}_updateLocation(G){const te=this._currentScale,oe=this._currentScaleValue,J=parseFloat(oe)===te?Math.round(1e4*te)/100:oe,Z=G.id,_=this.container,S=this._pages[Z-1].getPagePoint(_.scrollLeft-G.x,_.scrollTop-G.y),z=Math.round(S[0]),B=Math.round(S[1]);let p=`#page=${Z}`;this.isInPresentationMode||(p+=`&zoom=${J},${z},${B}`),this._location={pageNumber:Z,scale:J,top:B,left:z,rotation:this._pagesRotation,pdfOpenParams:p}}update(){const G=this._getVisiblePages(),te=G.views,oe=te.length;if(0===oe)return;const J=Math.max(10,2*oe+1);this.#e.resize(J,G.ids),this.renderingQueue.renderHighestPriority(G);const Z=this._spreadMode===A.SpreadMode.NONE&&(this._scrollMode===A.ScrollMode.PAGE||this._scrollMode===A.ScrollMode.VERTICAL),O=this._currentPageNumber;let _=!1;for(const S of te){if(S.percent<100)break;if(S.id===O&&Z){_=!0;break}}this._setCurrentPageNumber(_?O:te[0].id),this._updateLocation(G.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(G){return this.container.contains(G)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===A.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===A.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const G=this._scrollMode===A.ScrollMode.PAGE?this.#a.pages:this._pages,te=this._scrollMode===A.ScrollMode.HORIZONTAL;return(0,A.getVisibleElements)({scrollEl:this.container,views:G,sortByVisibility:!0,horizontal:te,rtl:te&&this._isContainerRtl})}isPageVisible(G){return!!this.pdfDocument&&(Number.isInteger(G)&&G>0&&G<=this.pagesCount?this._getVisiblePages().ids.has(G):(console.error(`isPageVisible: "${G}" is not a valid page.`),!1))}isPageCached(G){return!!this.pdfDocument&&(Number.isInteger(G)&&G>0&&G<=this.pagesCount?this.#e.has(this._pages[G-1]):(console.error(`isPageCached: "${G}" is not a valid page.`),!1))}cleanup(){for(const G of this._pages)G.renderingState!==A.RenderingStates.FINISHED&&G.reset()}_cancelRendering(){for(const G of this._pages)G.cancelRendering()}#v(G){var te=this;return k(function*(){if(G.pdfPage)return G.pdfPage;try{const oe=yield te.pdfDocument.getPage(G.id);return G.pdfPage||G.setPdfPage(oe),te.linkService._cachedPageNumber?.(oe.ref)||te.linkService.cachePageRef(G.id,oe.ref),oe}catch(oe){return console.error("Unable to get page for page view",oe),null}})()}#m(G){if(1===G.first?.id)return!0;if(G.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case A.ScrollMode.PAGE:return this.#a.scrollDown;case A.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#_(G){for(const te of G)this._pages[te-1]?.toggleLoadingIconSpinner(!0);for(const te of this.#e)G.has(te.id)||te.toggleLoadingIconSpinner(!1)}forceRendering(G){const te=G||this._getVisiblePages(),oe=this.#m(te),Z=this.renderingQueue.getHighestPriority(te,this._pages,oe,this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL);return this.#_(te.ids),!!Z&&(this.#v(Z).then(()=>{this.renderingQueue.renderView(Z)}),!0)}createTextLayerBuilder({textLayerDiv:G,pageIndex:te,viewport:oe,enhanceTextSelection:J=!1,eventBus:Z,highlighter:O,accessibilityManager:_=null}){return new g.TextLayerBuilder({textLayerDiv:G,eventBus:Z,pageIndex:te,viewport:oe,enhanceTextSelection:!this.isInPresentationMode&&J,highlighter:O,accessibilityManager:_})}createTextHighlighter({pageIndex:G,eventBus:te}){return new M.TextHighlighter({eventBus:te,pageIndex:G,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:G,pdfPage:te,annotationStorage:oe=this.pdfDocument?.annotationStorage,imageResourcesPath:J="",renderForms:Z=!0,l10n:O=E.NullL10n,enableScripting:_=this.enableScripting,hasJSActionsPromise:S=this.pdfDocument?.hasJSActions(),mouseState:z=this._scriptingManager?.mouseState,fieldObjectsPromise:B=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:p=null,accessibilityManager:R=null}){return new D.AnnotationLayerBuilder({pageDiv:G,pdfPage:te,annotationStorage:oe,imageResourcesPath:J,renderForms:Z,linkService:this.linkService,downloadManager:this.downloadManager,l10n:O,enableScripting:_,hasJSActionsPromise:S,mouseState:z,fieldObjectsPromise:B,annotationCanvasMap:p,accessibilityManager:R})}createAnnotationEditorLayerBuilder({uiManager:G=this.#n,pageDiv:te,pdfPage:oe,accessibilityManager:J=null,l10n:Z,annotationStorage:O=this.pdfDocument?.annotationStorage}){return new U.AnnotationEditorLayerBuilder({uiManager:G,pageDiv:te,pdfPage:oe,annotationStorage:O,accessibilityManager:J,l10n:Z})}createXfaLayerBuilder({pageDiv:G,pdfPage:te,annotationStorage:oe=this.pdfDocument?.annotationStorage}){return new y.XfaLayerBuilder({pageDiv:G,pdfPage:te,annotationStorage:oe,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:G}){return new P.StructTreeLayerBuilder({pdfPage:G})}get hasEqualPageSizes(){const G=this._pages[0];for(let te=1,oe=this._pages.length;te<oe;++te){const J=this._pages[te];if(J.width!==G.width||J.height!==G.height)return!1}return!0}getPagesOverview(){return this._pages.map(G=>{const te=G.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,A.isPortraitOrientation)(te)?{width:te.width,height:te.height,rotation:te.rotation}:{width:te.height,height:te.width,rotation:(te.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(G){if(!(G instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${G}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=G;const te={optionalContentConfigPromise:G};for(const oe of this._pages)oe.update(te);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:G})}get scrollMode(){return this._scrollMode}set scrollMode(G){if(this._scrollMode!==G){if(!(0,A.isValidScrollMode)(G))throw new Error(`Invalid scroll mode: ${G}`);this.pagesCount>ie.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=G,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:G}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(G=null){const te=this._scrollMode,oe=this.viewer;oe.classList.toggle("scrollHorizontal",te===A.ScrollMode.HORIZONTAL),oe.classList.toggle("scrollWrapped",te===A.ScrollMode.WRAPPED),this.pdfDocument&&G&&(te===A.ScrollMode.PAGE?this.#l():this._previousScrollMode===A.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(G,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(G){if(this._spreadMode!==G){if(!(0,A.isValidSpreadMode)(G))throw new Error(`Invalid spread mode: ${G}`);this._spreadMode=G,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:G}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(G=null){if(!this.pdfDocument)return;const te=this.viewer,oe=this._pages;if(this._scrollMode===A.ScrollMode.PAGE)this.#l();else if(te.textContent="",this._spreadMode===A.SpreadMode.NONE)for(const J of this._pages)te.append(J.div);else{const J=this._spreadMode-1;let Z=null;for(let O=0,_=oe.length;O<_;++O)null===Z?(Z=document.createElement("div"),Z.className="spread",te.append(Z)):O%2===J&&(Z=Z.cloneNode(!1),te.append(Z)),Z.append(oe[O].div)}G&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(G,!0),this.update())}_getPageAdvance(G,te=!1){switch(this._scrollMode){case A.ScrollMode.WRAPPED:{const{views:oe}=this._getVisiblePages(),J=new Map;for(const{id:Z,y:O,percent:_,widthPercent:S}of oe){if(0===_||S<100)continue;let z=J.get(O);z||J.set(O,z||=[]),z.push(Z)}for(const Z of J.values()){const O=Z.indexOf(G);if(-1===O)continue;const _=Z.length;if(1===_)break;if(te)for(let S=O-1,z=0;S>=z;S--){const p=Z[S+1]-1;if(Z[S]<p)return G-p}else for(let S=O+1,z=_;S<z;S++){const p=Z[S-1]+1;if(Z[S]>p)return p-G}if(te){const S=Z[0];if(S<G)return G-S+1}else{const S=Z[_-1];if(S>G)return S-G+1}break}break}case A.ScrollMode.HORIZONTAL:break;case A.ScrollMode.PAGE:case A.ScrollMode.VERTICAL:{if(this._spreadMode===A.SpreadMode.NONE)break;const oe=this._spreadMode-1;if(te&&G%2!==oe)break;if(!te&&G%2===oe)break;const{views:J}=this._getVisiblePages(),Z=te?G-1:G+1;for(const{id:O,percent:_,widthPercent:S}of J)if(O===Z){if(_>0&&100===S)return 2;break}break}}return 1}nextPage(){const G=this._currentPageNumber,te=this.pagesCount;if(G>=te)return!1;const oe=this._getPageAdvance(G,!1)||1;return this.currentPageNumber=Math.min(G+oe,te),!0}previousPage(){const G=this._currentPageNumber;if(G<=1)return!1;const te=this._getPageAdvance(G,!0)||1;return this.currentPageNumber=Math.max(G-te,1),!0}increaseScale(G=1){let te=this._currentScale;do{te=(te*A.DEFAULT_SCALE_DELTA).toFixed(2),te=Math.ceil(10*te)/10,te=Math.min(A.MAX_SCALE,te)}while(--G>0&&te<A.MAX_SCALE);this.currentScaleValue=te}decreaseScale(G=1){let te=this._currentScale;do{te=(te/A.DEFAULT_SCALE_DELTA).toFixed(2),te=Math.floor(10*te)/10,te=Math.max(A.MIN_SCALE,te)}while(--G>0&&te>A.MIN_SCALE);this.currentScaleValue=te}updateContainerHeightCss(){const G=this.container.clientHeight;G!==this.#c&&(this.#c=G,A.docStyle.setProperty("--viewer-container-height",`${G}px`))}get annotationEditorMode(){return this.#n?this.#t:C.AnnotationEditorType.DISABLE}set annotationEditorMode(G){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#t!==G){if(!fe(G))throw new Error(`Invalid AnnotationEditor mode: ${G}`);this.pdfDocument&&(this.#t=G,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:G}),this.#n.updateMode(G))}}set annotationEditorParams({type:G,value:te}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(G,te)}refresh(){if(!this.pdfDocument)return;const G={};for(const te of this._pages)te.update(G);this.update()}}v.BaseViewer=Oe},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFPageView=void 0;var C=T(3),A=T(7),U=T(14),D=T(4),E=T(15);const w=U.compatibilityParams.maxCanvasPixels||16777216;v.PDFPageView=class V{#e=C.AnnotationMode.ENABLE_FORMS;#t={initialOptionalContent:!0,regularAnnotations:!0};constructor(P){const M=P.container,g=P.defaultViewport;this.id=P.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=P.scale||A.DEFAULT_SCALE,this.viewport=g,this.pdfPageRotate=g.rotation,this._optionalContentConfigPromise=P.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=P.textLayerMode??A.TextLayerMode.ENABLE,this.#e=P.annotationMode??C.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=P.imageResourcesPath||"",this.useOnlyCssZoom=P.useOnlyCssZoom||!1,this.maxCanvasPixels=P.maxCanvasPixels||w,this.pageColors=P.pageColors||null,this.eventBus=P.eventBus,this.renderingQueue=P.renderingQueue,this.textLayerFactory=P.textLayerFactory,this.annotationLayerFactory=P.annotationLayerFactory,this.annotationEditorLayerFactory=P.annotationEditorLayerFactory,this.xfaLayerFactory=P.xfaLayerFactory,this.textHighlighter=P.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=P.structTreeLayerFactory,this.renderer=P.renderer||A.RendererType.CANVAS,this.l10n=P.l10n||D.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=A.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const y=document.createElement("div");if(y.className="page",y.style.width=Math.floor(this.viewport.width)+"px",y.style.height=Math.floor(this.viewport.height)+"px",y.setAttribute("data-page-number",this.id),y.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(N=>{y.setAttribute("aria-label",N)}),this.div=y,M?.append(y),this._isStandalone){const{optionalContentConfigPromise:N}=P;N&&N.then(ee=>{N===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=ee.hasInitialVisibility)})}}setPdfPage(P){this.pdfPage=P,this.pdfPageRotate=P.rotate,this.viewport=P.getViewport({scale:this.scale*C.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var P=this;return k(function*(){let M=null;try{yield P.annotationLayer.render(P.viewport,"display")}catch(g){console.error(`_renderAnnotationLayer: "${g}".`),M=g}finally{P.eventBus.dispatch("annotationlayerrendered",{source:P,pageNumber:P.id,error:M})}})()}_renderAnnotationEditorLayer(){var P=this;return k(function*(){let M=null;try{yield P.annotationEditorLayer.render(P.viewport,"display")}catch(g){console.error(`_renderAnnotationEditorLayer: "${g}".`),M=g}finally{P.eventBus.dispatch("annotationeditorlayerrendered",{source:P,pageNumber:P.id,error:M})}})()}_renderXfaLayer(){var P=this;return k(function*(){let M=null;try{const g=yield P.xfaLayer.render(P.viewport,"display");P.textHighlighter&&P._buildXfaTextContentItems(g.textDivs)}catch(g){console.error(`_renderXfaLayer: "${g}".`),M=g}finally{P.eventBus.dispatch("xfalayerrendered",{source:P,pageNumber:P.id,error:M})}})()}_buildXfaTextContentItems(P){var M=this;return k(function*(){const g=yield M.pdfPage.getTextContent(),y=[];for(const N of g.items)y.push(N.str);M.textHighlighter.setTextMapping(P,y),M.textHighlighter.enable()})()}_resetZoomLayer(P=!1){if(!this.zoomLayer)return;const M=this.zoomLayer.firstChild;this.paintedViewportMap.delete(M),M.width=0,M.height=0,P&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:P=!1,keepAnnotationLayer:M=!1,keepAnnotationEditorLayer:g=!1,keepXfaLayer:y=!1}={}){this.cancelRendering({keepAnnotationLayer:M,keepAnnotationEditorLayer:g,keepXfaLayer:y}),this.renderingState=A.RenderingStates.INITIAL;const N=this.div;N.style.width=Math.floor(this.viewport.width)+"px",N.style.height=Math.floor(this.viewport.height)+"px";const ee=N.childNodes,ie=P&&this.zoomLayer||null,fe=M&&this.annotationLayer?.div||null,de=g&&this.annotationEditorLayer?.div||null,Oe=y&&this.xfaLayer?.div||null;for(let Me=ee.length-1;Me>=0;Me--){const G=ee[Me];switch(G){case ie:case fe:case de:case Oe:continue}G.remove()}N.removeAttribute("data-loaded"),fe&&this.annotationLayer.hide(),de?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),Oe&&this.xfaLayer.hide(),ie||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Me=>{this.loadingIconDiv?.setAttribute("aria-label",Me)}),N.append(this.loadingIconDiv)}update({scale:P=0,rotation:M=null,optionalContentConfigPromise:g=null}){if(this.scale=P||this.scale,"number"==typeof M&&(this.rotation=M),g instanceof Promise&&(this._optionalContentConfigPromise=g,g.then(ee=>{g===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=ee.hasInitialVisibility)})),this.viewport=this.viewport.clone({scale:this.scale*C.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone&&A.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let N=!1;if(this.canvas&&this.maxCanvasPixels>0){const ee=this.outputScale;(Math.floor(this.viewport.width)*ee.sx|0)*(Math.floor(this.viewport.height)*ee.sy|0)>this.maxCanvasPixels&&(N=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&N)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:P=!1,keepAnnotationEditorLayer:M=!1,keepXfaLayer:g=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!P||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!M||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:P,redrawAnnotationLayer:M=!1,redrawAnnotationEditorLayer:g=!1,redrawXfaLayer:y=!1}){const N=this.viewport.width,ee=this.viewport.height,ie=this.div;P.style.width=P.parentNode.style.width=ie.style.width=Math.floor(N)+"px",P.style.height=P.parentNode.style.height=ie.style.height=Math.floor(ee)+"px";const fe=this.viewport.rotation-this.paintedViewportMap.get(P).rotation,de=Math.abs(fe);let Oe=1,Me=1;if((90===de||270===de)&&(Oe=ee/N,Me=N/ee),P.style.transform=`rotate(${fe}deg) scale(${Oe}, ${Me})`,this.textLayer){const G=this.textLayer.viewport,oe=Math.abs(this.viewport.rotation-G.rotation);let J=N/G.width;(90===oe||270===oe)&&(J=N/G.height);const Z=this.textLayer.textLayerDiv;let O,_;switch(oe){case 0:O=_=0;break;case 90:O=0,_="-"+Z.style.height;break;case 180:O="-"+Z.style.width,_="-"+Z.style.height;break;case 270:O="-"+Z.style.width,_=0;break;default:console.error("Bad rotation value.")}Z.style.transform=`rotate(${oe}deg) scale(${J}) translate(${O}, ${_})`,Z.style.transformOrigin="0% 0%"}M&&this.annotationLayer&&this._renderAnnotationLayer(),g&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),y&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(P,M){return this.viewport.convertToPdfPoint(P,M)}toggleLoadingIconSpinner(P=!1){this.loadingIconDiv?.classList.toggle("notVisible",!P)}draw(){var P=this;this.renderingState!==A.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:M,pdfPage:g}=this;if(!g)return this.renderingState=A.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=A.RenderingStates.RUNNING;const y=document.createElement("div");y.style.width=M.style.width,y.style.height=M.style.height,y.classList.add("canvasWrapper");const N=this.annotationLayer?.div||this.annotationEditorLayer?.div;N?N.before(y):M.append(y);let ee=null;if(this.textLayerMode!==A.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new E.TextAccessibilityManager;const Me=document.createElement("div");Me.className="textLayer",Me.style.width=y.style.width,Me.style.height=y.style.height,N?N.before(Me):M.append(Me),ee=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:Me,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===A.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=ee,this.#e!==C.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:M,pdfPage:g,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===C.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&M.append(this.xfaLayer.div);let ie=null;this.renderingQueue&&(ie=Me=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=A.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=A.RenderingStates.RUNNING,Me()});Me()});const fe=function(){var Me=k(function*(G=null){if(de===P.paintTask&&(P.paintTask=null),G instanceof C.RenderingCancelledException)P._renderError=null;else if(P._renderError=G,P.renderingState=A.RenderingStates.FINISHED,P.loadingIconDiv&&(P.loadingIconDiv.remove(),delete P.loadingIconDiv),P._resetZoomLayer(!0),P.#t.regularAnnotations=!de.separateAnnots,P.eventBus.dispatch("pagerendered",{source:P,pageNumber:P.id,cssTransform:!1,timestamp:performance.now(),error:P._renderError}),G)throw G});return function(){return Me.apply(this,arguments)}}(),de=this.renderer===A.RendererType.SVG?this.paintOnSvg(y):this.paintOnCanvas(y);de.onRenderContinue=ie,this.paintTask=de;const Oe=de.promise.then(()=>fe(null).then(()=>{if(ee){const Me=g.streamTextContent({includeMarkedContent:!0});ee.setTextContentStream(Me),ee.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:M,pdfPage:g,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(Me){return fe(Me)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:M,pdfPage:g}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Me=>{Me.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(G=>{if(!G||!this.canvas)return;const te=this.structTreeLayer.render(G);te.classList.add("structTree"),this.canvas.append(te)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:g})),M.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Oe}paintOnCanvas(P){const M=(0,C.createPromiseCapability)(),g={promise:M.promise,onRenderContinue(J){J()},cancel(){oe.cancel()},get separateAnnots(){return oe.separateAnnots}},y=this.viewport,N=document.createElement("canvas");N.setAttribute("role","presentation"),N.hidden=!0;let ee=!0;const ie=function(){ee&&(N.hidden=!1,ee=!1)};P.append(N),this.canvas=N;const fe=N.getContext("2d",{alpha:!1}),de=this.outputScale=new A.OutputScale;if(this.useOnlyCssZoom){const J=y.clone({scale:C.PixelsPerInch.PDF_TO_CSS_UNITS});de.sx*=J.width/y.width,de.sy*=J.height/y.height}if(this.maxCanvasPixels>0){const Z=Math.sqrt(this.maxCanvasPixels/(y.width*y.height));de.sx>Z||de.sy>Z?(de.sx=Z,de.sy=Z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Oe=(0,A.approximateFraction)(de.sx),Me=(0,A.approximateFraction)(de.sy);N.width=(0,A.roundToDivide)(y.width*de.sx,Oe[0]),N.height=(0,A.roundToDivide)(y.height*de.sy,Me[0]),N.style.width=(0,A.roundToDivide)(y.width,Oe[1])+"px",N.style.height=(0,A.roundToDivide)(y.height,Me[1])+"px",this.paintedViewportMap.set(N,y);const te={canvasContext:fe,transform:de.scaled?[de.sx,0,0,de.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},oe=this.pdfPage.render(te);return oe.onContinue=function(J){ie(),g.onRenderContinue?g.onRenderContinue(J):J()},oe.promise.then(function(){ie(),M.resolve()},function(J){ie(),M.reject(J)}),g}paintOnSvg(P){let M=!1;const g=()=>{if(M)throw new C.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},y=this.pdfPage,N=this.viewport.clone({scale:C.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:y.getOperatorList({annotationMode:this.#e}).then(ie=>(g(),new C.SVGGraphics(y.commonObjs,y.objs).getSVG(ie,N).then(de=>{g(),this.svg=de,this.paintedViewportMap.set(de,N),de.style.width=P.style.width,de.style.height=P.style.height,this.renderingState=A.RenderingStates.FINISHED,P.append(de)}))),onRenderContinue(ie){ie()},cancel(){M=!0},get separateAnnots(){return!1}}}setPageLabel(P){this.pageLabel="string"==typeof P?P:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:P,regularAnnotations:M}=this.#t;return P&&M?this.canvas:null}}},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.compatibilityParams=v.OptionKind=v.AppOptions=void 0;const T=Object.create(null);v.compatibilityParams=T;{const E=navigator.userAgent||"",w=navigator.platform||"",V=navigator.maxTouchPoints||1,L=/Android/.test(E);(/\b(iPad|iPhone|iPod)(?=;)/.test(E)||"MacIntel"===w&&V>1||L)&&(T.maxCanvasPixels=5242880)}const C={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};v.OptionKind=C;const A={annotationEditorMode:{value:-1,kind:C.VIEWER+C.PREFERENCE},annotationMode:{value:2,kind:C.VIEWER+C.PREFERENCE},cursorToolOnLoad:{value:0,kind:C.VIEWER+C.PREFERENCE},defaultZoomValue:{value:"",kind:C.VIEWER+C.PREFERENCE},disableHistory:{value:!1,kind:C.VIEWER},disablePageLabels:{value:!1,kind:C.VIEWER+C.PREFERENCE},enablePermissions:{value:!1,kind:C.VIEWER+C.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:C.VIEWER+C.PREFERENCE},enableScripting:{value:!0,kind:C.VIEWER+C.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:C.VIEWER},externalLinkTarget:{value:0,kind:C.VIEWER+C.PREFERENCE},historyUpdateUrl:{value:!1,kind:C.VIEWER+C.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:C.VIEWER+C.PREFERENCE},imageResourcesPath:{value:"./images/",kind:C.VIEWER},maxCanvasPixels:{value:16777216,kind:C.VIEWER},forcePageColors:{value:!1,kind:C.VIEWER+C.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:C.VIEWER+C.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:C.VIEWER+C.PREFERENCE},pdfBugEnabled:{value:!1,kind:C.VIEWER+C.PREFERENCE},printResolution:{value:150,kind:C.VIEWER},sidebarViewOnLoad:{value:-1,kind:C.VIEWER+C.PREFERENCE},scrollModeOnLoad:{value:-1,kind:C.VIEWER+C.PREFERENCE},spreadModeOnLoad:{value:-1,kind:C.VIEWER+C.PREFERENCE},textLayerMode:{value:1,kind:C.VIEWER+C.PREFERENCE},useOnlyCssZoom:{value:!1,kind:C.VIEWER+C.PREFERENCE},viewerCssTheme:{value:0,kind:C.VIEWER+C.PREFERENCE},viewOnLoad:{value:0,kind:C.VIEWER+C.PREFERENCE},cMapPacked:{value:!0,kind:C.API},cMapUrl:{value:"../web/cmaps/",kind:C.API},disableAutoFetch:{value:!1,kind:C.API+C.PREFERENCE},disableFontFace:{value:!1,kind:C.API+C.PREFERENCE},disableRange:{value:!1,kind:C.API+C.PREFERENCE},disableStream:{value:!1,kind:C.API+C.PREFERENCE},docBaseUrl:{value:"",kind:C.API},enableXfa:{value:!0,kind:C.API+C.PREFERENCE},fontExtraProperties:{value:!1,kind:C.API},isEvalSupported:{value:!0,kind:C.API},maxImageSize:{value:-1,kind:C.API},pdfBug:{value:!1,kind:C.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:C.API},verbosity:{value:1,kind:C.API},workerPort:{value:null,kind:C.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:C.WORKER}};A.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:C.VIEWER},A.disablePreferences={value:!1,kind:C.VIEWER},A.locale={value:navigator.language||"en-US",kind:C.VIEWER},A.renderer={value:"canvas",kind:C.VIEWER+C.PREFERENCE},A.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:C.VIEWER};const U=Object.create(null);v.AppOptions=class D{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(w){const V=U[w];if(void 0!==V)return V;const L=A[w];return void 0!==L?T[w]??L.value:void 0}static getAll(w=null){const V=Object.create(null);for(const L in A){const P=A[L];if(w){if(!(w&P.kind))continue;if(w===C.PREFERENCE){const g=P.value,y=typeof g;if("boolean"===y||"string"===y||"number"===y&&Number.isInteger(g)){V[L]=g;continue}throw new Error(`Invalid type for preference: ${L}`)}}const M=U[L];V[L]=void 0!==M?M:T[L]??P.value}return V}static set(w,V){U[w]=V}static setAll(w){for(const V in w)U[V]=w[V]}static remove(w){delete U[w]}static _hasUserOptions(){return Object.keys(U).length>0}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TextAccessibilityManager=void 0;var C=T(7);class A{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(D){this.#t=D}static#s(D,E){const w=D.getBoundingClientRect(),V=E.getBoundingClientRect();if(0===w.width&&0===w.height)return 1;if(0===V.width&&0===V.height)return-1;const M=w.y+w.height/2,N=V.y+V.height/2;return M<=V.y&&N>=w.y+w.height?-1:N<=w.y&&M>=V.y+V.height?1:w.x+w.width/2-(V.x+V.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(A.#s),this.#n.size>0){const D=this.#t;for(const[E,w]of this.#n)document.getElementById(E)?this.#c(E,D[w]):this.#n.delete(E)}for(const[D,E]of this.#i)this.addPointerInTextLayer(D,E);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(D){if(!this.#e)return void this.#i.delete(D);const E=this.#t;if(!E||0===E.length)return;const{id:w}=D,V=this.#n.get(w);if(void 0===V)return;const L=E[V];this.#n.delete(w);let P=L.getAttribute("aria-owns");P?.includes(w)&&(P=P.split(" ").filter(M=>M!==w).join(" "),P?L.setAttribute("aria-owns",P):(L.removeAttribute("aria-owns"),L.setAttribute("role","presentation")))}#c(D,E){const w=E.getAttribute("aria-owns");w?.includes(D)||E.setAttribute("aria-owns",w?`${w} ${D}`:D),E.removeAttribute("role")}addPointerInTextLayer(D,E){const{id:w}=D;if(!w)return;if(!this.#e)return void this.#i.set(D,E);E&&this.removePointerInTextLayer(D);const V=this.#t;if(!V||0===V.length)return;const L=(0,C.binarySearchFirstItem)(V,M=>A.#s(D,M)<0),P=Math.max(0,L-1);this.#c(w,V[P]),this.#n.set(w,P)}moveElementInDOM(D,E,w,V){if(this.addPointerInTextLayer(w,V),!D.hasChildNodes())return void D.append(E);const L=Array.from(D.childNodes).filter(g=>g!==E);if(0===L.length)return;const P=w||E,M=(0,C.binarySearchFirstItem)(L,g=>A.#s(P,g)<0);0===M?L[0].before(E):L[M-1].after(E)}}v.TextAccessibilityManager=A},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFRenderingQueue=void 0;var C=T(3),A=T(7);v.PDFRenderingQueue=class D{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(w){this.pdfViewer=w}setThumbnailViewer(w){this.pdfThumbnailViewer=w}isHighestPriority(w){return this.highestPriorityPage===w.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(w){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(w)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(w,V,L,P=!1){const M=w.views,g=M.length;if(0===g)return null;for(let fe=0;fe<g;fe++){const de=M[fe].view;if(!this.isViewFinished(de))return de}const y=w.first.id,N=w.last.id;if(N-y+1>g){const fe=w.ids;for(let de=1,Oe=N-y;de<Oe;de++){const Me=L?y+de:N-de;if(fe.has(Me))continue;const G=V[Me-1];if(!this.isViewFinished(G))return G}}let ee=L?N:y-2,ie=V[ee];return ie&&!this.isViewFinished(ie)||P&&(ee+=L?1:-1,ie=V[ee],ie&&!this.isViewFinished(ie))?ie:null}isViewFinished(w){return w.renderingState===A.RenderingStates.FINISHED}renderView(w){switch(w.renderingState){case A.RenderingStates.FINISHED:return!1;case A.RenderingStates.PAUSED:this.highestPriorityPage=w.renderingId,w.resume();break;case A.RenderingStates.RUNNING:this.highestPriorityPage=w.renderingId;break;case A.RenderingStates.INITIAL:this.highestPriorityPage=w.renderingId,w.draw().finally(()=>{this.renderHighestPriority()}).catch(V=>{V instanceof C.RenderingCancelledException||console.error(`renderView: "${V}"`)})}return!0}}},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TextHighlighter=void 0,v.TextHighlighter=class T{constructor({findController:A,eventBus:U,pageIndex:D}){this.findController=A,this.matches=[],this.eventBus=U,this.pageIdx=D,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(A,U){this.textDivs=A,this.textContentItemsStr=U}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=A=>{(A.pageIndex===this.pageIdx||-1===A.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(A,U){if(!A)return[];const{textContentItemsStr:D}=this;let E=0,w=0;const V=D.length-1,L=[];for(let P=0,M=A.length;P<M;P++){let g=A[P];for(;E!==V&&g>=w+D[E].length;)w+=D[E].length,E++;E===D.length&&console.error("Could not find a matching mapping");const y={begin:{divIdx:E,offset:g-w}};for(g+=U[P];E!==V&&g>w+D[E].length;)w+=D[E].length,E++;y.end={divIdx:E,offset:g-w},L.push(y)}return L}_renderMatches(A){if(0===A.length)return;const{findController:U,pageIdx:D}=this,{textContentItemsStr:E,textDivs:w}=this,V=D===U.selected.pageIdx,L=U.selected.matchIdx;let M=null;function y(fe,de){const Oe=fe.divIdx;return w[Oe].textContent="",N(Oe,0,fe.offset,de)}function N(fe,de,Oe,Me){let G=w[fe];if(G.nodeType===Node.TEXT_NODE){const J=document.createElement("span");G.before(J),J.append(G),w[fe]=J,G=J}const te=E[fe].substring(de,Oe),oe=document.createTextNode(te);if(Me){const J=document.createElement("span");return J.className=`${Me} appended`,J.append(oe),G.append(J),Me.includes("selected")?J.offsetLeft:0}return G.append(oe),0}let ee=L,ie=ee+1;if(U.state.highlightAll)ee=0,ie=A.length;else if(!V)return;for(let fe=ee;fe<ie;fe++){const de=A[fe],Oe=de.begin,Me=de.end,G=V&&fe===L,te=G?" selected":"";let oe=0;if(M&&Oe.divIdx===M.divIdx?N(M.divIdx,M.offset,Oe.offset):(null!==M&&N(M.divIdx,M.offset,void 0),y(Oe)),Oe.divIdx===Me.divIdx)oe=N(Oe.divIdx,Oe.offset,Me.offset,"highlight"+te);else{oe=N(Oe.divIdx,Oe.offset,void 0,"highlight begin"+te);for(let J=Oe.divIdx+1,Z=Me.divIdx;J<Z;J++)w[J].className="highlight middle"+te;y(Me,"highlight end"+te)}M=Me,G&&U.scrollMatchIntoView({element:w[Oe.divIdx],selectedLeft:oe,pageIndex:D,matchIndex:L})}M&&N(M.divIdx,M.offset,void 0)}_updateMatches(){if(!this.enabled)return;const{findController:A,matches:U,pageIdx:D}=this,{textContentItemsStr:E,textDivs:w}=this;let V=-1;for(let M=0,g=U.length;M<g;M++){const y=U[M];for(let ee=Math.max(V,y.begin.divIdx),ie=y.end.divIdx;ee<=ie;ee++){const fe=w[ee];fe.textContent=E[ee],fe.className=""}V=y.end.divIdx+1}A?.highlightMatches&&(this.matches=this._convertMatches(A.pageMatches[D]||null,A.pageMatchesLength[D]||null),this._renderMatches(this.matches))}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DownloadManager=void 0;var C=T(3);function A(D,E){const w=document.createElement("a");if(!w.click)throw new Error('DownloadManager: "a.click()" is not supported.');w.href=D,w.target="_parent","download"in w&&(w.download=E),(document.body||document.documentElement).append(w),w.click(),w.remove()}v.DownloadManager=class U{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(E,w){(0,C.createValidAbsoluteUrl)(E,"http://example.com")?A(E+"#pdfjs.action=download",w):console.error(`downloadUrl - not a valid URL: ${E}`)}downloadData(E,w,V){A(URL.createObjectURL(new Blob([E],{type:V})),w)}openOrDownloadData(E,w,V){const L=(0,C.isPdfFile)(V),P=L?"application/pdf":"";if(L){let g,M=this._openBlobUrls.get(E);M||(M=URL.createObjectURL(new Blob([w],{type:P})),this._openBlobUrls.set(E,M)),g="?file="+encodeURIComponent(M+"#"+V);try{return window.open(g),!0}catch(y){console.error(`openOrDownloadData: ${y}`),URL.revokeObjectURL(M),this._openBlobUrls.delete(E)}}return this.downloadData(w,V,P),!1}download(E,w,V){A(URL.createObjectURL(E),V)}}},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WaitOnType=v.EventBus=v.AutomationEventBus=void 0,v.waitOnEventOrTimeout=function C({target:D,name:E,delay:w=0}){return new Promise(function(V,L){if("object"!=typeof D||!E||"string"!=typeof E||!(Number.isInteger(w)&&w>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function P(N){D instanceof A?D._off(E,M):D.removeEventListener(E,M),y&&clearTimeout(y),V(N)}const M=P.bind(null,T.EVENT);D instanceof A?D._on(E,M):D.addEventListener(E,M);const g=P.bind(null,T.TIMEOUT),y=setTimeout(g,w)})};const T={EVENT:"event",TIMEOUT:"timeout"};v.WaitOnType=T;class A{constructor(){this._listeners=Object.create(null)}on(E,w,V=null){this._on(E,w,{external:!0,once:V?.once})}off(E,w,V=null){this._off(E,w,{external:!0,once:V?.once})}dispatch(E,w){const V=this._listeners[E];if(!V||0===V.length)return;let L;for(const{listener:P,external:M,once:g}of V.slice(0))g&&this._off(E,P),M?(L||=[]).push(P):P(w);if(L){for(const P of L)P(w);L=null}}_on(E,w,V=null){(this._listeners[E]||=[]).push({listener:w,external:!0===V?.external,once:!0===V?.once})}_off(E,w,V=null){const L=this._listeners[E];if(L)for(let P=0,M=L.length;P<M;P++)if(L[P].listener===w)return void L.splice(P,1)}}v.EventBus=A,v.AutomationEventBus=class U extends A{dispatch(E,w){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.GenericL10n=void 0,T(21);var C=T(4);const A=document.webL10n;v.GenericL10n=class U{constructor(E){this._lang=E,this._ready=new Promise((w,V)=>{A.setLanguage((0,C.fixupLangCode)(E),()=>{w(A)})})}getLanguage(){var E=this;return k(function*(){return(yield E._ready).getLanguage()})()}getDirection(){var E=this;return k(function*(){return(yield E._ready).getDirection()})()}get(E,w=null,V=(0,C.getL10nFallback)(E,w)){var L=this;return k(function*(){return(yield L._ready).get(E,w,V)})()}translate(E){var w=this;return k(function*(){return(yield w._ready).translate(E)})()}}},()=>{document.webL10n=function(Q,v,T){var C={},A="",U="textContent",D="",E={},w="loading",V=!0;function y(J,Z,O){Z=Z||function(z){},O=O||function(){};var _=new XMLHttpRequest;_.open("GET",J,V),_.overrideMimeType&&_.overrideMimeType("text/plain; charset=utf-8"),_.onreadystatechange=function(){4==_.readyState&&(200==_.status||0===_.status?Z(_.responseText):O())},_.onerror=O,_.ontimeout=O;try{_.send(null)}catch{O()}}function ee(J,Z){J&&(J=J.toLowerCase()),Z=Z||function(){},function ie(){C={},A="",D=""}(),D=J;var O=function L(){return v.querySelectorAll('link[type="application/l10n"]')}(),_=O.length;if(0!==_){var p,R=0;p=function(){++R>=_&&(Z(),w="complete")};for(var ne=0;ne<_;ne++)new W(O[ne]).load(J,p)}else{var S=function P(){var J=v.querySelector('script[type="application/l10n"]');return J?JSON.parse(J.innerHTML):null}();if(S&&S.locales&&S.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(C=S.locales[J])){var z=S.default_locale.toLowerCase();for(var B in S.locales){if((B=B.toLowerCase())===J){C=S.locales[J];break}B===z&&(C=S.locales[z])}}Z()}else console.log("no resource to load, early way out");w="complete"}function W(he){var Y=he.href;this.load=function(re,ue){!function N(J,Z,O,_){var S=J.replace(/[^\/]*$/,"")||"./";function z(p){return p.lastIndexOf("\\")<0?p:p.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}y(J,function(p){A+=p,function B(p,R){var W={},ne=/^\s*|\s*$/,se=/^\s*#|^\s*$/,he=/^\s*\[(.*)\]\s*$/,Y=/^\s*@import\s+url\((.*)\)\s*$/i,re=/^([^=\s]*)\s*=\s*(.+)$/;function ue(Ce,xe,Ne){var He=Ce.replace(ne,"").split(/[\r\n]+/),we="*",Ie=Z.split("-",1)[0],qe=!1,Te="";!function lt(){for(;;){if(!He.length)return void Ne();var ct=He.shift();if(!se.test(ct)){if(xe){if(Te=he.exec(ct)){we=Te[1].toLowerCase(),qe="*"!==we&&we!==Z&&we!==Ie;continue}if(qe)continue;if(Te=Y.exec(ct))return void pe(S+Te[1],lt)}var et=ct.match(re);et&&3==et.length&&(W[et[1]]=z(et[2]))}}}()}function pe(Ce,xe){y(Ce,function(Ne){ue(Ne,!1,xe)},function(){console.warn(Ce+" not found."),xe()})}ue(p,!0,function(){R(W)})}(p,function(R){for(var W in R){var ne,se,he=W.lastIndexOf(".");he>0?(ne=W.substring(0,he),se=W.substring(he+1)):(ne=W,se=U),C[ne]||(C[ne]={}),C[ne][se]=R[W]}O&&O()})},_)}(Y,re,ue,function(){console.warn(Y+" not found."),console.warn('"'+re+'" resource not found'),D="",ue()})}}}function de(J,Z,O){var _=C[J];if(!_){if(console.warn("#"+J+" is undefined."),!O)return null;_=O}var S={};for(var z in _){var B=_[z];B=Me(B=Oe(B,Z,J,z),Z,J),S[z]=B}return S}function Oe(J,Z,O,_){var z=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(J);if(!z||!z.length)return J;var R,B=z[1],p=z[2];return Z&&p in Z?R=Z[p]:p in C&&(R=C[p]),B in E&&(J=(0,E[B])(J,R,O,_)),J}function Me(J,Z,O){return J.replace(/\{\{\s*(.+?)\s*\}\}/g,function(S,z){return Z&&z in Z?Z[z]:z in C?C[z]:(console.log("argument {{"+z+"}} for #"+O+" is undefined."),S)})}function G(J){var Z=function g(J){if(!J)return{};var Z=J.getAttribute("data-l10n-id"),O=J.getAttribute("data-l10n-args"),_={};if(O)try{_=JSON.parse(O)}catch{console.warn("could not parse arguments for #"+Z)}return{id:Z,args:_}}(J);if(Z.id){var O=de(Z.id,Z.args);if(!O)return void console.warn("#"+Z.id+" is undefined.");if(O[U]){if(0===function te(J){if(J.children)return J.children.length;if(typeof J.childElementCount<"u")return J.childElementCount;for(var Z=0,O=0;O<J.childNodes.length;O++)Z+=1===J.nodeType?1:0;return Z}(J))J[U]=O[U];else{for(var _=J.childNodes,S=!1,z=0,B=_.length;z<B;z++)3===_[z].nodeType&&/\S/.test(_[z].nodeValue)&&(S?_[z].nodeValue="":(_[z].nodeValue=O[U],S=!0));if(!S){var p=v.createTextNode(O[U]);J.prepend(p)}}delete O[U]}for(var R in O)J[R]=O[R]}}return E.plural=function(J,Z,O,_){var S=parseFloat(Z);if(isNaN(S)||_!=U)return J;E._pluralRules||(E._pluralRules=function fe(J){function O(B,p){return-1!==p.indexOf(B)}function _(B,p,R){return p<=B&&B<=R}var S={0:function(B){return"other"},1:function(B){return _(B%100,3,10)?"few":0===B?"zero":_(B%100,11,99)?"many":2==B?"two":1==B?"one":"other"},2:function(B){return 0!==B&&B%10==0?"many":2==B?"two":1==B?"one":"other"},3:function(B){return 1==B?"one":"other"},4:function(B){return _(B,0,1)?"one":"other"},5:function(B){return _(B,0,2)&&2!=B?"one":"other"},6:function(B){return 0===B?"zero":B%10==1&&B%100!=11?"one":"other"},7:function(B){return 2==B?"two":1==B?"one":"other"},8:function(B){return _(B,3,6)?"few":_(B,7,10)?"many":2==B?"two":1==B?"one":"other"},9:function(B){return 0===B||1!=B&&_(B%100,1,19)?"few":1==B?"one":"other"},10:function(B){return _(B%10,2,9)&&!_(B%100,11,19)?"few":B%10!=1||_(B%100,11,19)?"other":"one"},11:function(B){return _(B%10,2,4)&&!_(B%100,12,14)?"few":B%10==0||_(B%10,5,9)||_(B%100,11,14)?"many":B%10==1&&B%100!=11?"one":"other"},12:function(B){return _(B,2,4)?"few":1==B?"one":"other"},13:function(B){return _(B%10,2,4)&&!_(B%100,12,14)?"few":1!=B&&_(B%10,0,1)||_(B%10,5,9)||_(B%100,12,14)?"many":1==B?"one":"other"},14:function(B){return _(B%100,3,4)?"few":B%100==2?"two":B%100==1?"one":"other"},15:function(B){return 0===B||_(B%100,2,10)?"few":_(B%100,11,19)?"many":1==B?"one":"other"},16:function(B){return B%10==1&&11!=B?"one":"other"},17:function(B){return 3==B?"few":0===B?"zero":6==B?"many":2==B?"two":1==B?"one":"other"},18:function(B){return 0===B?"zero":_(B,0,2)&&0!==B&&2!=B?"one":"other"},19:function(B){return _(B,2,10)?"few":_(B,0,1)?"one":"other"},20:function(B){return!_(B%10,3,4)&&B%10!=9||_(B%100,10,19)||_(B%100,70,79)||_(B%100,90,99)?B%1e6==0&&0!==B?"many":B%10!=2||O(B%100,[12,72,92])?B%10!=1||O(B%100,[11,71,91])?"other":"one":"two":"few"},21:function(B){return 0===B?"zero":1==B?"one":"other"},22:function(B){return _(B,0,1)||_(B,11,99)?"one":"other"},23:function(B){return _(B%10,1,2)||B%20==0?"one":"other"},24:function(B){return _(B,3,10)||_(B,13,19)?"few":O(B,[2,12])?"two":O(B,[1,11])?"one":"other"}},z={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[J.replace(/-.*$/,"")];return z in S?S[z]:(console.warn("plural form unknown for ["+J+"]"),function(){return"other"})}(D));var z="["+E._pluralRules(S)+"]";return 0===S&&O+"[zero]"in C?J=C[O+"[zero]"][_]:1==S&&O+"[one]"in C?J=C[O+"[one]"][_]:2==S&&O+"[two]"in C?J=C[O+"[two]"][_]:O+z in C?J=C[O+z][_]:O+"[other]"in C&&(J=C[O+"[other]"][_]),J},{get:function(J,Z,O){var z,_=J.lastIndexOf("."),S=U;_>0&&(S=J.substring(_+1),J=J.substring(0,_)),O&&((z={})[S]=O);var B=de(J,Z,z);return B&&S in B?B[S]:"{{"+J+"}}"},getData:function(){return C},getText:function(){return A},getLanguage:function(){return D},setLanguage:function(J,Z){ee(J,function(){Z&&Z()})},getDirection:function(){var Z=D.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Z)>=0?"rtl":"ltr"},translate:function oe(J){for(var Z=function M(J){return J?J.querySelectorAll("*[data-l10n-id]"):[]}(J=J||v.documentElement),O=Z.length,_=0;_<O;_++)G(Z[_]);G(J)},getReadyState:function(){return w},ready:function(J){J&&("complete"==w||"interactive"==w?Q.setTimeout(function(){J()}):v.addEventListener&&v.addEventListener("localized",function Z(){v.removeEventListener("localized",Z),J()}))}}}(window,document)},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFFindController=v.FindState=void 0;var C=T(7),A=T(3),U=T(23);const D={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};v.FindState=D;const L={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},P=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),M=[...P.values()].map(J=>String.fromCharCode(J)).join(""),g=new RegExp("\\p{M}+","gu"),y=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),N=new RegExp("([^\\p{M}])\\p{M}*$","u"),ee=new RegExp("^\\p{M}*([^\\p{M}])","u"),ie=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,fe=new Map;let Oe=null,Me=null;function G(J){const Z=[];let O,_;for(;null!==(O=ie.exec(J));){let{index:Y}=O;for(const re of O[0]){let ue=fe.get(re);ue||(ue=re.normalize("NFD").length,fe.set(re,ue)),Z.push([ue,Y++])}}if(0===Z.length&&Oe)_=Oe;else if(Z.length>0&&Me)_=Me;else{const re=`([${Object.keys(L).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;_=0===Z.length?Oe=new RegExp(re+"|(\\u0000)","gum"):Me=new RegExp(re+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const S=[];for(;null!==(O=g.exec(J));)S.push([O[0].length,O.index]);let z=J.normalize("NFD");const B=[[0,0]];let p=0,R=0,W=0,ne=0,se=0,he=!1;return z=z.replace(_,(Y,re,ue,pe,Ce,xe,Ne)=>{if(Ne-=ne,re){const He=L[Y],we=He.length;for(let Ie=1;Ie<we;Ie++)B.push([Ne-W+Ie,W-Ie]);return W-=we-1,He}if(ue){const He=ue.endsWith("\n"),we=He?ue.length-2:ue.length;he=!0;let Ie=we;Ne+se===S[p]?.[1]&&(Ie-=S[p][0],++p);for(let qe=1;qe<=Ie;qe++)B.push([Ne-1-W+qe,W-qe]);return W-=Ie,ne+=Ie,He?(B.push([(Ne+=we-1)-W+1,1+W]),W+=1,ne+=1,se+=1,ue.slice(0,we)):ue}if(pe)return B.push([Ne-W+1,1+W]),W+=1,ne+=1,se+=1,pe.charAt(0);if(Ce)return B.push([Ne-W+1,W-1]),W-=1,ne+=1,se+=1," ";if(Ne+se===Z[R]?.[1]){const He=Z[R][0]-1;++R;for(let we=1;we<=He;we++)B.push([Ne-(W-we),W-we]);W-=He,ne+=He}return xe}),B.push([z.length,W]),[z,B,he]}function te(J,Z,O){if(!J)return[Z,O];const _=Z,S=Z+O;let z=(0,C.binarySearchFirstItem)(J,p=>p[0]>=_);J[z][0]>_&&--z;let B=(0,C.binarySearchFirstItem)(J,p=>p[0]>=S,z);return J[B][0]>S&&--B,[_+J[z][1],O+J[B][1]-J[z][1]]}v.PDFFindController=class oe{constructor({linkService:Z,eventBus:O}){this._linkService=Z,this._eventBus=O,this.#t(),O._on("find",this.#e.bind(this)),O._on("findbarclose",this.#_.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Z){this._pdfDocument&&this.#t(),Z&&(this._pdfDocument=Z,this._firstPageCapability.resolve())}#e(Z){if(!Z)return;const O=this._pdfDocument,{type:_}=Z;(null===this._state||this.#i(Z))&&(this._dirtyMatch=!0),this._state=Z,"highlightallchange"!==_&&this.#u(D.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;this.#h();const S=!this._highlightMatches,z=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),_?this._dirtyMatch?this.#o():"again"===_?(this.#o(),S&&this._state.highlightAll&&this.#l()):"highlightallchange"===_?(z?this.#o():this._highlightMatches=!0,this.#l()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},250)})}scrollMatchIntoView({element:Z=null,selectedLeft:O=0,pageIndex:_=-1,matchIndex:S=-1}){this._scrollMatches&&Z&&-1!==S&&S===this._selected.matchIdx&&-1!==_&&_===this._selected.pageIdx&&(this._scrollMatches=!1,(0,C.scrollIntoView)(Z,{top:-50,left:O+-400},!0))}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,A.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=G(this._state.query)),this._normalizedQuery}#i(Z){if(Z.query!==this._state.query)return!0;switch(Z.type){case"again":const O=this._selected.pageIdx+1,_=this._linkService;return O>=1&&O<=_.pagesCount&&O!==_.page&&!_.isPageVisible(O);case"highlightallchange":return!1}return!0}#s(Z,O,_){let S=Z.slice(0,O).match(N);if(S){const z=Z.charCodeAt(O),B=S[1].charCodeAt(0);if((0,U.getCharacterType)(z)===(0,U.getCharacterType)(B))return!1}if(S=Z.slice(O+_).match(ee),S){const z=Z.charCodeAt(O+_-1),B=S[1].charCodeAt(0);if((0,U.getCharacterType)(z)===(0,U.getCharacterType)(B))return!1}return!0}#c(Z,O,_,S){const z=[],B=[],p=this._pageDiffs[_];let R;for(;null!==(R=Z.exec(S));){if(O&&!this.#s(S,R.index,R[0].length))continue;const[W,ne]=te(p,R.index,R[0].length);ne&&(z.push(W),B.push(ne))}this._pageMatches[_]=z,this._pageMatchesLength[_]=B}#a(Z,O){const{matchDiacritics:_}=this._state;let S=!1;return(Z=Z.replace(y,(B,p,R,W,ne,se)=>p?`[ ]*\\${p}[ ]*`:R?`[ ]*${R}[ ]*`:W?"[ ]+":_?ne||se:ne?P.has(ne.charCodeAt(0))?ne:"":O?(S=!0,`${se}\\p{M}*`):se)).endsWith("[ ]*")&&(Z=Z.slice(0,Z.length-4)),_&&O&&(S=!0,Z=`${Z}(?=[${M}]|[^\\p{M}]|$)`),[S,Z]}#r(Z){let O=this.#n;if(0===O.length)return;const{caseSensitive:_,entireWord:S,phraseSearch:z}=this._state,B=this._pageContents[Z],p=this._hasDiacritics[Z];let R=!1;if(z)[R,O]=this.#a(O,p);else{const se=O.match(/\S+/g);se&&(O=se.sort().reverse().map(he=>{const[Y,re]=this.#a(he,p);return R||=Y,`(${re})`}).join("|"))}O=new RegExp(O,`g${R?"u":""}${_?"":"i"}`),this.#c(O,S,Z,B),this._state.highlightAll&&this.#d(Z),this._resumePageIdx===Z&&(this._resumePageIdx=null,this.#f());const ne=this._pageMatches[Z].length;ne>0&&(this._matchesCountTotal+=ne,this.#b())}#h(){if(this._extractTextPromises.length>0)return;let Z=Promise.resolve();for(let O=0,_=this._linkService.pagesCount;O<_;O++){const S=(0,A.createPromiseCapability)();this._extractTextPromises[O]=S.promise,Z=Z.then(()=>this._pdfDocument.getPage(O+1).then(z=>z.getTextContent()).then(z=>{const B=[];for(const p of z.items)B.push(p.str),p.hasEOL&&B.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=G(B.join("")),S.resolve()},z=>{console.error(`Unable to get text content for page ${O+1}`,z),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,S.resolve()}))}}#d(Z){this._scrollMatches&&this._selected.pageIdx===Z&&(this._linkService.page=Z+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Z})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){const Z=this._state.findPrevious,O=this._linkService.page-1,_=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let z=0;z<_;z++)this._pendingFindMatches.has(z)||(this._pendingFindMatches.add(z),this._extractTextPromises[z].then(()=>{this._pendingFindMatches.delete(z),this.#r(z)}))}if(""===this.#n)return void this.#u(D.FOUND);if(this._resumePageIdx)return;const S=this._offset;if(this._pagesToSearch=_,null!==S.matchIdx){if(!Z&&S.matchIdx+1<this._pageMatches[S.pageIdx].length||Z&&S.matchIdx>0)return S.matchIdx=Z?S.matchIdx-1:S.matchIdx+1,void this.#m(!0);this.#v(Z)}this.#f()}#p(Z){const O=this._offset,_=Z.length,S=this._state.findPrevious;return _?(O.matchIdx=S?_-1:0,this.#m(!0),!0):(this.#v(S),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(this.#m(!1),!0))}#f(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Z=null;do{const O=this._offset.pageIdx;if(Z=this._pageMatches[O],!Z){this._resumePageIdx=O;break}}while(!this.#p(Z))}#v(Z){const O=this._offset,_=this._linkService.pagesCount;O.pageIdx=Z?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=_||O.pageIdx<0)&&(O.pageIdx=Z?_-1:0,O.wrapped=!0)}#m(Z=!1){let O=D.NOT_FOUND;const _=this._offset.wrapped;if(this._offset.wrapped=!1,Z){const S=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=_?D.WRAPPED:D.FOUND,-1!==S&&S!==this._selected.pageIdx&&this.#d(S)}this.#u(O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#d(this._selected.pageIdx))}#_(Z){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#u(D.FOUND),this._highlightMatches=!1,this.#l())})}#C(){const{pageIdx:Z,matchIdx:O}=this._selected;let _=0,S=this._matchesCountTotal;if(-1!==O){for(let z=0;z<Z;z++)_+=this._pageMatches[z]?.length||0;_+=O+1}return(_<1||_>S)&&(_=S=0),{current:_,total:S}}#b(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#C()})}#u(Z,O=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Z,previous:O,matchesCount:this.#C(),rawQuery:this._state?.query??null})}}},(Q,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CharacterType=void 0,v.getCharacterType=function g(y){return function C(y){return y<11904}(y)?function A(y){return 0==(65408&y)}(y)?function E(y){return 32===y||9===y||13===y||10===y}(y)?T.SPACE:function U(y){return y>=97&&y<=122||y>=65&&y<=90}(y)||function D(y){return y>=48&&y<=57}(y)||95===y?T.ALPHA_LETTER:T.PUNCT:function M(y){return 3584==(65408&y)}(y)?T.THAI_LETTER:160===y?T.SPACE:T.ALPHA_LETTER:function w(y){return y>=13312&&y<=40959||y>=63744&&y<=64255}(y)?T.HAN_LETTER:function V(y){return y>=12448&&y<=12543}(y)?T.KATAKANA_LETTER:function L(y){return y>=12352&&y<=12447}(y)?T.HIRAGANA_LETTER:function P(y){return y>=65376&&y<=65439}(y)?T.HALFWIDTH_KATAKANA_LETTER:T.ALPHA_LETTER};const T={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};v.CharacterType=T},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFHistory=void 0,v.isDestArraysEqual=P,v.isDestHashesEqual=L;var C=T(7),A=T(19);function w(){return document.location.hash}function L(M,g){return"string"==typeof M&&"string"==typeof g&&(M===g||(0,C.parseQueryString)(M).get("nameddest")===g)}function P(M,g){function y(N,ee){if(typeof N!=typeof ee||Array.isArray(N)||Array.isArray(ee))return!1;if(null!==N&&"object"==typeof N&&null!==ee){if(Object.keys(N).length!==Object.keys(ee).length)return!1;for(const ie in N)if(!y(N[ie],ee[ie]))return!1;return!0}return N===ee||Number.isNaN(N)&&Number.isNaN(ee)}if(!Array.isArray(M)||!Array.isArray(g)||M.length!==g.length)return!1;for(let N=0,ee=M.length;N<ee;N++)if(!y(M[N],g[N]))return!1;return!0}v.PDFHistory=class V{constructor({linkService:g,eventBus:y}){this.linkService=g,this.eventBus=y,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",N=>{this._isPagesLoaded=!!N.pagesCount},{once:!0})})}initialize({fingerprint:g,resetHistory:y=!1,updateUrl:N=!1}){if(!g||"string"!=typeof g)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const ee=""!==this._fingerprint&&this._fingerprint!==g;this._fingerprint=g,this._updateUrl=!0===N,this._initialized=!0,this._bindEvents();const ie=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=w(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(ie,!0)||y){const{hash:de,page:Oe,rotation:Me}=this._parseCurrentHash(!0);return!de||ee||y?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:de,page:Oe,rotation:Me},!0)}const fe=ie.destination;this._updateInternalState(fe,ie.uid,!0),void 0!==fe.rotation&&(this._initialRotation=fe.rotation),fe.dest?(this._initialBookmark=JSON.stringify(fe.dest),this._destination.page=null):fe.hash?this._initialBookmark=fe.hash:fe.page&&(this._initialBookmark=`page=${fe.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:g=null,explicitDest:y,pageNumber:N}){if(!this._initialized)return;if(g&&"string"!=typeof g)return void console.error(`PDFHistory.push: "${g}" is not a valid namedDest parameter.`);if(!Array.isArray(y))return void console.error(`PDFHistory.push: "${y}" is not a valid explicitDest parameter.`);if(!this._isValidPage(N)&&(null!==N||this._destination))return void console.error(`PDFHistory.push: "${N}" is not a valid pageNumber parameter.`);const ee=g||JSON.stringify(y);if(!ee)return;let ie=!1;if(this._destination&&(L(this._destination.hash,ee)||P(this._destination.dest,y))){if(this._destination.page)return;ie=!0}this._popStateInProgress&&!ie||(this._pushOrReplaceState({dest:y,hash:ee,page:N,rotation:this.linkService.rotation},ie),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(g){if(this._initialized){if(!this._isValidPage(g))return void console.error(`PDFHistory.pushPage: "${g}" is not a valid page number.`);this._destination?.page!==g&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${g}`,page:g,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const g=window.history.state;this._isValidState(g)&&g.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const g=window.history.state;this._isValidState(g)&&g.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(g,y=!1){const N=y||!this._destination,ee={fingerprint:this._fingerprint,uid:N?this._uid:this._uid+1,destination:g};let ie;if(this._updateInternalState(g,ee.uid),this._updateUrl&&g?.hash){const fe=document.location.href.split("#")[0];fe.startsWith("file://")||(ie=`${fe}#${g.hash}`)}N?window.history.replaceState(ee,"",ie):window.history.pushState(ee,"",ie)}_tryPushCurrentPosition(g=!1){if(!this._position)return;let y=this._position;if(g&&(y=Object.assign(Object.create(null),this._position),y.temporary=!0),!this._destination)return void this._pushOrReplaceState(y);if(this._destination.temporary)return void this._pushOrReplaceState(y,!0);if(this._destination.hash===y.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let N=!1;if(this._destination.page>=y.first&&this._destination.page<=y.page){if(void 0!==this._destination.dest||!this._destination.first)return;N=!0}this._pushOrReplaceState(y,N)}_isValidPage(g){return Number.isInteger(g)&&g>0&&g<=this.linkService.pagesCount}_isValidState(g,y=!1){if(!g)return!1;if(g.fingerprint!==this._fingerprint){if(!y)return!1;{if("string"!=typeof g.fingerprint||g.fingerprint.length!==this._fingerprint.length)return!1;const[N]=performance.getEntriesByType("navigation");if("reload"!==N?.type)return!1}}return!(!Number.isInteger(g.uid)||g.uid<0||null===g.destination||"object"!=typeof g.destination)}_updateInternalState(g,y,N=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),N&&g?.temporary&&delete g.temporary,this._destination=g,this._uid=y,this._maxUid=Math.max(this._maxUid,y),this._numPositionUpdates=0}_parseCurrentHash(g=!1){const y=unescape(w()).substring(1),N=(0,C.parseQueryString)(y),ee=N.get("nameddest")||"";let ie=0|N.get("page");return(!this._isValidPage(ie)||g&&ee.length>0)&&(ie=null),{hash:y,page:ie,rotation:this.linkService.rotation}}_updateViewarea({location:g}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:g.pdfOpenParams.substring(1),page:this.linkService.page,first:g.pageNumber,rotation:g.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:g}){const y=w(),N=this._currentHash!==y;if(this._currentHash=y,!g){this._uid++;const{hash:ie,page:fe,rotation:de}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:ie,page:fe,rotation:de},!0)}if(!this._isValidState(g))return;this._popStateInProgress=!0,N&&(this._blockHashChange++,(0,A.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const ee=g.destination;this._updateInternalState(ee,g.uid,!0),(0,C.isValidRotation)(ee.rotation)&&(this.linkService.rotation=ee.rotation),ee.dest?this.linkService.goToDestination(ee.dest):ee.hash?this.linkService.setHash(ee.hash):ee.page&&(this.linkService.page=ee.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFScriptingManager=void 0;var C=T(7),A=T(3);v.PDFScriptingManager=class U{constructor({eventBus:E,sandboxBundleSrc:w=null,scriptingFactory:V=null,docPropertiesLookup:L=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=E,this._sandboxBundleSrc=w,this._scriptingFactory=V,this._docPropertiesLookup=L,this._scriptingFactory||window.addEventListener("updatefromsandbox",P=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:P.detail})})}setViewer(E){this._pdfViewer=E}setDocument(E){var w=this;return k(function*(){if(w._pdfDocument&&(yield w._destroyScripting()),w._pdfDocument=E,!E)return;const[V,L,P]=yield Promise.all([E.getFieldObjects(),E.getCalculationOrderIds(),E.getJSActions()]);if(V||P){if(E===w._pdfDocument){try{w._scripting=w._createScripting()}catch(M){return console.error(`PDFScriptingManager.setDocument: "${M?.message}".`),void(yield w._destroyScripting())}w._internalEvents.set("updatefromsandbox",M=>{M?.source===window&&w._updateFromSandbox(M.detail)}),w._internalEvents.set("dispatcheventinsandbox",M=>{w._scripting?.dispatchEventInSandbox(M.detail)}),w._internalEvents.set("pagechanging",({pageNumber:M,previous:g})=>{M!==g&&(w._dispatchPageClose(g),w._dispatchPageOpen(M))}),w._internalEvents.set("pagerendered",({pageNumber:M})=>{w._pageOpenPending.has(M)&&M===w._pdfViewer.currentPageNumber&&w._dispatchPageOpen(M)}),w._internalEvents.set("pagesdestroy",function(){var M=k(function*(g){yield w._dispatchPageClose(w._pdfViewer.currentPageNumber),yield w._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),w._closeCapability?.resolve()});return function(g){return M.apply(this,arguments)}}()),w._domEvents.set("mousedown",M=>{w._mouseState.isDown=!0}),w._domEvents.set("mouseup",M=>{w._mouseState.isDown=!1});for(const[M,g]of w._internalEvents)w._eventBus._on(M,g);for(const[M,g]of w._domEvents)window.addEventListener(M,g,!0);try{const M=yield w._getDocProperties();if(E!==w._pdfDocument)return;yield w._scripting.createSandbox({objects:V,calculationOrder:L,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...M,actions:P}}),w._eventBus.dispatch("sandboxcreated",{source:w})}catch(M){return console.error(`PDFScriptingManager.setDocument: "${M?.message}".`),void(yield w._destroyScripting())}yield w._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield w._dispatchPageOpen(w._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{E===w._pdfDocument&&(w._ready=!0)})}}else yield w._destroyScripting()})()}dispatchWillSave(E){var w=this;return k(function*(){return w._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(E){var w=this;return k(function*(){return w._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(E){var w=this;return k(function*(){return w._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(E){var w=this;return k(function*(){return w._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,A.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,A.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,A.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,A.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(E){var w=this;return k(function*(){const V=w._pdfViewer.isInPresentationMode||w._pdfViewer.isChangingPresentationMode,{id:L,siblings:P,command:M,value:g}=E;if(!L){switch(M){case"clear":console.clear();break;case"error":console.error(g);break;case"layout":if(V)return;const N=(0,C.apiPageLayoutToViewerModes)(g);w._pdfViewer.spreadMode=N.spreadMode;break;case"page-num":w._pdfViewer.currentPageNumber=g+1;break;case"print":yield w._pdfViewer.pagesPromise,w._eventBus.dispatch("print",{source:w});break;case"println":console.log(g);break;case"zoom":if(V)return;w._pdfViewer.currentScaleValue=g;break;case"SaveAs":w._eventBus.dispatch("download",{source:w});break;case"FirstPage":w._pdfViewer.currentPageNumber=1;break;case"LastPage":w._pdfViewer.currentPageNumber=w._pdfViewer.pagesCount;break;case"NextPage":w._pdfViewer.nextPage();break;case"PrevPage":w._pdfViewer.previousPage();break;case"ZoomViewIn":if(V)return;w._pdfViewer.increaseScale();break;case"ZoomViewOut":if(V)return;w._pdfViewer.decreaseScale()}return}if(V&&E.focus)return;delete E.id,delete E.siblings;const y=P?[L,...P]:[L];for(const N of y){const ee=document.querySelector(`[data-element-id="${N}"]`);ee?ee.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:E})):w._pdfDocument?.annotationStorage.setValue(N,E)}})()}_dispatchPageOpen(E,w=!1){var V=this;return k(function*(){const L=V._pdfDocument,P=V._visitedPages;if(w&&(V._closeCapability=(0,A.createPromiseCapability)()),!V._closeCapability)return;const M=V._pdfViewer.getPageView(E-1);if(M?.renderingState!==C.RenderingStates.FINISHED)return void V._pageOpenPending.add(E);V._pageOpenPending.delete(E);const g=k(function*(){const y=yield P.has(E)?null:M.pdfPage?.getJSActions();L===V._pdfDocument&&(yield V._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:E,actions:y}))})();P.set(E,g)})()}_dispatchPageClose(E){var w=this;return k(function*(){const V=w._pdfDocument,L=w._visitedPages;if(!w._closeCapability||w._pageOpenPending.has(E))return;const P=L.get(E);P&&(L.set(E,null),yield P,V===w._pdfDocument&&(yield w._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:E})))})()}_getDocProperties(){var E=this;return k(function*(){if(E._docPropertiesLookup)return E._docPropertiesLookup(E._pdfDocument);const{docPropertiesLookup:w}=T(26);return w(E._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,A.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:E}=T(26);return new E(this._sandboxBundleSrc)}_destroyScripting(){var E=this;return k(function*(){if(!E._scripting)return E._pdfDocument=null,void E._destroyCapability?.resolve();E._closeCapability&&(yield Promise.race([E._closeCapability.promise,new Promise(w=>{setTimeout(w,1e3)})]).catch(w=>{}),E._closeCapability=null),E._pdfDocument=null;try{yield E._scripting.destroySandbox()}catch{}for(const[w,V]of E._internalEvents)E._eventBus._off(w,V);E._internalEvents.clear();for(const[w,V]of E._domEvents)window.removeEventListener(w,V,!0);E._domEvents.clear(),E._pageOpenPending.clear(),E._visitedPages.clear(),E._scripting=null,delete E._mouseState.isDown,E._ready=!1,E._destroyCapability?.resolve()})()}}},(Q,v,T)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.GenericScripting=void 0,v.docPropertiesLookup=function A(E){return U.apply(this,arguments)};var C=T(3);function U(){return(U=k(function*(E){const V="".split("#")[0];let{info:L,metadata:P,contentDispositionFilename:M,contentLength:g}=yield E.getMetadata();if(!g){const{length:y}=yield E.getDownloadInfo();g=y}return{...L,baseURL:V,filesize:g,filename:M||(0,C.getPdfFilenameFromUrl)(""),metadata:P?.getRaw(),authors:P?.get("dc:creator"),numPages:E.numPages,URL:""}})).apply(this,arguments)}v.GenericScripting=class D{constructor(w){this._ready=(0,C.loadScript)(w,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(w){var V=this;return k(function*(){(yield V._ready).create(w)})()}dispatchEventInSandbox(w){var V=this;return k(function*(){const L=yield V._ready;setTimeout(()=>L.dispatchEvent(w),0)})()}destroySandbox(){var w=this;return k(function*(){(yield w._ready).nukeSandbox()})()}}}],ve={};function ce(Q){var v=ve[Q];if(void 0!==v)return v.exports;var T=ve[Q]={exports:{}};return q[Q](T,T.exports,ce),T.exports}var be={};return(()=>{var Q=be;Object.defineProperty(Q,"__esModule",{value:!0}),Object.defineProperty(Q,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return U.AnnotationLayerBuilder}}),Object.defineProperty(Q,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return v.DefaultAnnotationLayerFactory}}),Object.defineProperty(Q,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return v.DefaultStructTreeLayerFactory}}),Object.defineProperty(Q,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return v.DefaultTextLayerFactory}}),Object.defineProperty(Q,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return v.DefaultXfaLayerFactory}}),Object.defineProperty(Q,"DownloadManager",{enumerable:!0,get:function(){return D.DownloadManager}}),Object.defineProperty(Q,"EventBus",{enumerable:!0,get:function(){return E.EventBus}}),Object.defineProperty(Q,"GenericL10n",{enumerable:!0,get:function(){return w.GenericL10n}}),Object.defineProperty(Q,"LinkTarget",{enumerable:!0,get:function(){return T.LinkTarget}}),Object.defineProperty(Q,"NullL10n",{enumerable:!0,get:function(){return V.NullL10n}}),Object.defineProperty(Q,"PDFFindController",{enumerable:!0,get:function(){return L.PDFFindController}}),Object.defineProperty(Q,"PDFHistory",{enumerable:!0,get:function(){return P.PDFHistory}}),Object.defineProperty(Q,"PDFLinkService",{enumerable:!0,get:function(){return T.PDFLinkService}}),Object.defineProperty(Q,"PDFPageView",{enumerable:!0,get:function(){return M.PDFPageView}}),Object.defineProperty(Q,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(Q,"PDFSinglePageViewer",{enumerable:!0,get:function(){return A.PDFSinglePageViewer}}),Object.defineProperty(Q,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}}),Object.defineProperty(Q,"ProgressBar",{enumerable:!0,get:function(){return C.ProgressBar}}),Object.defineProperty(Q,"RenderingStates",{enumerable:!0,get:function(){return C.RenderingStates}}),Object.defineProperty(Q,"ScrollMode",{enumerable:!0,get:function(){return C.ScrollMode}}),Object.defineProperty(Q,"SimpleLinkService",{enumerable:!0,get:function(){return T.SimpleLinkService}}),Object.defineProperty(Q,"SpreadMode",{enumerable:!0,get:function(){return C.SpreadMode}}),Object.defineProperty(Q,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return y.StructTreeLayerBuilder}}),Object.defineProperty(Q,"TextLayerBuilder",{enumerable:!0,get:function(){return N.TextLayerBuilder}}),Object.defineProperty(Q,"XfaLayerBuilder",{enumerable:!0,get:function(){return ee.XfaLayerBuilder}}),Object.defineProperty(Q,"parseQueryString",{enumerable:!0,get:function(){return C.parseQueryString}});var v=ce(1),T=ce(6),C=ce(7),A=ce(11),U=ce(5),D=ce(18),E=ce(19),w=ce(20),V=ce(4),L=ce(22),P=ce(24),M=ce(13),g=ce(25),y=ce(8),N=ce(9),ee=ce(10)})(),be})()},519:function(Pe){Pe.exports=function(){"use strict";function ae(H){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(H)}function k(H,h){if(!(H instanceof h))throw new TypeError("Cannot call a class as a function")}function q(H,h){for(var x=0;x<h.length;x++){var j=h[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(H,fe(j.key),j)}}function ve(H,h,x){return h&&q(H.prototype,h),x&&q(H,x),Object.defineProperty(H,"prototype",{writable:!1}),H}function be(H){return(be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(H)}function Q(H,h){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j})(H,h)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(H,h,x){return(T=v()?Reflect.construct.bind():function(_e,Ue,st){var Lt=[null];Lt.push.apply(Lt,Ue);var Bn=new(Function.bind.apply(_e,Lt));return st&&Q(Bn,st.prototype),Bn}).apply(null,arguments)}function A(H,h){if(h&&("object"==typeof h||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function C(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(H)}function E(){return E=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(h,x,j){var _e=function D(H,h){for(;!Object.prototype.hasOwnProperty.call(H,h)&&null!==(H=be(H)););return H}(h,x);if(_e){var Ue=Object.getOwnPropertyDescriptor(_e,x);return Ue.get?Ue.get.call(arguments.length<3?h:j):Ue.value}},E.apply(this,arguments)}function w(H,h){return function P(H){if(Array.isArray(H))return H}(H)||function I(H,h){var x=null==H?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(null!=x){var j,_e,Ue,st,Lt=[],zt=!0,Bn=!1;try{if(Ue=(x=x.call(H)).next,0===h){if(Object(x)!==x)return;zt=!1}else for(;!(zt=(j=Ue.call(x)).done)&&(Lt.push(j.value),Lt.length!==h);zt=!0);}catch(Xl){Bn=!0,_e=Xl}finally{try{if(!zt&&null!=x.return&&(st=x.return(),Object(st)!==st))return}finally{if(Bn)throw _e}}return Lt}}(H,h)||g(H,h)||function ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(H){return function L(H){if(Array.isArray(H))return y(H)}(H)||function M(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||g(H)||function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(H,h){if(H){if("string"==typeof H)return y(H,h);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return y(H,h)}}function y(H,h){(null==h||h>H.length)&&(h=H.length);for(var x=0,j=new Array(h);x<h;x++)j[x]=H[x];return j}function fe(H){var h=function ie(H,h){if("object"!=typeof H||null===H)return H;var x=H[Symbol.toPrimitive];if(void 0!==x){var j=x.call(H,h||"default");if("object"!=typeof j)return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(H)}(H,"string");return"symbol"==typeof h?h:String(h)}function de(H,h){return function G(H,h){return h.get?h.get.call(H):h.value}(H,Me(H,h,"get"))}function Oe(H,h,x){return function te(H,h,x){if(h.set)h.set.call(H,x);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=x}}(H,Me(H,h,"set"),x),x}function Me(H,h,x){if(!h.has(H))throw new TypeError("attempted to "+x+" private field on non-instance");return h.get(H)}function J(H,h,x){(function oe(H,h){if(h.has(H))throw new TypeError("Cannot initialize the same private elements twice on an object")})(H,h),h.set(H,x)}var O={},S=function(h){return new Promise(function(x){if(!h)return x();var j=window.scrollX,_e=window.scrollY;O.restoreFocusTimeout=setTimeout(function(){O.previousActiveElement instanceof HTMLElement?(O.previousActiveElement.focus(),O.previousActiveElement=null):document.body&&document.body.focus(),x()},100),window.scrollTo(j,_e)})},z="swal2-",p=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(H,h){return H[h]=z+h,H},{}),W=["success","warning","info","question","error"].reduce(function(H,h){return H[h]=z+h,H},{}),ne="SweetAlert2:",se=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},he=function(h){console.warn("".concat(ne," ").concat("object"===ae(h)?h.join(" "):h))},Y=function(h){console.error("".concat(ne," ").concat(h))},re=[],pe=function(h,x){!function(h){re.includes(h)||(re.push(h),he(h))}('"'.concat(h,'" is deprecated and will be removed in the next major release. Please use "').concat(x,'" instead.'))},Ce=function(h){return"function"==typeof h?h():h},xe=function(h){return h&&"function"==typeof h.toPromise},Ne=function(h){return xe(h)?h.toPromise():Promise.resolve(h)},He=function(h){return h&&Promise.resolve(h)===h},we=function(){return document.body.querySelector(".".concat(p.container))},Ie=function(h){var x=we();return x?x.querySelector(h):null},qe=function(h){return Ie(".".concat(h))},Te=function(){return qe(p.popup)},lt=function(){return qe(p.icon)},et=function(){return qe(p.title)},bt=function(){return qe(p["html-container"])},ft=function(){return qe(p.image)},Jt=function(){return qe(p["progress-steps"])},dn=function(){return qe(p["validation-message"])},kn=function(){return Ie(".".concat(p.actions," .").concat(p.confirm))},un=function(){return Ie(".".concat(p.actions," .").concat(p.cancel))},Yt=function(){return Ie(".".concat(p.actions," .").concat(p.deny))},vr=function(){return Ie(".".concat(p.loader))},Or=function(){return qe(p.actions)},zo=function(){return qe(p.footer)},pi=function(){return qe(p["timer-progress-bar"])},Xn=function(){return qe(p.close)},De=function(){var h=Te();if(!h)return[];var x=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),j=Array.from(x).sort(function(st,Lt){var zt=parseInt(st.getAttribute("tabindex")||"0"),Bn=parseInt(Lt.getAttribute("tabindex")||"0");return zt>Bn?1:zt<Bn?-1:0}),_e=h.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),Ue=Array.from(_e).filter(function(st){return"-1"!==st.getAttribute("tabindex")});return V(new Set(j.concat(Ue))).filter(function(st){return dt(st)})},Se=function(){return Ct(document.body,p.shown)&&!Ct(document.body,p["toast-shown"])&&!Ct(document.body,p["no-backdrop"])},nt=function(){var h=Te();return!!h&&Ct(h,p.toast)},Nt=function(h,x){if(h.textContent="",x){var _e=(new DOMParser).parseFromString(x,"text/html"),Ue=_e.querySelector("head");Ue&&Array.from(Ue.childNodes).forEach(function(Lt){h.appendChild(Lt)});var st=_e.querySelector("body");st&&Array.from(st.childNodes).forEach(function(Lt){Lt instanceof HTMLVideoElement||Lt instanceof HTMLAudioElement?h.appendChild(Lt.cloneNode(!0)):h.appendChild(Lt)})}},Ct=function(h,x){if(!x)return!1;for(var j=x.split(/\s+/),_e=0;_e<j.length;_e++)if(!h.classList.contains(j[_e]))return!1;return!0},zn=function(h,x,j){if(function(h,x){Array.from(h.classList).forEach(function(j){!Object.values(p).includes(j)&&!Object.values(W).includes(j)&&!Object.values(x.showClass||{}).includes(j)&&h.classList.remove(j)})}(h,x),x.customClass&&x.customClass[j]){if("string"!=typeof x.customClass[j]&&!x.customClass[j].forEach)return void he("Invalid type of customClass.".concat(j,'! Expected string or iterable object, got "').concat(ae(x.customClass[j]),'"'));Bt(h,x.customClass[j])}},Ut=function(h,x){if(!x)return null;switch(x){case"select":case"textarea":case"file":return h.querySelector(".".concat(p.popup," > .").concat(p[x]));case"checkbox":return h.querySelector(".".concat(p.popup," > .").concat(p.checkbox," input"));case"radio":return h.querySelector(".".concat(p.popup," > .").concat(p.radio," input:checked"))||h.querySelector(".".concat(p.popup," > .").concat(p.radio," input:first-child"));case"range":return h.querySelector(".".concat(p.popup," > .").concat(p.range," input"));default:return h.querySelector(".".concat(p.popup," > .").concat(p.input))}},Zn=function(h){if(h.focus(),"file"!==h.type){var x=h.value;h.value="",h.value=x}},Rr=function(h,x,j){!h||!x||("string"==typeof x&&(x=x.split(/\s+/).filter(Boolean)),x.forEach(function(_e){Array.isArray(h)?h.forEach(function(Ue){j?Ue.classList.add(_e):Ue.classList.remove(_e)}):j?h.classList.add(_e):h.classList.remove(_e)}))},Bt=function(h,x){Rr(h,x,!0)},Ki=function(h,x){Rr(h,x,!1)},ut=function(h,x){for(var j=Array.from(h.children),_e=0;_e<j.length;_e++){var Ue=j[_e];if(Ue instanceof HTMLElement&&Ct(Ue,x))return Ue}},lr=function(h,x,j){j==="".concat(parseInt(j))&&(j=parseInt(j)),j||0===parseInt(j)?h.style[x]="number"==typeof j?"".concat(j,"px"):j:h.style.removeProperty(x)},Zt=function(h){h&&(h.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Jn=function(h){h&&(h.style.display="none")},An=function(h){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";h&&new MutationObserver(function(){gi(h,h.innerHTML,x)}).observe(h,{childList:!0,subtree:!0})},on=function(h,x,j,_e){var Ue=h.querySelector(x);Ue&&(Ue.style[j]=_e)},gi=function(h,x){x?Zt(h,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Jn(h)},dt=function(h){return!(!h||!(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},Rd=function(h){return h.scrollHeight>h.clientHeight},Le=function(h){var x=window.getComputedStyle(h),j=parseFloat(x.getPropertyValue("animation-duration")||"0"),_e=parseFloat(x.getPropertyValue("transition-duration")||"0");return j>0||_e>0},js=function(h){var x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],j=pi();j&&dt(j)&&(x&&(j.style.transition="none",j.style.width="100%"),setTimeout(function(){j.style.transition="width ".concat(h/1e3,"s linear"),j.style.width="0%"},10))},af=function(){return typeof window>"u"||typeof document>"u"},y1='\n <div aria-labelledby="'.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,'" tabindex="-1">\n   <button type="button" class="').concat(p.close,'"></button>\n   <ul class="').concat(p["progress-steps"],'"></ul>\n   <div class="').concat(p.icon,'"></div>\n   <img class="').concat(p.image,'" />\n   <h2 class="').concat(p.title,'" id="').concat(p.title,'"></h2>\n   <div class="').concat(p["html-container"],'" id="').concat(p["html-container"],'"></div>\n   <input class="').concat(p.input,'" id="').concat(p.input,'" />\n   <input type="file" class="').concat(p.file,'" />\n   <div class="').concat(p.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(p.select,'" id="').concat(p.select,'"></select>\n   <div class="').concat(p.radio,'"></div>\n   <label class="').concat(p.checkbox,'">\n     <input type="checkbox" id="').concat(p.checkbox,'" />\n     <span class="').concat(p.label,'"></span>\n   </label>\n   <textarea class="').concat(p.textarea,'" id="').concat(p.textarea,'"></textarea>\n   <div class="').concat(p["validation-message"],'" id="').concat(p["validation-message"],'"></div>\n   <div class="').concat(p.actions,'">\n     <div class="').concat(p.loader,'"></div>\n     <button type="button" class="').concat(p.confirm,'"></button>\n     <button type="button" class="').concat(p.deny,'"></button>\n     <button type="button" class="').concat(p.cancel,'"></button>\n   </div>\n   <div class="').concat(p.footer,'"></div>\n   <div class="').concat(p["timer-progress-bar-container"],'">\n     <div class="').concat(p["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Hs=function(){O.currentInstance.resetValidationMessage()},i_=function(h){var x=function(){var h=we();return!!h&&(h.remove(),Ki([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0)}();if(af())Y("SweetAlert2 requires document to initialize");else{var j=document.createElement("div");j.className=p.container,x&&Bt(j,p["no-transition"]),Nt(j,y1);var _e=function(h){return"string"==typeof h?document.querySelector(h):h}(h.target);_e.appendChild(j),function(h){var x=Te();x.setAttribute("role",h.toast?"alert":"dialog"),x.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||x.setAttribute("aria-modal","true")}(h),function(h){"rtl"===window.getComputedStyle(h).direction&&Bt(we(),p.rtl)}(_e),function(){var h=Te(),x=ut(h,p.input),j=ut(h,p.file),_e=h.querySelector(".".concat(p.range," input")),Ue=h.querySelector(".".concat(p.range," output")),st=ut(h,p.select),Lt=h.querySelector(".".concat(p.checkbox," input")),zt=ut(h,p.textarea);x.oninput=Hs,j.onchange=Hs,st.onchange=Hs,Lt.onchange=Hs,zt.oninput=Hs,_e.oninput=function(){Hs(),Ue.value=_e.value},_e.onchange=function(){Hs(),Ue.value=_e.value}}()}},ei=function(h,x){h instanceof HTMLElement?x.appendChild(h):"object"===ae(h)?Nd(h,x):h&&Nt(x,h)},Nd=function(h,x){h.jquery?E1(x,h):Nt(x,h.toString())},E1=function(h,x){if(h.textContent="",0 in x)for(var j=0;j in x;j++)h.appendChild(x[j].cloneNode(!0));else h.appendChild(x.cloneNode(!0))},vo=function(){if(af())return!1;var H=document.createElement("div");return typeof H.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof H.style.animation<"u"&&"animationend"}(),Pt=function(h,x){var j=Or(),_e=vr();!j||!_e||(x.showConfirmButton||x.showDenyButton||x.showCancelButton?Zt(j):Jn(j),zn(j,x,"actions"),function xt(H,h,x){var j=kn(),_e=Yt(),Ue=un();!j||!_e||!Ue||(Ta(j,"confirm",x),Ta(_e,"deny",x),Ta(Ue,"cancel",x),function Fl(H,h,x,j){j.buttonsStyling?(Bt([H,h,x],p.styled),j.confirmButtonColor&&(H.style.backgroundColor=j.confirmButtonColor,Bt(H,p["default-outline"])),j.denyButtonColor&&(h.style.backgroundColor=j.denyButtonColor,Bt(h,p["default-outline"])),j.cancelButtonColor&&(x.style.backgroundColor=j.cancelButtonColor,Bt(x,p["default-outline"]))):Ki([H,h,x],p.styled)}(j,_e,Ue,x),x.reverseButtons&&(x.toast?(H.insertBefore(Ue,j),H.insertBefore(_e,j)):(H.insertBefore(Ue,h),H.insertBefore(_e,h),H.insertBefore(j,h))))}(j,_e,x),Nt(_e,x.loaderHtml||""),zn(_e,x,"loader"))};function Ta(H,h,x){var j=se(h);gi(H,x["show".concat(j,"Button")],"inline-block"),Nt(H,x["".concat(h,"ButtonText")]||""),H.setAttribute("aria-label",x["".concat(h,"ButtonAriaLabel")]||""),H.className=p[h],zn(H,x,"".concat(h,"Button"))}var Pd=function(h,x){var j=we();j&&(function Fd(H,h){"string"==typeof h?H.style.background=h:h||Bt([document.documentElement,document.body],p["no-backdrop"])}(j,x.backdrop),function lf(H,h){h&&(h in p?Bt(H,p[h]):(he('The "position" parameter is not valid, defaulting to "center"'),Bt(H,p.center)))}(j,x.position),function Ds(H,h){h&&Bt(H,p["grow-".concat(h)])}(j,x.grow),zn(j,x,"container"))};var mn={innerParams:new WeakMap,domCache:new WeakMap},cf=["input","file","range","select","radio","checkbox","textarea"],fn=function(h){if(h.input){if(!oi[h.input])return void Y("Unexpected type of input! Expected ".concat(Object.keys(oi).join(" | "),', got "').concat(h.input,'"'));var x=Ll(h.input),j=oi[h.input](x,h);Zt(x),h.inputAutoFocus&&setTimeout(function(){Zn(j)})}},r_=function(h,x){var j=Ut(Te(),h);if(j)for(var _e in function(h){for(var x=0;x<h.attributes.length;x++){var j=h.attributes[x].name;["id","type","value","style"].includes(j)||h.removeAttribute(j)}}(j),x)j.setAttribute(_e,x[_e])},s_=function(h){var x=Ll(h.input);"object"===ae(h.customClass)&&Bt(x,h.customClass.input)},df=function(h,x){(!h.placeholder||x.inputPlaceholder)&&(h.placeholder=x.inputPlaceholder)},Ia=function(h,x,j){if(j.inputLabel){var _e=document.createElement("label"),Ue=p["input-label"];_e.setAttribute("for",h.id),_e.className=Ue,"object"===ae(j.customClass)&&Bt(_e,j.customClass.inputLabel),_e.innerText=j.inputLabel,x.insertAdjacentElement("beforebegin",_e)}},Ll=function(h){return ut(Te(),p[h]||p.input)},Fi=function(h,x){["string","number"].includes(ae(x))?h.value="".concat(x):He(x)||he('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(ae(x),'"'))},oi={};oi.text=oi.email=oi.password=oi.number=oi.tel=oi.url=oi.search=oi.date=oi["datetime-local"]=oi.time=oi.week=oi.month=function(H,h){return Fi(H,h.inputValue),Ia(H,H,h),df(H,h),H.type=h.input,H},oi.file=function(H,h){return Ia(H,H,h),df(H,h),H},oi.range=function(H,h){var x=H.querySelector("input"),j=H.querySelector("output");return Fi(x,h.inputValue),x.type=h.input,Fi(j,h.inputValue),Ia(x,H,h),H},oi.select=function(H,h){if(H.textContent="",h.inputPlaceholder){var x=document.createElement("option");Nt(x,h.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,H.appendChild(x)}return Ia(H,H,h),H},oi.radio=function(H){return H.textContent="",H},oi.checkbox=function(H,h){var x=Ut(Te(),"checkbox");x.value="1",x.checked=!!h.inputValue;var j=H.querySelector("span");return Nt(j,h.inputPlaceholder),x},oi.textarea=function(H,h){Fi(H,h.inputValue),df(H,h),Ia(H,H,h);return setTimeout(function(){if("MutationObserver"in window){var j=parseInt(window.getComputedStyle(Te()).width);new MutationObserver(function(){if(document.body.contains(H)){var st=H.offsetWidth+(_e=H,parseInt(window.getComputedStyle(_e).marginLeft)+parseInt(window.getComputedStyle(_e).marginRight));st>j?Te().style.width="".concat(st,"px"):lr(Te(),"width",h.width)}var _e}).observe(H,{attributes:!0,attributeFilter:["style"]})}}),H};var o_=function(h,x){var j=bt();j&&(An(j),zn(j,x,"htmlContainer"),x.html?(ei(x.html,j),Zt(j,"block")):x.text?(j.textContent=x.text,Zt(j,"block")):Jn(j),function(h,x){var j=Te();if(j){var _e=mn.innerParams.get(h),Ue=!_e||x.input!==_e.input;cf.forEach(function(st){var Lt=ut(j,p[st]);Lt&&(r_(st,x.inputAttributes),Lt.className=p[st],Ue&&Jn(Lt))}),x.input&&(Ue&&fn(x),s_(x))}}(h,x))},a_=function(h,x){for(var j=0,_e=Object.entries(W);j<_e.length;j++){var Ue=w(_e[j],2);x.icon!==Ue[0]&&Ki(h,Ue[1])}Bt(h,x.icon&&W[x.icon]),I1(h,x),S1(),zn(h,x,"icon")},S1=function(){var h=Te();if(h)for(var x=window.getComputedStyle(h).getPropertyValue("background-color"),j=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),_e=0;_e<j.length;_e++)j[_e].style.backgroundColor=x},uf=function(h,x){if(x.icon||x.iconHtml){var j=h.innerHTML,_e="";x.iconHtml?_e=hf(x.iconHtml):"success"===x.icon?(_e='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',j=j.replace(/ style=".*?"/g,"")):"error"===x.icon?_e='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':x.icon&&(_e=hf({question:"?",warning:"!",info:"i"}[x.icon])),j.trim()!==_e.trim()&&Nt(h,_e)}},I1=function(h,x){if(x.iconColor){h.style.color=x.iconColor,h.style.borderColor=x.iconColor;for(var j=0,_e=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];j<_e.length;j++)on(h,_e[j],"backgroundColor",x.iconColor);on(h,".swal2-success-ring","borderColor",x.iconColor)}},hf=function(h){return'<div class="'.concat(p["icon-content"],'">').concat(h,"</div>")},Et=function(h,x){var j=x.showClass||{};h.className="".concat(p.popup," ").concat(dt(h)?j.popup:""),x.toast?(Bt([document.documentElement,document.body],p["toast-shown"]),Bt(h,p.toast)):Bt(h,p.modal),zn(h,x,"popup"),"string"==typeof x.customClass&&Bt(h,x.customClass),x.icon&&Bt(h,p["icon-".concat(x.icon)])},R1=function(h){var x=document.createElement("li");return Bt(x,p["progress-step"]),Nt(x,h),x},N1=function(h){var x=document.createElement("li");return Bt(x,p["progress-step-line"]),h.progressStepsDistance&&lr(x,"width",h.progressStepsDistance),x},je=function(h,x){(function(h,x){var j=we(),_e=Te();if(j&&_e){if(x.toast){lr(j,"width",x.width),_e.style.width="100%";var Ue=vr();Ue&&_e.insertBefore(Ue,lt())}else lr(_e,"width",x.width);lr(_e,"padding",x.padding),x.color&&(_e.style.color=x.color),x.background&&(_e.style.background=x.background),Jn(dn()),Et(_e,x)}})(0,x),Pd(0,x),function(h,x){var j=Jt();if(j){var _e=x.progressSteps,Ue=x.currentProgressStep;if(!_e||0===_e.length||void 0===Ue)return void Jn(j);Zt(j),j.textContent="",Ue>=_e.length&&he("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_e.forEach(function(st,Lt){var zt=R1(st);if(j.appendChild(zt),Lt===Ue&&Bt(zt,p["active-progress-step"]),Lt!==_e.length-1){var Bn=N1(x);j.appendChild(Bn)}})}}(0,x),function(h,x){var j=mn.innerParams.get(h),_e=lt();if(_e){if(j&&x.icon===j.icon)return uf(_e,x),void a_(_e,x);if(!x.icon&&!x.iconHtml)return void Jn(_e);if(x.icon&&-1===Object.keys(W).indexOf(x.icon))return Y('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(x.icon,'"')),void Jn(_e);Zt(_e),uf(_e,x),a_(_e,x),Bt(_e,x.showClass&&x.showClass.icon)}}(h,x),function(h,x){var j=ft();if(j){if(!x.imageUrl)return void Jn(j);Zt(j,""),j.setAttribute("src",x.imageUrl),j.setAttribute("alt",x.imageAlt||""),lr(j,"width",x.imageWidth),lr(j,"height",x.imageHeight),j.className=p.image,zn(j,x,"image")}}(0,x),function(h,x){var j=et();j&&(An(j),gi(j,x.title||x.titleText,"block"),x.title&&ei(x.title,j),x.titleText&&(j.innerText=x.titleText),zn(j,x,"title"))}(0,x),function(h,x){var j=Xn();j&&(Nt(j,x.closeButtonHtml||""),zn(j,x,"closeButton"),gi(j,x.showCloseButton),j.setAttribute("aria-label",x.closeButtonAriaLabel||""))}(0,x),o_(h,x),Pt(0,x),function(h,x){var j=zo();j&&(An(j),gi(j,x.footer,"block"),x.footer&&ei(x.footer,j),zn(j,x,"footer"))}(0,x);var j=Te();"function"==typeof x.didRender&&j&&x.didRender(j)},Tt=function(){var h;return null===(h=kn())||void 0===h?void 0:h.click()},yo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ff=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},qo=function(h,x){var j,_e=De();if(_e.length)return(h+=x)===_e.length?h=0:-1===h&&(h=_e.length-1),void _e[h].focus();null===(j=Te())||void 0===j||j.focus()},Ul=["ArrowRight","ArrowDown"],pf=["ArrowLeft","ArrowUp"],c_=function(h,x,j){h&&(x.isComposing||229===x.keyCode||(h.stopKeydownPropagation&&x.stopPropagation(),"Enter"===x.key?Kt(x,h):"Tab"===x.key?Ld(x):[].concat(Ul,pf).includes(x.key)?gf(x.key):"Escape"===x.key&&rr(x,h,j)))},Kt=function(h,x){if(Ce(x.allowEnterKey)){var j=Ut(Te(),x.input);if(h.target&&j&&h.target instanceof HTMLElement&&h.target.outerHTML===j.outerHTML){if(["textarea","file"].includes(x.input))return;Tt(),h.preventDefault()}}},Ld=function(h){for(var x=h.target,j=De(),_e=-1,Ue=0;Ue<j.length;Ue++)if(x===j[Ue]){_e=Ue;break}qo(_e,h.shiftKey?-1:1),h.stopPropagation(),h.preventDefault()},gf=function(h){var x=Or(),j=kn(),_e=Yt(),Ue=un();if(x&&j&&_e&&Ue&&(!(document.activeElement instanceof HTMLElement)||[j,_e,Ue].includes(document.activeElement))){var Lt=Ul.includes(h)?"nextElementSibling":"previousElementSibling",zt=document.activeElement;if(zt){for(var Bn=0;Bn<x.children.length;Bn++){if(!(zt=zt[Lt]))return;if(zt instanceof HTMLButtonElement&&dt(zt))break}zt instanceof HTMLButtonElement&&zt.focus()}}},rr=function(h,x,j){Ce(x.allowEscapeKey)&&(h.preventDefault(),j(yo.esc))},bo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},pn=function(){Array.from(document.body.children).forEach(function(x){x.hasAttribute("data-previous-aria-hidden")?(x.setAttribute("aria-hidden",x.getAttribute("data-previous-aria-hidden")||""),x.removeAttribute("data-previous-aria-hidden")):x.removeAttribute("aria-hidden")})},d_=typeof window<"u"&&!!window.GestureEvent,Xe=function(){var x,h=we();h&&(h.ontouchstart=function(j){x=Bd(j)},h.ontouchmove=function(j){x&&(j.preventDefault(),j.stopPropagation())})},Bd=function(h){var x=h.target,j=we(),_e=bt();return!(!j||!_e||Vd(h)||mf(h)||x!==j&&(Rd(j)||!(x instanceof HTMLElement)||"INPUT"===x.tagName||"TEXTAREA"===x.tagName||Rd(_e)&&_e.contains(x)))},Vd=function(h){return h.touches&&h.touches.length&&"stylus"===h.touches[0].touchType},mf=function(h){return h.touches&&h.touches.length>1},$s=null,V1=function(h){null===$s&&(document.body.scrollHeight>window.innerHeight||"scroll"===h)&&($s=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat($s+function(){var h=document.createElement("div");h.className=p["scrollbar-measure"],document.body.appendChild(h);var x=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),x}(),"px"))};function h_(H,h,x,j){nt()?jd(H,j):(S(x).then(function(){return jd(H,j)}),ff(O)),d_?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Se()&&(null!==$s&&(document.body.style.paddingRight="".concat($s,"px"),$s=null),function(){if(Ct(document.body,p.iosfix)){var h=parseInt(document.body.style.top,10);Ki(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=-1*h}}(),pn()),function j1(){Ki([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}()}function wo(H){H=f_(H);var h=bo.swalPromiseResolve.get(this),x=ka(this);this.isAwaitingPromise?H.isDismissed||(Ws(this),h(H)):x&&h(H)}var ka=function(h){var x=Te();if(!x)return!1;var j=mn.innerParams.get(h);if(!j||Ct(x,j.hideClass.popup))return!1;Ki(x,j.showClass.popup),Bt(x,j.hideClass.popup);var _e=we();return Ki(_e,j.showClass.backdrop),Bt(_e,j.hideClass.backdrop),p_(h,x,j),!0};function jl(H){var h=bo.swalPromiseReject.get(this);Ws(this),h&&h(H)}var Ws=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,mn.innerParams.get(h)||h._destroy())},f_=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},p_=function(h,x,j){var _e=we(),Ue=vo&&Le(x);"function"==typeof j.willClose&&j.willClose(x),Ue?g_(h,x,_e,j.returnFocus,j.didClose):h_(h,_e,j.returnFocus,j.didClose)},g_=function(h,x,j,_e,Ue){vo&&(O.swalCloseEventFinishedCallback=h_.bind(null,h,j,_e,Ue),x.addEventListener(vo,function(st){st.target===x&&(O.swalCloseEventFinishedCallback(),delete O.swalCloseEventFinishedCallback)}))},jd=function(h,x){setTimeout(function(){"function"==typeof x&&x.bind(h.params)(),h._destroy&&h._destroy()})},Nr=function(h){var x=Te();if(x||new Jd,x=Te()){var j=vr();nt()?Jn(lt()):m_(x,h),Zt(j),x.setAttribute("data-loading","true"),x.setAttribute("aria-busy","true"),x.focus()}},m_=function(h,x){var j=Or(),_e=vr();!j||!_e||(!x&&dt(kn())&&(x=kn()),Zt(j),x&&(Jn(x),_e.setAttribute("data-button-to-replace",x.className),j.insertBefore(_e,x)),Bt([h,j],p.loading))},Ge=function(h){return h.checked?1:0},_f=function(h){return h.checked?h.value:null},Ke=function(h){return h.files&&h.files.length?null!==h.getAttribute("multiple")?h.files:h.files[0]:null},Hl=function(h,x){var j=Te();if(j){var _e=function(st){"select"===x.input?function Oa(H,h,x){var j=ut(H,p.select);if(j){var _e=function(st,Lt,zt){var Bn=document.createElement("option");Bn.value=zt,Nt(Bn,Lt),Bn.selected=yf(zt,x.inputValue),st.appendChild(Bn)};h.forEach(function(Ue){var st=Ue[0],Lt=Ue[1];if(Array.isArray(Lt)){var zt=document.createElement("optgroup");zt.label=st,zt.disabled=!1,j.appendChild(zt),Lt.forEach(function(Bn){return _e(zt,Bn[1],Bn[0])})}else _e(j,Lt,st)}),j.focus()}}(j,vf(st),x):"radio"===x.input&&function v_(H,h,x){var j=ut(H,p.radio);if(j){h.forEach(function(Ue){var st=Ue[0],Lt=Ue[1],zt=document.createElement("input"),Bn=document.createElement("label");zt.type="radio",zt.name=p.radio,zt.value=st,yf(st,x.inputValue)&&(zt.checked=!0);var Xl=document.createElement("span");Nt(Xl,Lt),Xl.className=p.label,Bn.appendChild(zt),Bn.appendChild(Xl),j.appendChild(Bn)});var _e=j.querySelectorAll("input");_e.length&&_e[0].focus()}}(j,vf(st),x)};xe(x.inputOptions)||He(x.inputOptions)?(Nr(kn()),Ne(x.inputOptions).then(function(Ue){h.hideLoading(),_e(Ue)})):"object"===ae(x.inputOptions)?_e(x.inputOptions):Y("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(ae(x.inputOptions)))}},Hd=function(h,x){var j=h.getInput();j&&(Jn(j),Ne(x.inputValue).then(function(_e){j.value="".concat("number"===x.input?parseFloat(_e)||0:_e),Zt(j),j.focus(),h.hideLoading()}).catch(function(_e){Y("Error in inputValue promise: ".concat(_e)),j.value="",Zt(j),j.focus(),h.hideLoading()}))};var vf=function H(h){var x=[];return h instanceof Map?h.forEach(function(j,_e){var Ue=j;"object"===ae(Ue)&&(Ue=H(Ue)),x.push([_e,Ue])}):Object.keys(h).forEach(function(j){var _e=h[j];"object"===ae(_e)&&(_e=H(_e)),x.push([j,_e])}),x},yf=function(h,x){return!!x&&x.toString()===h.toString()},br=void 0,an=function(h,x){var j=mn.innerParams.get(h);if(j.input){var _e=h.getInput(),Ue=function(h,x){var j=h.getInput();if(!j)return null;switch(x.input){case"checkbox":return Ge(j);case"radio":return _f(j);case"file":return Ke(j);default:return x.inputAutoTrim?j.value.trim():j.value}}(h,j);j.inputValidator?vt(h,Ue,x):_e&&!_e.checkValidity()?(h.enableButtons(),h.showValidationMessage(j.validationMessage)):"deny"===x?$l(h,Ue):zl(h,Ue)}else Y('The "input" parameter is needed to be set when using returnInputValueOn'.concat(se(x)))},vt=function(h,x,j){var _e=mn.innerParams.get(h);h.disableInput(),Promise.resolve().then(function(){return Ne(_e.inputValidator(x,_e.validationMessage))}).then(function(st){h.enableButtons(),h.enableInput(),st?h.showValidationMessage(st):"deny"===j?$l(h,x):zl(h,x)})},$l=function(h,x){var j=mn.innerParams.get(h||br);j.showLoaderOnDeny&&Nr(Yt()),j.preDeny?(h.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ne(j.preDeny(x,j.validationMessage))}).then(function(Ue){!1===Ue?(h.hideLoading(),Ws(h)):h.close({isDenied:!0,value:typeof Ue>"u"?x:Ue})}).catch(function(Ue){return Gd(h||br,Ue)})):h.close({isDenied:!0,value:x})},Wl=function(h,x){h.close({isConfirmed:!0,value:x})},Gd=function(h,x){h.rejectPromise(x)},zl=function(h,x){var j=mn.innerParams.get(h||br);j.showLoaderOnConfirm&&Nr(),j.preConfirm?(h.resetValidationMessage(),h.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ne(j.preConfirm(x,j.validationMessage))}).then(function(Ue){dt(dn())||!1===Ue?(h.hideLoading(),Ws(h)):Wl(h,typeof Ue>"u"?x:Ue)}).catch(function(Ue){return Gd(h||br,Ue)})):Wl(h,x)};function qs(){var H=mn.innerParams.get(this);if(H){var h=mn.domCache.get(this);Jn(h.loader),nt()?H.icon&&Zt(lt()):bf(h),Ki([h.popup,h.actions],p.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var bf=function(h){var x=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));x.length?Zt(x[0],"inline-block"):!dt(kn())&&!dt(Yt())&&!dt(un())&&Jn(h.actions)};function $d(){var H=mn.innerParams.get(this),h=mn.domCache.get(this);return h?Ut(h.popup,H.input):null}function wf(H,h,x){var j=mn.domCache.get(H);h.forEach(function(_e){j[_e].disabled=x})}function Wd(H,h){var x=Te();if(x&&H)if("radio"===H.type)for(var j=x.querySelectorAll('[name="'.concat(p.radio,'"]')),_e=0;_e<j.length;_e++)j[_e].disabled=h;else H.disabled=h}function Cf(){wf(this,["confirmButton","denyButton","cancelButton"],!1)}function xf(){wf(this,["confirmButton","denyButton","cancelButton"],!0)}function wr(){Wd(this.getInput(),!1)}function Ef(){Wd(this.getInput(),!0)}function zd(H){var h=mn.domCache.get(this),x=mn.innerParams.get(this);Nt(h.validationMessage,H),h.validationMessage.className=p["validation-message"],x.customClass&&x.customClass.validationMessage&&Bt(h.validationMessage,x.customClass.validationMessage),Zt(h.validationMessage);var j=this.getInput();j&&(j.setAttribute("aria-invalid","true"),j.setAttribute("aria-describedby",p["validation-message"]),Zn(j),Bt(j,p.inputerror))}function Af(){var H=mn.domCache.get(this);H.validationMessage&&Jn(H.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Ki(h,p.inputerror))}var Yo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},y_=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],b_={},Df=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Sf=function(h){return Object.prototype.hasOwnProperty.call(Yo,h)},Tf=function(h){return-1!==y_.indexOf(h)},Mf=function(h){return b_[h]},jt=function(h){Sf(h)||he('Unknown parameter "'.concat(h,'"'))},w_=function(h){Df.includes(h)&&he('The parameter "'.concat(h,'" is incompatible with toasts'))},C_=function(h){var x=Mf(h);x&&pe(h,x)};function qd(H){var h=Te(),x=mn.innerParams.get(this);if(h&&!Ct(h,x.hideClass.popup)){var j=Be(H),_e=Object.assign({},x,j);je(this,_e),mn.innerParams.set(this,_e),Object.defineProperties(this,{params:{value:Object.assign({},this.params,H),writable:!1,enumerable:!0}})}else he("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Be=function(h){var x={};return Object.keys(h).forEach(function(j){Tf(j)?x[j]=h[j]:he("Invalid parameter to update: ".concat(j))}),x};function Li(){var H=mn.domCache.get(this),h=mn.innerParams.get(this);h?(H.popup&&O.swalCloseEventFinishedCallback&&(O.swalCloseEventFinishedCallback(),delete O.swalCloseEventFinishedCallback),"function"==typeof h.didDestroy&&h.didDestroy(),Ht(this)):ai(this)}var Ht=function(h){ai(h),delete h.params,delete O.keydownHandler,delete O.keydownTarget,delete O.currentInstance},ai=function(h){h.isAwaitingPromise?(mi(mn,h),h.isAwaitingPromise=!0):(mi(bo,h),mi(mn,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},mi=function(h,x){for(var j in h)h[j].delete(x)},Ys=Object.freeze({__proto__:null,_destroy:Li,close:wo,closeModal:wo,closePopup:wo,closeToast:wo,disableButtons:xf,disableInput:Ef,disableLoading:qs,enableButtons:Cf,enableInput:wr,getInput:$d,handleAwaitingPromise:Ws,hideLoading:qs,rejectPromise:jl,resetValidationMessage:Af,showValidationMessage:zd,update:qd}),If=function(h,x,j){x.popup.onclick=function(){h&&(kf(h)||h.timer||h.input)||j(yo.close)}},kf=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},Co=!1,x_=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(x){h.container.onmouseup=function(){},x.target===h.container&&(Co=!0)}}},E_=function(h){h.container.onmousedown=function(){h.popup.onmouseup=function(x){h.popup.onmouseup=function(){},(x.target===h.popup||x.target instanceof HTMLElement&&h.popup.contains(x.target))&&(Co=!0)}}},Ln=function(h,x,j){x.container.onclick=function(_e){Co?Co=!1:_e.target===x.container&&Ce(h.allowOutsideClick)&&j(yo.backdrop)}},gt=function(h){return h instanceof Element||function(h){return"object"===ae(h)&&h.jquery}(h)};var xo=function(){if(O.timeout)return function(){var h=pi();if(h){var x=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var j=parseInt(window.getComputedStyle(h).width);h.style.width="".concat(x/j*100,"%")}}(),O.timeout.stop()},Dn=function(){if(O.timeout){var h=O.timeout.start();return js(h),h}},Ko=!1,ql={};var Hn=function(h){for(var x=h.target;x&&x!==document;x=x.parentNode)for(var j in ql){var _e=x.getAttribute(j);if(_e)return void ql[j].fire({template:_e})}},Ra=Object.freeze({__proto__:null,argsToParams:function(h){var x={};return"object"!==ae(h[0])||gt(h[0])?["title","html","icon"].forEach(function(j,_e){var Ue=h[_e];"string"==typeof Ue||gt(Ue)?x[j]=Ue:void 0!==Ue&&Y("Unexpected type of ".concat(j,'! Expected "string" or "Element", got ').concat(ae(Ue)))}):Object.assign(x,h[0]),x},bindClickHandler:function Qo(){ql[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ko||(document.body.addEventListener("click",Hn),Ko=!0)},clickCancel:function(){var h;return null===(h=un())||void 0===h?void 0:h.click()},clickConfirm:Tt,clickDeny:function(){var h;return null===(h=Yt())||void 0===h?void 0:h.click()},enableLoading:Nr,fire:function Fr(){for(var h=arguments.length,x=new Array(h),j=0;j<h;j++)x[j]=arguments[j];return T(this,x)},getActions:Or,getCancelButton:un,getCloseButton:Xn,getConfirmButton:kn,getContainer:we,getDenyButton:Yt,getFocusableElements:De,getFooter:zo,getHtmlContainer:bt,getIcon:lt,getIconContent:function(){return qe(p["icon-content"])},getImage:ft,getInputLabel:function(){return qe(p["input-label"])},getLoader:vr,getPopup:Te,getProgressSteps:Jt,getTimerLeft:function(){return O.timeout&&O.timeout.getTimerLeft()},getTimerProgressBar:pi,getTitle:et,getValidationMessage:dn,increaseTimer:function(h){if(O.timeout){var x=O.timeout.increase(h);return js(x,!0),x}},isDeprecatedParameter:Mf,isLoading:function(){var h=Te();return!!h&&h.hasAttribute("data-loading")},isTimerRunning:function(){return!(!O.timeout||!O.timeout.isRunning())},isUpdatableParameter:Tf,isValidParameter:Sf,isVisible:function(){return dt(Te())},mixin:function Vi(H){var h=function(x){!function ce(H,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(h&&h.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),h&&Q(H,h)}(_e,x);var j=function U(H){var h=v();return function(){var _e,j=be(H);if(h){var Ue=be(this).constructor;_e=Reflect.construct(j,arguments,Ue)}else _e=j.apply(this,arguments);return A(this,_e)}}(_e);function _e(){return k(this,_e),j.apply(this,arguments)}return ve(_e,[{key:"_main",value:function(st,Lt){return E(be(_e.prototype),"_main",this).call(this,st,Object.assign({},H,Lt))}}]),_e}(this);return h},resumeTimer:Dn,showLoading:Nr,stopTimer:xo,toggleTimer:function(){var h=O.timeout;return h&&(h.running?xo():Dn())}}),Xo=function(){function H(h,x){k(this,H),this.callback=h,this.remaining=x,this.running=!1,this.start()}return ve(H,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(x){var j=this.running;return j&&this.stop(),this.remaining+=x,j&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),H}(),Br=["swal-title","swal-html","swal-footer"],Of=function(h){var x={};return Array.from(h.querySelectorAll("swal-param")).forEach(function(_e){rs(_e,["name","value"]);var Ue=_e.getAttribute("name"),st=_e.getAttribute("value");x[Ue]="boolean"==typeof Yo[Ue]?"false"!==st:"object"===ae(Yo[Ue])?JSON.parse(st):st}),x},Ks=function(h){var x={};return Array.from(h.querySelectorAll("swal-function-param")).forEach(function(_e){var Ue=_e.getAttribute("name"),st=_e.getAttribute("value");x[Ue]=new Function("return ".concat(st))()}),x},Yl=function(h){var x={};return Array.from(h.querySelectorAll("swal-button")).forEach(function(_e){rs(_e,["type","color","aria-label"]);var Ue=_e.getAttribute("type");x["".concat(Ue,"ButtonText")]=_e.innerHTML,x["show".concat(se(Ue),"Button")]=!0,_e.hasAttribute("color")&&(x["".concat(Ue,"ButtonColor")]=_e.getAttribute("color")),_e.hasAttribute("aria-label")&&(x["".concat(Ue,"ButtonAriaLabel")]=_e.getAttribute("aria-label"))}),x},Eo=function(h){var x={},j=h.querySelector("swal-image");return j&&(rs(j,["src","width","height","alt"]),j.hasAttribute("src")&&(x.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(x.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(x.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(x.imageAlt=j.getAttribute("alt"))),x},Rt=function(h){var x={},j=h.querySelector("swal-icon");return j&&(rs(j,["type","color"]),j.hasAttribute("type")&&(x.icon=j.getAttribute("type")),j.hasAttribute("color")&&(x.iconColor=j.getAttribute("color")),x.iconHtml=j.innerHTML),x},Yd=function(h){var x={},j=h.querySelector("swal-input");j&&(rs(j,["type","label","placeholder","value"]),x.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(x.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(x.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(x.inputValue=j.getAttribute("value")));var _e=Array.from(h.querySelectorAll("swal-input-option"));return _e.length&&(x.inputOptions={},_e.forEach(function(Ue){rs(Ue,["value"]);var st=Ue.getAttribute("value");x.inputOptions[st]=Ue.innerHTML})),x},Pa=function(h,x){var j={};for(var _e in x){var Ue=x[_e],st=h.querySelector(Ue);st&&(rs(st,[]),j[Ue.replace(/^swal-/,"")]=st.innerHTML.trim())}return j},is=function(h){var x=Br.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(j){var _e=j.tagName.toLowerCase();x.includes(_e)||he("Unrecognized element <".concat(_e,">"))})},rs=function(h,x){Array.from(h.attributes).forEach(function(j){-1===x.indexOf(j.name)&&he(['Unrecognized attribute "'.concat(j.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(x.length?"Allowed attributes are: ".concat(x.join(", ")):"To set the value, use HTML within the element.")])})},ni=function(h){var x=we(),j=Te();"function"==typeof h.willOpen&&h.willOpen(j);var Ue=window.getComputedStyle(document.body).overflowY;Qd(x,j,h),setTimeout(function(){Ui(x,j)},10),Se()&&(ji(x,h.scrollbarPadding,Ue),Array.from(document.body.children).forEach(function(x){x===we()||x.contains(we())||(x.hasAttribute("aria-hidden")&&x.setAttribute("data-previous-aria-hidden",x.getAttribute("aria-hidden")||""),x.setAttribute("aria-hidden","true"))})),!nt()&&!O.previousActiveElement&&(O.previousActiveElement=document.activeElement),"function"==typeof h.didOpen&&setTimeout(function(){return h.didOpen(j)}),Ki(x,p["no-transition"])},Kd=function H(h){var x=Te();if(h.target===x&&vo){var j=we();x.removeEventListener(vo,H),j.style.overflowY="auto"}},Ui=function(h,x){vo&&Le(x)?(h.style.overflowY="hidden",x.addEventListener(vo,Kd)):h.style.overflowY="auto"},ji=function(h,x,j){(function(){if(d_&&!Ct(document.body,p.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(-1*h,"px"),Bt(document.body,p.iosfix),Xe()}})(),x&&"hidden"!==j&&V1(j),setTimeout(function(){h.scrollTop=0})},Qd=function(h,x,j){Bt(h,j.showClass.backdrop),j.animation?(x.style.setProperty("opacity","0","important"),Zt(x,"grid"),setTimeout(function(){Bt(x,j.showClass.popup),x.style.removeProperty("opacity")},10)):Zt(x,"grid"),Bt([document.documentElement,document.body],p.shown),j.heightAuto&&j.backdrop&&!j.toast&&Bt([document.documentElement,document.body],p["height-auto"])},Qs={email:function(h,x){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(h)?Promise.resolve():Promise.resolve(x||"Invalid email address")},url:function(h,x){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(x||"Invalid URL")}};function Xd(H){(function Kl(H){H.inputValidator||("email"===H.input&&(H.inputValidator=Qs.email),"url"===H.input&&(H.inputValidator=Qs.url))})(H),H.showLoaderOnConfirm&&!H.preConfirm&&he("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Vr(H){(!H.target||"string"==typeof H.target&&!document.querySelector(H.target)||"string"!=typeof H.target&&!H.target.appendChild)&&(he('Target parameter is not valid, defaulting to "body"'),H.target="body")}(H),"string"==typeof H.title&&(H.title=H.title.split("\n").join("<br />")),i_(H)}var ss,Ql=new WeakMap,Gn=function(){function H(){if(k(this,H),J(this,Ql,{writable:!0,value:void 0}),!(typeof window>"u")){ss=this;for(var h=arguments.length,x=new Array(h),j=0;j<h;j++)x[j]=arguments[j];var _e=Object.freeze(this.constructor.argsToParams(x));this.params=_e,this.isAwaitingPromise=!1,Oe(this,Ql,this._main(ss.params))}}return ve(H,[{key:"_main",value:function(x){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(h){for(var x in!1===h.backdrop&&h.allowOutsideClick&&he('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),h)jt(x),h.toast&&w_(x),C_(x)}(Object.assign({},j,x)),O.currentInstance){var _e=bo.swalPromiseResolve.get(O.currentInstance),Ue=O.currentInstance.isAwaitingPromise;O.currentInstance._destroy(),Ue||_e({isDismissed:!0}),Se()&&pn()}O.currentInstance=ss;var st=A_(x,j);Xd(st),Object.freeze(st),O.timeout&&(O.timeout.stop(),delete O.timeout),clearTimeout(O.restoreFocusTimeout);var Lt=Zd(ss);return je(ss,st),mn.innerParams.set(ss,st),Rf(ss,Lt,st)}},{key:"then",value:function(x){return de(this,Ql).then(x)}},{key:"finally",value:function(x){return de(this,Ql).finally(x)}}]),H}(),Rf=function(h,x,j){return new Promise(function(_e,Ue){var st=function(zt){h.close({isDismissed:!0,dismiss:zt})};bo.swalPromiseResolve.set(h,_e),bo.swalPromiseReject.set(h,Ue),x.confirmButton.onclick=function(){!function(h){var x=mn.innerParams.get(h);h.disableButtons(),x.input?an(h,"confirm"):zl(h,!0)}(h)},x.denyButton.onclick=function(){!function(h){var x=mn.innerParams.get(h);h.disableButtons(),x.returnInputValueOnDeny?an(h,"deny"):$l(h,!1)}(h)},x.cancelButton.onclick=function(){!function(h,x){h.disableButtons(),x(yo.cancel)}(h,st)},x.closeButton.onclick=function(){st(yo.close)},function(h,x,j){h.toast?If(h,x,j):(x_(x),E_(x),Ln(h,x,j))}(j,x,st),function(h,x,j){ff(h),x.toast||(h.keydownHandler=function(_e){return c_(x,_e,j)},h.keydownTarget=x.keydownListenerCapture?window:Te(),h.keydownListenerCapture=x.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)}(O,j,st),function(h,x){"select"===x.input||"radio"===x.input?Hl(h,x):["text","email","number","tel","textarea"].some(function(j){return j===x.input})&&(xe(x.inputValue)||He(x.inputValue))&&(Nr(kn()),Hd(h,x))}(h,j),ni(j),H1(O,j,st),G1(x,j),setTimeout(function(){x.container.scrollTop=0})})},A_=function(h,x){var j=function(h){var x="string"==typeof h.template?document.querySelector(h.template):h.template;if(!x)return{};var j=x.content;return is(j),Object.assign(Of(j),Ks(j),Yl(j),Eo(j),Rt(j),Yd(j),Pa(j,Br))}(h),_e=Object.assign({},Yo,x,j,h);return _e.showClass=Object.assign({},Yo.showClass,_e.showClass),_e.hideClass=Object.assign({},Yo.hideClass,_e.hideClass),!1===_e.animation&&(_e.showClass={backdrop:"swal2-noanimation"},_e.hideClass={}),_e},Zd=function(h){var x={popup:Te(),container:we(),actions:Or(),confirmButton:kn(),denyButton:Yt(),cancelButton:un(),loader:vr(),closeButton:Xn(),validationMessage:dn(),progressSteps:Jt()};return mn.domCache.set(h,x),x},H1=function(h,x,j){var _e=pi();Jn(_e),x.timer&&(h.timeout=new Xo(function(){j("timer"),delete h.timeout},x.timer),x.timerProgressBar&&(Zt(_e),zn(_e,x,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&js(x.timer)})))},G1=function(h,x){if(!x.toast){if(!Ce(x.allowEnterKey))return void W1();$1(h,x)||qo(-1,1)}},$1=function(h,x){return x.focusDeny&&dt(h.denyButton)?(h.denyButton.focus(),!0):x.focusCancel&&dt(h.cancelButton)?(h.cancelButton.focus(),!0):!(!x.focusConfirm||!dt(h.confirmButton)||(h.confirmButton.focus(),0))},W1=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var D_=new Date,S_=localStorage.getItem("swal-initiation");S_?(D_.getTime()-Date.parse(S_))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var H=document.createElement("audio");H.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",H.loop=!0,document.body.appendChild(H),setTimeout(function(){H.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(D_))}Gn.prototype.disableButtons=xf,Gn.prototype.enableButtons=Cf,Gn.prototype.getInput=$d,Gn.prototype.disableInput=Ef,Gn.prototype.enableInput=wr,Gn.prototype.hideLoading=qs,Gn.prototype.disableLoading=qs,Gn.prototype.showValidationMessage=zd,Gn.prototype.resetValidationMessage=Af,Gn.prototype.close=wo,Gn.prototype.closePopup=wo,Gn.prototype.closeModal=wo,Gn.prototype.closeToast=wo,Gn.prototype.rejectPromise=jl,Gn.prototype.update=qd,Gn.prototype._destroy=Li,Object.assign(Gn,Ra),Object.keys(Ys).forEach(function(H){Gn[H]=function(){var h;return ss&&ss[H]?(h=ss)[H].apply(h,arguments):null}}),Gn.DismissReason=yo,Gn.version="11.10.1";var Jd=Gn;return Jd.default=Jd,Jd}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(I,ae){var k=I.createElement("style");if(I.getElementsByTagName("head")[0].appendChild(k),k.styleSheet)k.styleSheet.disabled||(k.styleSheet.cssText=ae);else try{k.innerHTML=ae}catch{k.innerText=ae}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:Pe=>{function I(k,q,ve,ce,be,Q,v){try{var T=k[Q](v),C=T.value}catch(A){return void ve(A)}T.done?q(C):Promise.resolve(C).then(ce,be)}Pe.exports=function ae(k){return function(){var q=this,ve=arguments;return new Promise(function(ce,be){var Q=k.apply(q,ve);function v(C){I(Q,ce,be,v,T,"next",C)}function T(C){I(Q,ce,be,v,T,"throw",C)}v(void 0)})}},Pe.exports.__esModule=!0,Pe.exports.default=Pe.exports},614:()=>{"use strict";const Pe=":";const ne=function(Y,...re){if(ne.translate){const pe=ne.translate(Y,re);Y=pe[0],re=pe[1]}let ue=he(Y[0],Y.raw[0]);for(let pe=1;pe<Y.length;pe++)ue+=re[pe-1]+he(Y[pe],Y.raw[pe]);return ue},se=":";function he(Y,re){return re.charAt(0)===se?Y.substring(function oe(Y,re){for(let ue=1,pe=1;ue<Y.length;ue++,pe++)if("\\"===re[pe])pe++;else if(Y[ue]===Pe)return ue;throw new Error(`Unterminated $localize metadata block in "${re}".`)}(Y,re)+1):Y}globalThis.$localize=ne}},Pe=>{var I=k=>Pe(Pe.s=k);I(614),I(331)}]);